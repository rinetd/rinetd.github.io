<!doctype html><html lang=zh-cn class=no-js><title>åæ¡æœ‰ç”¨çš„ GO æŠ€æœ¯</title><meta charset=utf-8><meta name=robots content=index,nofollow><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta http-equiv=x-dns-prefetch-control content=on><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content=origin-when-cross-origin><meta name=description content="## è¿è¡Œæ—¶æ£€æŸ¥æŸä¸ªç±»å‹Engine æ˜¯å¦å®ç°äº†æ¥å£IRouter I think the first part of your question has already been answered. As for the second part, the code var _ IRouter = &amp;Engine{} Creates a compile-time check that *Engine implements the IRouter interface. We are assigning a value of"><meta name=author content=rinetd><meta name=google-site-verification content=ifeWsnNpU7w8vP3ii_Cjq-P9LKw3ngVitnMWv4XmJqk><link rel=canonical href=../../../language/golang/_tips10/><link rel=icon href=../../../public/favicon.ico><link rel="shortcut icon" href=../../../public/favicon.ico><link rel=stylesheet href=../../../front/css/main.min.css><link href=https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet><link rel=stylesheet href=//cdn.bootcss.com/video.js/6.2.8/alt/video-js-cdn.min.css><body class="single single-post single-format-standard col-3cm full-width topbar-enabled chrome"><div id=wrapper><header id=header class="top-menu-mobile-on one-mobile-menu top_menu header-ads-desktop  topbar-transparent"><nav class="nav-container group mobile-menu mobile-sticky" id=nav-mobile data-menu-id=header-1><div class=mobile-title-logo-in-header><p class=site-title><a class=custom-logo-link href rel=home title="Pytool | Home">Pytool</a></div><div class="ham__navbar-toggler-two collapsed" title=Menu aria-expanded=false><div class=ham__navbar-span-wrapper><span class="line line-1"></span><span class="line line-2"></span><span class="line line-3"></span></div></div><div class=nav-text>åæ¡æœ‰ç”¨çš„ GO æŠ€æœ¯</div><div class="nav-wrap container"><ul class="nav container-inner group mobile-search"><li><form class="searchform themeform" action=https://demo-hueman.presscustomizr.com/><div><input class=search name=s onblur="if(this.value=='')this.value='To search type and hit enter';" onfocus="if(this.value=='To search type and hit enter')this.value='';" value="To search type and hit enter"></div></form></ul><ul id=menu-topbar-menu class="nav container-inner group"><li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home"><a href>Home</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../hardware/>Hardware</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/hisilicon/>Hisilicon</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/kernel/>Kernel</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/rtmp/>Rtmp</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/rk3399/>Rk3399</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/dts/>Dts</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/rk3288/>Rk3288</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/%E8%BD%A6%E8%81%94%E7%BD%91/>è½¦è”ç½‘</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/android-%E5%BA%95%E5%B1%82/>Android-åº•å±‚</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../linux/>Linux</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/cmd/>Cmd</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/shell/>Shell</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/nginx/>Nginx</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/ip/>Ip</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/git/>Git</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/haproxy/>Haproxy</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/lvs/>Lvs</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../macos/>Macos</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../ai/>Ai</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/caffe/>Caffe</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/yolo/>Yolo</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/math/>Math</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/ncnn/>Ncnn</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/dataset/>Dataset</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/pytorch/>Pytorch</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../frontend/>Frontend</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../frontend/css/>Css</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../frontend/vue/>Vue</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../devops/>Devops</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/docker/>Docker</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/elk/>Elk</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/ansible/>Ansible</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/prometheus/>Prometheus</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/drone/>Drone</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/kubernetes/>Kubernetes</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/oauth2/>OAuth2</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/etcd/>Etcd</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/apidoc/>Apidoc</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/>ç³»ç»Ÿç›‘æ§</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../database/>Database</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../database/mysql/>Mysql</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../database/mongo/>Mongo</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../database/redis/>Redis</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../windows/>Windows</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../language/>Language</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/clang/>Clang</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/golang/>Golang</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/golang/cgo/>Cgo</a><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/golang/hugo/>Hugo</a><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/golang/sys/>Sys</a><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/golang/goher/>Goher</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/cpp/>Cpp</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/python/>Python</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/python/scrapy/>Scrapy</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/java/>Java</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/java/hadoop/>Hadoop</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/awesome/>Awesome</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/php/>Php</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/php/magento/>Magento</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/android/>Android</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../hacker/>Hacker</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hacker/01_%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/>01_ç«¯å£æ‰«æ</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hacker/00_%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E9%9A%A7%E9%81%93/>00_ç«¯å£è½¬å‘(éš§é“)</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hacker/01-info-gather/>01-Info-Gather</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hacker/02-spoof/>02-Spoof</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hacker/shells/>Shells</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../work/>Work</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../weixin/>Weixin</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../edit/>Edit</a><li class=item><a class=text href=../../../series/>series</a><li class=item><a class=text href=../../../categories/>categories</a><li class=item><a class=text href=../../../tags/>tags</a><li class=item><a class=text href=../../../me/>about</a></ul></div></nav><nav class="nav-container group desktop-menu desktop-sticky" id=nav-topbar data-menu-id=header-2><div class=nav-text>åæ¡æœ‰ç”¨çš„ GO æŠ€æœ¯</div><div class=topbar-toggle-down><i class="fas fa-angle-double-down" aria-hidden=true data-toggle=down title="Expand menu"></i><i class="fas fa-angle-double-up" aria-hidden=true data-toggle=up title="Collapse menu"></i></div><div class="nav-wrap container"><ul id=menu-topbar-menu-1 class="nav container-inner group"><li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home"><a href=../../../>Home</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../hardware/>Hardware</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/hisilicon/>Hisilicon</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/kernel/>Kernel</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/rtmp/>Rtmp</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/rk3399/>Rk3399</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/dts/>Dts</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/rk3288/>Rk3288</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/%E8%BD%A6%E8%81%94%E7%BD%91/>è½¦è”ç½‘</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/android-%E5%BA%95%E5%B1%82/>Android-åº•å±‚</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../linux/>Linux</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/cmd/>Cmd</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/shell/>Shell</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/nginx/>Nginx</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/ip/>Ip</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/git/>Git</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/haproxy/>Haproxy</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/lvs/>Lvs</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../macos/>Macos</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../post/>Post</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/software/>Software</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/english/>English</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/seo/>Seo</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/life/>Life</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/wiki/>Wiki</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/basic/>Basic</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/reship/>Reship</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../ai/>Ai</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/caffe/>Caffe</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/yolo/>Yolo</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/math/>Math</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/ncnn/>Ncnn</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/dataset/>Dataset</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/pytorch/>Pytorch</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../frontend/>Frontend</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../frontend/css/>Css</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../frontend/vue/>Vue</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../devops/>Devops</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/docker/>Docker</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/elk/>Elk</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/ansible/>Ansible</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/prometheus/>Prometheus</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/drone/>Drone</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/kubernetes/>Kubernetes</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/oauth2/>OAuth2</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/etcd/>Etcd</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/apidoc/>Apidoc</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/>ç³»ç»Ÿç›‘æ§</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../database/>Database</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../database/mysql/>Mysql</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../database/mongo/>Mongo</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../database/redis/>Redis</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../windows/>Windows</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../language/>Language</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/clang/>Clang</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/golang/>Golang</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/cpp/>Cpp</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/python/>Python</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/java/>Java</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/awesome/>Awesome</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/php/>Php</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/android/>Android</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../hacker/>Hacker</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hacker/01_%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/>01_ç«¯å£æ‰«æ</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hacker/00_%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E9%9A%A7%E9%81%93/>00_ç«¯å£è½¬å‘(éš§é“)</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hacker/01-info-gather/>01-Info-Gather</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hacker/02-spoof/>02-Spoof</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hacker/shells/>Shells</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../work/>Work</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../weixin/>Weixin</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../edit/>Edit</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../series/>series</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../categories/>categories</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../tags/>tags</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../me/>about</a></ul></div></nav></header><div class=container id=page><div class=container-inner><div class=main><div class="main-inner group"><div class=content><div class="pad group page-title"><ul class="meta-single group"><li><span class="fa fa-folder-open"></span></ul></div><div class="pad group"><article class="post type-post status-publish format-standard has-post-thumbnail hentry category-lifestyle tag-classical-grid tag-masonry-grid tag-standard-list"><div class="post-inner group"><h1 class=post-title>åæ¡æœ‰ç”¨çš„ GO æŠ€æœ¯</h1><p class=post-byline>by Â· 2018å¹´03æœˆ31æ—¥ Â· 4380 Words Â·
~9min reading time |
<a href=https://gitlab.com/rinetd/blog/edit/master/language/golang/_tips10.md target=_blank>Improve on <i class="fa fa-gitlab"></i></a><div class=clear></div><div class="entry themeform"><div class=entry-inner></br>åŸæ–‡é“¾æ¥ï¼š<a target=_blank href=../../../language/golang/_tips10/> åæ¡æœ‰ç”¨çš„ GO æŠ€æœ¯</a><p>## è¿è¡Œæ—¶æ£€æŸ¥æŸä¸ªç±»å‹Engine æ˜¯å¦å®ç°äº†æ¥å£IRouter<p>I think the first part of your question has already been answered. As for the second part, the code<br><code>var _ IRouter = &amp;Engine{}</code><br>Creates a compile-time check that *Engine implements the <strong>IRouter interface</strong>. We are assigning a value of type *Engine to a variable that must be of the type IRouter. If a *Engine does not satisfy the interface then it won't compile.<p>This isn't strictly necessary but some people like to put it in where they define a type to ensure it always satisfies an intended interface.<h2 id=ç›´æ¥ç”¨å‡½æ•°å®ç°æ¥å£-ä»¥åŠ-æ˜¯å¦å®ç°æ­¤æ¥å£>ç›´æ¥ç”¨å‡½æ•°å®ç°æ¥å£ ä»¥åŠ æ˜¯å¦å®ç°æ­¤æ¥å£</h2><pre><code class=language-go>// 1. å®šä¹‰æ¥å£
type Handler interface {
		Do(int) error
	}
// 2. å®šä¹‰å‡½æ•°ç±»å‹
type HandlerFunc func(int) error
// 3. ç›´æ¥ç”¨å‡½æ•°å®ç°æ¥å£
func (f HandlerFunc) Do(i int) error {
	return f(i)
}
// 4. æ£€æŸ¥æ˜¯å¦å·²å®ç°Handleræ¥å£
var _ Handler = HandlerFunc(nil)
// Golangä¸­ä¸‹åˆ’çº¿â€œ_â€è¡¨ç¤ºå¿½ç•¥æ¥æ”¶åˆ°çš„å€¼ï¼›

</code></pre><h1 id=åæ¡æœ‰ç”¨çš„-go-æŠ€æœ¯>åæ¡æœ‰ç”¨çš„ Go æŠ€æœ¯</h1><p>è½¬è‡ª <a href=https://mikespook.com/2014/07/%E5%8D%81%E6%9D%A1%E6%9C%89%E7%94%A8%E7%9A%84-go-%E6%8A%80%E6%9C%AF/ target=_blank>mikespook.com</a><p>è¿™é‡Œæ˜¯æˆ‘è¿‡å»å‡ å¹´ä¸­ç¼–å†™çš„å¤§é‡ Go ä»£ç çš„ç»éªŒæ€»ç»“è€Œæ¥çš„è‡ªå·±çš„æœ€ä½³å®è·µã€‚æˆ‘ç›¸ä¿¡å®ƒä»¬å…·æœ‰å¼¹æ€§çš„ã€‚è¿™é‡Œçš„å¼¹æ€§æ˜¯æŒ‡ï¼š<br>æŸä¸ªåº”ç”¨éœ€è¦é€‚é…ä¸€ä¸ªçµæ´»çš„ç¯å¢ƒã€‚ä½ ä¸å¸Œæœ›æ¯è¿‡ 3 åˆ° 4 ä¸ªæœˆå°±ä¸å¾—ä¸å°†å®ƒä»¬å…¨éƒ¨é‡æ„ä¸€éã€‚æ·»åŠ æ–°çš„ç‰¹æ€§åº”å½“å¾ˆå®¹æ˜“ã€‚è®¸å¤šäººå‚ä¸å¼€å‘è¯¥åº”ç”¨ï¼Œå®ƒåº”å½“å¯ä»¥è¢«ç†è§£ï¼Œä¸”ç»´æŠ¤ç®€å•ã€‚è®¸å¤šäººä½¿ç”¨è¯¥åº”ç”¨ï¼Œbug åº”è¯¥å®¹æ˜“è¢«å‘ç°å¹¶ä¸”å¯ä»¥å¿«é€Ÿçš„ä¿®å¤ã€‚æˆ‘ç”¨äº†å¾ˆé•¿çš„æ—¶é—´å­¦åˆ°äº†è¿™äº›äº‹æƒ…ã€‚å…¶ä¸­çš„ä¸€äº›å¾ˆå¾®å°ï¼Œä½†å¯¹äºè®¸å¤šäº‹æƒ…éƒ½ä¼šæœ‰å½±å“ã€‚æ‰€æœ‰è¿™äº›éƒ½ä»…ä»…æ˜¯å»ºè®®ï¼Œå…·ä½“æƒ…å†µå…·ä½“å¯¹å¾…ï¼Œå¹¶ä¸”å¦‚æœæœ‰å¸®åŠ©çš„è¯åŠ¡å¿…å‘Šè¯‰æˆ‘ã€‚éšæ—¶ç•™è¨€:)<h2 id=1-ä½¿ç”¨å•ä¸€çš„-gopath>1. ä½¿ç”¨å•ä¸€çš„ GOPATH</h2><p>å¤šä¸ª GOPATH çš„æƒ…å†µå¹¶ä¸å…·æœ‰å¼¹æ€§ã€‚GOPATH æœ¬èº«å°±æ˜¯é«˜åº¦è‡ªæˆ‘å®Œå¤‡çš„ï¼ˆé€šè¿‡å¯¼å…¥è·¯å¾„ï¼‰ã€‚æœ‰å¤šä¸ª GOPATH ä¼šå¯¼è‡´æŸäº›å‰¯ä½œç”¨ï¼Œä¾‹å¦‚å¯èƒ½ä½¿ç”¨äº†ç»™å®šçš„åº“çš„ä¸åŒçš„ç‰ˆæœ¬ã€‚ä½ å¯èƒ½åœ¨æŸä¸ªåœ°æ–¹å‡çº§äº†å®ƒï¼Œä½†æ˜¯å…¶ä»–åœ°æ–¹å´æ²¡æœ‰å‡çº§ã€‚è€Œä¸”ï¼Œæˆ‘è¿˜æ²¡é‡åˆ°è¿‡ä»»ä½•ä¸€ä¸ªéœ€è¦ä½¿ç”¨å¤šä¸ª GOPATH çš„æƒ…å†µã€‚æ‰€ä»¥åªä½¿ç”¨å•ä¸€çš„ GOPATHï¼Œè¿™ä¼šæå‡ä½  Go çš„å¼€å‘è¿›åº¦ã€‚<p>è®¸å¤šäººä¸åŒæ„è¿™ä¸€è§‚ç‚¹ï¼Œæ¥ä¸‹æ¥æˆ‘ä¼šåšä¸€äº›æ¾„æ¸…ã€‚åƒ <a href=https://github.com/coreos/etcd target=_blank>etcd</a> æˆ– <a href=https://camlistore.org/ target=_blank>camlistore</a> è¿™æ ·çš„å¤§é¡¹ç›®ä½¿ç”¨äº†åƒ <a href=https://github.com/tools/godep target=_blank>godep</a> è¿™æ ·çš„å·¥å…·ï¼Œå°†æ‰€æœ‰ä¾èµ–ä¿å­˜åˆ°æŸä¸ªç›®å½•ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›é¡¹ç›®è‡ªèº«æœ‰ä¸€ä¸ªå•ä¸€çš„ GOPATHã€‚å®ƒä»¬åªèƒ½åœ¨è¿™ä¸ªç›®å½•é‡Œæ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬ã€‚é™¤éä½ çš„é¡¹ç›®å¾ˆå¤§å¹¶ä¸”æä¸ºé‡è¦ï¼Œå¦åˆ™ä¸è¦ä¸ºæ¯ä¸ªé¡¹ç›®ä½¿ç”¨ä¸åŒçš„ GOPATHã€‚å¦‚æœä½ è®¤ä¸ºé¡¹ç›®éœ€è¦ä¸€ä¸ªè‡ªå·±çš„ GOPATH ç›®å½•ï¼Œé‚£ä¹ˆå°±åˆ›å»ºå®ƒï¼Œå¦åˆ™ä¸è¦å°è¯•ä½¿ç”¨å¤šä¸ª GOPATHã€‚å®ƒåªä¼šæ‹–æ…¢ä½ çš„è¿›åº¦ã€‚<h2 id=2-å°†-for-select-å°è£…åˆ°å‡½æ•°ä¸­>2. å°† for-select å°è£…åˆ°å‡½æ•°ä¸­</h2><p>å¦‚æœåœ¨æŸä¸ªæ¡ä»¶ä¸‹ï¼Œä½ éœ€è¦ä» for-select ä¸­é€€å‡ºï¼Œå°±éœ€è¦ä½¿ç”¨æ ‡ç­¾ã€‚ä¾‹å¦‚ï¼š<pre><code class=language-go>func main() {

L:
    for {
        select {
        case &lt;-time.After(time.Second):
            fmt.Println(&quot;hello&quot;)
        default:
            break L
        }
    }

    fmt.Println(&quot;ending&quot;)
}
</code></pre><p>å¦‚ä½ æ‰€è§ï¼Œéœ€è¦è”åˆ<code>break</code>ä½¿ç”¨æ ‡ç­¾ã€‚è¿™æœ‰å…¶ç”¨é€”ï¼Œä¸è¿‡æˆ‘ä¸å–œæ¬¢ã€‚è¿™ä¸ªä¾‹å­ä¸­çš„ for å¾ªç¯çœ‹èµ·æ¥å¾ˆå°ï¼Œä½†æ˜¯é€šå¸¸å®ƒä»¬ä¼šæ›´å¤§ï¼Œè€Œåˆ¤æ–­<code>break</code>çš„æ¡ä»¶ä¹Ÿæ›´ä¸ºå†—é•¿ã€‚<p>å¦‚æœéœ€è¦é€€å‡ºå¾ªç¯ï¼Œæˆ‘ä¼šå°† for-select å°è£…åˆ°å‡½æ•°ä¸­ï¼š<pre><code class=language-go>func main() {
    loopwait()
    fmt.Println(&quot;ending&quot;)
}

func loopwait() {
    for {
        select {
        case &lt;-time.After(time.Second):
            fmt.Println(&quot;hello&quot;)
        default:
            return 
        }
    }
}
</code></pre><p>ä½ è¿˜å¯ä»¥è¿”å›ä¸€ä¸ªé”™è¯¯ï¼ˆæˆ–ä»»ä½•å…¶ä»–å€¼ï¼‰ï¼Œä¹Ÿæ˜¯åŒæ ·æ¼‚äº®çš„ï¼Œåªéœ€è¦ï¼š<pre><code class=language-go>// é˜»å¡
if err := foo(); err != nil {
    // å¤„ç† err
}
</code></pre><h2 id=3-åœ¨åˆå§‹åŒ–ç»“æ„ä½“æ—¶ä½¿ç”¨å¸¦æœ‰æ ‡ç­¾çš„è¯­æ³•>3. åœ¨åˆå§‹åŒ–ç»“æ„ä½“æ—¶ä½¿ç”¨å¸¦æœ‰æ ‡ç­¾çš„è¯­æ³•</h2><p>è¿™æ˜¯ä¸€ä¸ªæ— æ ‡ç­¾è¯­æ³•çš„ä¾‹å­ï¼š<pre><code class=language-go>type T struct {
    Foo string
    Bar int
}

func main() {
    t := T{&quot;example&quot;, 123} // æ— æ ‡ç­¾è¯­æ³•,å¿…é¡»åˆå§‹åŒ–å…¨éƒ¨å…ƒç´ 
    fmt.Printf(&quot;t %+v\n&quot;, t)
}
</code></pre><p>é‚£ä¹ˆå¦‚æœä½ æ·»åŠ ä¸€ä¸ªæ–°çš„å­—æ®µåˆ°<code>T</code>ç»“æ„ä½“ï¼Œä»£ç ä¼šç¼–è¯‘å¤±è´¥ï¼š<pre><code class=language-go>type T struct {
    Foo string
    Bar int
    Qux string
}

func main() {
    t := T{&quot;example&quot;, 123} // æ— æ³•ç¼–è¯‘
    fmt.Printf(&quot;t %+v\n&quot;, t)
}
</code></pre><p>å¦‚æœä½¿ç”¨äº†æ ‡ç­¾è¯­æ³•ï¼ŒGo çš„å…¼å®¹æ€§è§„åˆ™ï¼ˆ<a href=http://golang.org/doc/go1compat target=_blank>http://golang.org/doc/go1compat</a>ï¼‰ä¼šå¤„ç†ä»£ç ã€‚ä¾‹å¦‚åœ¨å‘<code>net</code>åŒ…çš„ç±»å‹æ·»åŠ å«åš<code>Zone</code>çš„å­—æ®µï¼Œå‚è§ï¼š<a href=http://golang.org/doc/go1.1#library target=_blank>http://golang.org/doc/go1.1#library</a>ã€‚å›åˆ°æˆ‘ä»¬çš„ä¾‹å­ï¼Œä½¿ç”¨æ ‡ç­¾è¯­æ³•ï¼š<pre><code class=language-go>type T struct {
    Foo string
    Bar int
    Qux string
}

func main() {
    t := T{Foo: &quot;example&quot;, Qux: 123}
    fmt.Printf(&quot;t %+v\n&quot;, t)
}
</code></pre><p>è¿™ä¸ªç¼–è¯‘èµ·æ¥æ²¡é—®é¢˜ï¼Œè€Œä¸”å¼¹æ€§ä¹Ÿå¥½ã€‚ä¸è®ºä½ å¦‚ä½•æ·»åŠ å…¶ä»–å­—æ®µåˆ°<code>T</code>ç»“æ„ä½“ã€‚ä½ çš„ä»£ç æ€»æ˜¯èƒ½ç¼–è¯‘ï¼Œå¹¶ä¸”åœ¨ä»¥åçš„ Go çš„ç‰ˆæœ¬ä¹Ÿå¯ä»¥ä¿è¯è¿™ä¸€ç‚¹ã€‚åªè¦åœ¨ä»£ç é›†ä¸­æ‰§è¡Œ<code>go vet</code>ï¼Œå°±å¯ä»¥å‘ç°æ‰€æœ‰çš„æ— æ ‡ç­¾çš„è¯­æ³•ã€‚<h2 id=4-å°†ç»“æ„ä½“çš„åˆå§‹åŒ–æ‹†åˆ†åˆ°å¤šè¡Œ>4. å°†ç»“æ„ä½“çš„åˆå§‹åŒ–æ‹†åˆ†åˆ°å¤šè¡Œ</h2><p>å¦‚æœæœ‰ä¸¤ä¸ªä»¥ä¸Šçš„å­—æ®µï¼Œé‚£ä¹ˆå°±ç”¨å¤šè¡Œã€‚å®ƒä¼šè®©ä½ çš„ä»£ç æ›´åŠ å®¹æ˜“é˜…è¯»ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸è¦ï¼š<pre><code class=language-go>T{Foo: &quot;example&quot;, Bar:someLongVariable, Qux:anotherLongVariable, B: forgetToAddThisToo}
</code></pre><p>è€Œæ˜¯ï¼š<pre><code class=language-go>T{
    Foo: &quot;example&quot;,
    Bar: someLongVariable,
    Qux: anotherLongVariable,
    B: forgetToAddThisToo,
}
</code></pre><p>è¿™æœ‰è®¸å¤šå¥½å¤„ï¼Œé¦–å…ˆå®ƒå®¹æ˜“é˜…è¯»ï¼Œå…¶æ¬¡å®ƒä½¿å¾—å…è®¸æˆ–å±è”½å­—æ®µåˆå§‹åŒ–å˜å¾—å®¹æ˜“ï¼ˆåªè¦æ³¨é‡Šæˆ–åˆ é™¤å®ƒä»¬ï¼‰ï¼Œæœ€åæ·»åŠ å…¶ä»–å­—æ®µä¹Ÿæ›´å®¹æ˜“ï¼ˆåªè¦æ·»åŠ ä¸€è¡Œï¼‰ã€‚<h2 id=5-ä¸ºæ•´æ•°å¸¸é‡æ·»åŠ -string-æ–¹æ³•>5. ä¸ºæ•´æ•°å¸¸é‡æ·»åŠ  String() æ–¹æ³•</h2><p>å¦‚æœä½ åˆ©ç”¨ iota æ¥ä½¿ç”¨è‡ªå®šä¹‰çš„æ•´æ•°æšä¸¾ç±»å‹ï¼ŒåŠ¡å¿…è¦ä¸ºå…¶æ·»åŠ  String() æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œåƒè¿™æ ·ï¼š<pre><code class=language-go>type State int

const (
    Running State = iota 
    Stopped
    Rebooting
    Terminated
)
</code></pre><p>å¦‚æœä½ åˆ›å»ºäº†è¿™ä¸ªç±»å‹çš„ä¸€ä¸ªå˜é‡ï¼Œç„¶åè¾“å‡ºï¼Œä¼šå¾—åˆ°ä¸€ä¸ªæ•´æ•°ï¼ˆ<a href=http://play.golang.org/p/V5VVFB05HB target=_blank>http://play.golang.org/p/V5VVFB05HB</a>ï¼‰ï¼š<pre><code class=language-go>func main() {
    state := Running
 
    // print: &quot;state 0&quot;
    fmt.Println(&quot;state &quot;, state)
}
</code></pre><p>é™¤éä½ å›é¡¾å¸¸é‡å®šä¹‰ï¼Œå¦åˆ™è¿™é‡Œçš„<code>0</code>çœ‹èµ·æ¥æ¯«æ— æ„ä¹‰ã€‚åªéœ€è¦ä¸º<code>State</code>ç±»å‹æ·»åŠ <code>String()</code>æ–¹æ³•å°±å¯ä»¥ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼ˆ<a href=http://play.golang.org/p/ewMKl6K302 target=_blank>http://play.golang.org/p/ewMKl6K302</a>ï¼‰ï¼š<pre><code class=language-go>func (s State) String() string {
    switch s {
    case Running:
        return &quot;Running&quot;
    case Stopped:
        return &quot;Stopped&quot;
    case Rebooting:
        return &quot;Rebooting&quot;
    case Terminated:
        return &quot;Terminated&quot;
    default:
        return &quot;Unknown&quot;
    }
}
</code></pre><p>æ–°çš„è¾“å‡ºæ˜¯ï¼š<code>state: Running</code>ã€‚æ˜¾ç„¶ç°åœ¨çœ‹èµ·æ¥å¯è¯»æ€§å¥½äº†å¾ˆå¤šã€‚åœ¨ä½ è°ƒè¯•ç¨‹åºçš„æ—¶å€™ï¼Œè¿™ä¼šå¸¦æ¥æ›´å¤šçš„ä¾¿åˆ©ã€‚åŒæ—¶è¿˜å¯ä»¥åœ¨å®ç° MarshalJSON()ã€UnmarshalJSON() è¿™ç±»æ–¹æ³•çš„æ—¶å€™ä½¿ç”¨åŒæ ·çš„æ‰‹æ®µã€‚<h2 id=6-è®©-iota-ä»-a-1-å¼€å§‹å¢é‡>6. è®© iota ä» a +1 å¼€å§‹å¢é‡</h2><p>åœ¨å‰é¢çš„ä¾‹å­ä¸­åŒæ—¶ä¹Ÿäº§ç”Ÿäº†ä¸€ä¸ªæˆ‘å·²ç»é‡åˆ°è¿‡è®¸å¤šæ¬¡çš„ bugã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ªæ–°çš„ç»“æ„ä½“ï¼Œæœ‰ä¸€ä¸ª<code>State</code>å­—æ®µï¼š<pre><code class=language-go>type T struct {
    Name  string
    Port  int
    State State
}
</code></pre><p>ç°åœ¨å¦‚æœåŸºäº T åˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡ï¼Œç„¶åè¾“å‡ºï¼Œä½ ä¼šå¾—åˆ°å¥‡æ€ªçš„ç»“æœï¼ˆ<a href=http://play.golang.org/p/LPG2RF3y39 target=_blank>http://play.golang.org/p/LPG2RF3y39</a>ï¼‰ï¼š<pre><code class=language-go>func main() {
    t := T{Name: &quot;example&quot;, Port: 6666}
 
    // prints: &quot;t {Name:example Port:6666 State:Running}&quot;
    fmt.Printf(&quot;t %+v\n&quot;, t)
}
</code></pre><p>çœ‹åˆ° bug äº†å—ï¼Ÿ<code>State</code>å­—æ®µæ²¡æœ‰åˆå§‹åŒ–ï¼ŒGo é»˜è®¤ä½¿ç”¨å¯¹åº”ç±»å‹çš„é›¶å€¼è¿›è¡Œå¡«å……ã€‚ç”±äº<code>State</code>æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œé›¶å€¼ä¹Ÿå°±æ˜¯<code>0</code>ï¼Œä½†åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­å®ƒè¡¨ç¤º<code>Running</code>ã€‚<p>é‚£ä¹ˆå¦‚ä½•çŸ¥é“ State è¢«åˆå§‹åŒ–äº†ï¼Ÿè¿˜æ˜¯å®ƒçœŸå¾—æ˜¯åœ¨<code>Running</code>æ¨¡å¼ï¼Ÿæ²¡æœ‰åŠæ³•åŒºåˆ†å®ƒä»¬ï¼Œé‚£ä¹ˆè¿™å°±ä¼šäº§ç”ŸæœªçŸ¥çš„ã€ä¸å¯é¢„æµ‹çš„ bugã€‚ä¸è¿‡ï¼Œä¿®å¤è¿™ä¸ªå¾ˆå®¹æ˜“ï¼Œåªè¦è®© iota ä» +1 å¼€å§‹ï¼ˆ<a href=http://play.golang.org/p/VyAq-3OItv target=_blank>http://play.golang.org/p/VyAq-3OItv</a>ï¼‰ï¼š<p>ç°åœ¨<code>t</code>å˜é‡å°†é»˜è®¤è¾“å‡º<code>Unknown</code>ï¼Œä¸æ˜¯å—ï¼Ÿ ğŸ™‚ ï¼š<pre><code class=language-go>func main() {
    t := T{Name: &quot;example&quot;, Port: 6666}
 
    // è¾“å‡ºï¼š &quot;t {Name:example Port:6666 State:Unknown}&quot;
    fmt.Printf(&quot;t %+v\n&quot;, t)
}
</code></pre><p>ä¸è¿‡è®© iota ä»é›¶å€¼å¼€å§‹ä¹Ÿæ˜¯ä¸€ç§è§£å†³åŠæ³•ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å¼•å…¥ä¸€ä¸ªæ–°çš„çŠ¶æ€å«åš<code>Unknown</code>ï¼Œå°†å…¶ä¿®æ”¹ä¸ºï¼š<pre><code class=language-go>const (
    Unknown State = iota
    Running
    Stopped
    Rebooting
    Terminated
)
</code></pre><h2 id=7-è¿”å›å‡½æ•°è°ƒç”¨>7. è¿”å›å‡½æ•°è°ƒç”¨</h2><p>æˆ‘å·²ç»çœ‹è¿‡å¾ˆå¤šä»£ç ä¾‹å¦‚ï¼ˆ<a href=http://play.golang.org/p/8Rz1EJwFTZ target=_blank>http://play.golang.org/p/8Rz1EJwFTZ</a>ï¼‰ï¼š<pre><code class=language-go>func bar() (string, error) {
    v, err := foo()
    if err != nil {
        return &quot;&quot;, err
    }
 
    return v, nil
}
</code></pre><p>ç„¶è€Œï¼Œä½ åªéœ€è¦ï¼š<pre><code class=language-go>func bar() (string, error) {
    return foo()
}
</code></pre><p>æ›´ç®€å•ä¹Ÿæ›´å®¹æ˜“é˜…è¯»ï¼ˆå½“ç„¶ï¼Œé™¤éä½ è¦å¯¹æŸäº›å†…éƒ¨çš„å€¼åšä¸€äº›è®°å½•ï¼‰ã€‚<h2 id=8-æŠŠ-slice-map-ç­‰å®šä¹‰ä¸ºè‡ªå®šä¹‰ç±»å‹>8. æŠŠ sliceã€map ç­‰å®šä¹‰ä¸ºè‡ªå®šä¹‰ç±»å‹</h2><p>å°† slice æˆ– map å®šä¹‰æˆè‡ªå®šä¹‰ç±»å‹å¯ä»¥è®©ä»£ç ç»´æŠ¤èµ·æ¥æ›´åŠ å®¹æ˜“ã€‚å‡è®¾æœ‰ä¸€ä¸ª<code>Server</code>ç±»å‹å’Œä¸€ä¸ªè¿”å›æœåŠ¡å™¨åˆ—è¡¨çš„å‡½æ•°ï¼š<pre><code class=language-go>type Server struct {
    Name string
}
 
func ListServers() []Server {
    return []Server{
        {Name: &quot;Server1&quot;},
        {Name: &quot;Server2&quot;},
        {Name: &quot;Foo1&quot;},
        {Name: &quot;Foo2&quot;},
    }
}
</code></pre><p>ç°åœ¨å‡è®¾éœ€è¦è·å–æŸäº›ç‰¹å®šåå­—çš„æœåŠ¡å™¨ã€‚éœ€è¦å¯¹ ListServers() åšä¸€äº›æ”¹åŠ¨ï¼Œå¢åŠ ç­›é€‰æ¡ä»¶ï¼š<pre><code class=language-go>// ListServers è¿”å›æœåŠ¡å™¨åˆ—è¡¨ã€‚åªä¼šè¿”å›åŒ…å« name çš„æœåŠ¡å™¨ã€‚ç©ºçš„ name å°†ä¼šè¿”å›æ‰€æœ‰æœåŠ¡å™¨ã€‚
func ListServers(name string) []Server {
    servers := []Server{
        {Name: &quot;Server1&quot;},
        {Name: &quot;Server2&quot;},
        {Name: &quot;Foo1&quot;},
        {Name: &quot;Foo2&quot;},
    }
 
    // è¿”å›æ‰€æœ‰æœåŠ¡å™¨
    if name == &quot;&quot; {
        return servers
    }
 
    // è¿”å›è¿‡æ»¤åçš„ç»“æœ
    filtered := make([]Server, 0)
 
    for _, server := range servers {
        if strings.Contains(server.Name, name) {
            filtered = append(filtered, server)
        }
    }
 
    return filtered
}
</code></pre><p>ç°åœ¨å¯ä»¥ç”¨è¿™ä¸ªæ¥ç­›é€‰æœ‰å­—ç¬¦ä¸²<code>Foo</code>çš„æœåŠ¡å™¨ï¼š<pre><code class=language-go>func main() {
    servers := ListServers(&quot;Foo&quot;)
 
    // è¾“å‡ºï¼šâ€œservers [{Name:Foo1} {Name:Foo2}]â€
    fmt.Printf(&quot;servers %+v\n&quot;, servers)
}
</code></pre><p>æ˜¾ç„¶è¿™ä¸ªå‡½æ•°èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚ä¸è¿‡å®ƒçš„å¼¹æ€§å¹¶ä¸å¥½ã€‚å¦‚æœä½ æƒ³å¯¹æœåŠ¡å™¨é›†åˆå¼•å…¥å…¶ä»–é€»è¾‘çš„è¯ä¼šå¦‚ä½•å‘¢ï¼Ÿä¾‹å¦‚æ£€æŸ¥æ‰€æœ‰æœåŠ¡å™¨çš„çŠ¶æ€ï¼Œä¸ºæ¯ä¸ªæœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªæ•°æ®åº“è®°å½•ï¼Œç”¨å…¶ä»–å­—æ®µè¿›è¡Œç­›é€‰ç­‰ç­‰â€¦â€¦<p>ç°åœ¨å¼•å…¥ä¸€ä¸ªå«åš<code>Servers</code>çš„æ–°ç±»å‹ï¼Œå¹¶ä¸”ä¿®æ”¹åŸå§‹ç‰ˆæœ¬çš„ ListServers() è¿”å›è¿™ä¸ªæ–°ç±»å‹ï¼š<pre><code class=language-go>type Servers []Server
 
// ListServers è¿”å›æœåŠ¡å™¨åˆ—è¡¨
func ListServers() Servers {
    return []Server{
        {Name: &quot;Server1&quot;},
        {Name: &quot;Server2&quot;},
        {Name: &quot;Foo1&quot;},
        {Name: &quot;Foo2&quot;},
    }
}
</code></pre><p>ç°åœ¨éœ€è¦åšçš„æ˜¯åªè¦ä¸º<code>Servers</code>ç±»å‹æ·»åŠ ä¸€ä¸ªæ–°çš„<code>Filter()</code>æ–¹æ³•ï¼š<pre><code class=language-go>// Filter è¿”å›åŒ…å« name çš„æœåŠ¡å™¨ã€‚ç©ºçš„ name å°†ä¼šè¿”å›æ‰€æœ‰æœåŠ¡å™¨ã€‚
func (s Servers) Filter(name string) Servers {
    filtered := make(Servers, 0)
 
    for _, server := range s {
        if strings.Contains(server.Name, name) {
            filtered = append(filtered, server)
        }
 
    }
 
    return filtered
}
</code></pre><p>ç°åœ¨å¯ä»¥é’ˆå¯¹å­—ç¬¦ä¸²<code>Foo</code>ç­›é€‰æœåŠ¡å™¨ï¼š<pre><code class=language-go>func main() {
    servers := ListServers()
    servers = servers.Filter(&quot;Foo&quot;)
    fmt.Printf(&quot;servers %+v\n&quot;, servers)
}
</code></pre><p>å“ˆï¼çœ‹åˆ°ä½ çš„ä»£ç æ˜¯å¤šä¹ˆçš„ç®€å•äº†å—ï¼Ÿè¿˜æƒ³å¯¹æœåŠ¡å™¨çš„çŠ¶æ€è¿›è¡Œæ£€æŸ¥ï¼Ÿæˆ–è€…ä¸ºæ¯ä¸ªæœåŠ¡å™¨æ·»åŠ ä¸€æ¡æ•°æ®åº“è®°å½•ï¼Ÿæ²¡é—®é¢˜ï¼Œæ·»åŠ ä»¥ä¸‹æ–°æ–¹æ³•å³å¯ï¼š<pre><code class=language-go>func (s Servers) Check()
func (s Servers) AddRecord()
func (s Servers) Len()
...
</code></pre><h2 id=9-withcontext-å°è£…å‡½æ•°>9. withContext å°è£…å‡½æ•°</h2><p>æœ‰æ—¶å¯¹äºå‡½æ•°ä¼šæœ‰ä¸€äº›é‡å¤åŠ³åŠ¨ï¼Œä¾‹å¦‚é”/è§£é”ï¼Œåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„å±€éƒ¨ä¸Šä¸‹æ–‡ï¼Œå‡†å¤‡åˆå§‹åŒ–å˜é‡ç­‰ç­‰â€¦â€¦è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼š<pre><code class=language-go>func foo() {
    mu.Lock()
    defer mu.Unlock()
 
    // foo ç›¸å…³çš„å·¥ä½œ
}
 
func bar() {
    mu.Lock()
    defer mu.Unlock()
 
    // bar ç›¸å…³çš„å·¥ä½œ
}
 
func qux() {
    mu.Lock()
    defer mu.Unlock()
 
    // qux ç›¸å…³çš„å·¥ä½œ
}
</code></pre><p>å¦‚æœä½ æƒ³è¦ä¿®æ”¹æŸä¸ªå†…å®¹ï¼Œä½ éœ€è¦å¯¹æ‰€æœ‰çš„éƒ½è¿›è¡Œä¿®æ”¹ã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ªå¸¸è§çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆæœ€å¥½åˆ›å»ºä¸€ä¸ªå«åš<code>withContext</code>çš„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„è¾“å…¥å‚æ•°æ˜¯å¦ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ç”¨è°ƒç”¨è€…æä¾›çš„ä¸Šä¸‹æ–‡æ¥è°ƒç”¨å®ƒï¼š<pre><code class=language-go>func withLockContext(fn func()) {
    mu.Lock
    defer mu.Unlock()
 
    fn()
}
</code></pre><p>åªéœ€è¦å°†ä¹‹å‰çš„å‡½æ•°ç”¨è¿™ä¸ªè¿›è¡Œå°è£…ï¼š<pre><code class=language-go>func foo() {
    withLockContext(func() {
        // foo ç›¸å…³å·¥ä½œ
    })
}
 
func bar() {
    withLockContext(func() {
        // bar ç›¸å…³å·¥ä½œ
    })
}
 
func qux() {
    withLockContext(func() {
        // qux ç›¸å…³å·¥ä½œ
    })
}
</code></pre><p>ä¸è¦å…‰æƒ³ç€åŠ é”çš„æƒ…å½¢ã€‚å¯¹æ­¤æ¥è¯´æœ€å¥½çš„ç”¨ä¾‹æ˜¯æ•°æ®åº“é“¾æ¥ã€‚ç°åœ¨å¯¹ withContext å‡½æ•°ä½œä¸€äº›å°å°çš„æ”¹åŠ¨ï¼š<pre><code class=language-go>func withDBContext(fn func(db DB) error) error {
    // ä»è¿æ¥æ± è·å–ä¸€ä¸ªæ•°æ®åº“è¿æ¥
    dbConn := NewDB()
 
    return fn(dbConn)
}
</code></pre><p>å¦‚ä½ æ‰€è§ï¼Œå®ƒè·å–ä¸€ä¸ªè¿æ¥ï¼Œç„¶åä¼ é€’ç»™æä¾›çš„å‚æ•°ï¼Œå¹¶ä¸”åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™è¿”å›é”™è¯¯ã€‚ä½ éœ€è¦åšçš„åªæ˜¯ï¼š<pre><code class=language-go>func foo() {
    withDBContext(func(db *DB) error {
        // foo ç›¸å…³å·¥ä½œ
    })
}
 
func bar() {
    withDBContext(func(db *DB) error {
        // bar ç›¸å…³å·¥ä½œ
    })
}
 
func qux() {
    withDBContext(func(db *DB) error {
        // qux ç›¸å…³å·¥ä½œ
    })
}
</code></pre><p>ä½ åœ¨è€ƒè™‘ä¸€ä¸ªä¸åŒçš„åœºæ™¯ï¼Œä¾‹å¦‚ä½œä¸€äº›é¢„åˆå§‹åŒ–ï¼Ÿæ²¡é—®é¢˜ï¼Œåªéœ€è¦å°†å®ƒä»¬åŠ åˆ°<code>withDBContext</code>å°±å¯ä»¥äº†ã€‚è¿™å¯¹äºæµ‹è¯•ä¹ŸåŒæ ·æœ‰æ•ˆã€‚<p>è¿™ä¸ªæ–¹æ³•æœ‰ä¸ªç¼ºé™·ï¼Œå®ƒå¢åŠ äº†ç¼©è¿›å¹¶ä¸”æ›´éš¾é˜…è¯»ã€‚å†æ¬¡æç¤ºï¼Œæ°¸è¿œå¯»æ‰¾æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆã€‚<h2 id=10-ä¸ºè®¿é—®-map-å¢åŠ -setter-getters>10. ä¸ºè®¿é—® map å¢åŠ  setterï¼Œgetters</h2><p>å¦‚æœä½ é‡åº¦ä½¿ç”¨ map è¯»å†™æ•°æ®ï¼Œé‚£ä¹ˆå°±ä¸ºå…¶æ·»åŠ  getter å’Œ setter å§ã€‚é€šè¿‡ getter å’Œ setter ä½ å¯ä»¥å°†é€»è¾‘å°åˆ†åˆ«è£…åˆ°å‡½æ•°é‡Œã€‚è¿™é‡Œæœ€å¸¸è§çš„é”™è¯¯å°±æ˜¯å¹¶å‘è®¿é—®ã€‚å¦‚æœä½ åœ¨æŸä¸ª goroutein é‡Œæœ‰è¿™æ ·çš„ä»£ç ï¼š<pre><code class=language-go>m[&quot;foo&quot;] = bar
</code></pre><p>è¿˜æœ‰è¿™ä¸ªï¼š<pre><code class=language-go>delete(m, &quot;foo&quot;)
</code></pre><p>ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿä½ ä»¬ä¸­çš„å¤§å¤šæ•°åº”å½“å·²ç»éå¸¸ç†Ÿæ‚‰è¿™æ ·çš„ç«æ€äº†ã€‚ç®€å•æ¥è¯´è¿™ä¸ªç«æ€æ˜¯ç”±äº map é»˜è®¤å¹¶éçº¿ç¨‹å®‰å…¨ã€‚ä¸è¿‡ä½ å¯ä»¥ç”¨äº’æ–¥é‡æ¥ä¿æŠ¤å®ƒä»¬ï¼š<pre><code class=language-Go>mu.Lock()
m[&quot;foo&quot;] = &quot;bar&quot;
mu.Unlock()
</code></pre><p>ä»¥åŠï¼š<pre><code class=language-go>mu.Lock()
delete(m, &quot;foo&quot;)
mu.Unlock()
</code></pre><p>å‡è®¾ä½ åœ¨å…¶ä»–åœ°æ–¹ä¹Ÿä½¿ç”¨è¿™ä¸ª mapã€‚ä½ å¿…é¡»æŠŠäº’æ–¥é‡æ”¾å¾—åˆ°å¤„éƒ½æ˜¯ï¼ç„¶è€Œé€šè¿‡ getter å’Œ setter å‡½æ•°å°±å¯ä»¥å¾ˆå®¹æ˜“çš„é¿å…è¿™ä¸ªé—®é¢˜ï¼š<pre><code class=language-go>func Put(key, value string) {
    mu.Lock()
    m[key] = value
    mu.Unlock()
}
func Delete(key string) {
    mu.Lock()
    delete(m, key)
    mu.Unlock()
}
</code></pre><p>ä½¿ç”¨æ¥å£å¯ä»¥å¯¹è¿™ä¸€è¿‡ç¨‹åšè¿›ä¸€æ­¥çš„æ”¹è¿›ã€‚ä½ å¯ä»¥å°†å®ç°å®Œå…¨éšè—èµ·æ¥ã€‚åªä½¿ç”¨ä¸€ä¸ªç®€å•çš„ã€è®¾è®¡è‰¯å¥½çš„æ¥å£ï¼Œç„¶åè®©åŒ…çš„ç”¨æˆ·ä½¿ç”¨å®ƒä»¬ï¼š<pre><code class=language-go>type Storage interface {
    Delete(key string)
    Get(key string) string
    Put(key, value string)
}
</code></pre><p>è¿™åªæ˜¯ä¸ªä¾‹å­ï¼Œä¸è¿‡ä½ åº”è¯¥èƒ½ä½“ä¼šåˆ°ã€‚å¯¹äºåº•å±‚çš„å®ç°ä½¿ç”¨ä»€ä¹ˆéƒ½æ²¡å…³ç³»ã€‚ä¸å…‰æ˜¯ä½¿ç”¨æ¥å£æœ¬èº«å¾ˆç®€å•ï¼Œè€Œä¸”è¿˜è§£å†³äº†æš´éœ²å†…éƒ¨æ•°æ®ç»“æ„å¸¦æ¥çš„å¤§é‡çš„é—®é¢˜ã€‚<p>ä½†æ˜¯å¾—æ‰¿è®¤ï¼Œæœ‰æ—¶åªæ˜¯ä¸ºäº†åŒæ—¶å¯¹è‹¥å¹²ä¸ªå˜é‡åŠ é”å°±ä½¿ç”¨æ¥å£ä¼šæœ‰äº›è¿‡åˆ†ã€‚ç†è§£ä½ çš„ç¨‹åºï¼Œå¹¶ä¸”åœ¨ä½ éœ€è¦çš„æ—¶å€™ä½¿ç”¨è¿™äº›æ”¹è¿›ã€‚<h2 id=æ€»ç»“>æ€»ç»“</h2><p>æŠ½è±¡æ°¸è¿œéƒ½ä¸æ˜¯å®¹æ˜“çš„äº‹æƒ…ã€‚æœ‰æ—¶ï¼Œæœ€ç®€å•çš„å°±æ˜¯ä½ å·²ç»å®ç°çš„æ–¹æ³•ã€‚è¦çŸ¥é“ï¼Œä¸è¦è®©ä½ çš„ä»£ç çœ‹èµ·æ¥å¾ˆèªæ˜ã€‚Go å¤©ç”Ÿå°±æ˜¯ä¸ªç®€å•çš„è¯­è¨€ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹åªä¼šæœ‰ä¸€ç§æ–¹æ³•æ¥ä½œæŸäº‹ã€‚ç®€å•æ˜¯åŠ›é‡çš„æºæ³‰ï¼Œä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨äººçš„å±‚é¢å®ƒè¡¨ç°çš„å¦‚æ­¤æœ‰å¼¹æ€§ã€‚<p>å¦‚æœå¿…è¦çš„è¯ï¼Œä½¿ç”¨è¿™äº›åŸºæ•°ã€‚ä¾‹å¦‚å°†<code>[]Server</code>è½¬åŒ–ä¸º<code>Servers</code>æ˜¯å¦ä¸€ç§æŠ½è±¡ï¼Œä»…åœ¨ä½ æœ‰ä¸€ä¸ªåˆç†çš„ç†ç”±çš„æƒ…å†µä¸‹è¿™ä¹ˆåšã€‚ä¸è¿‡æœ‰ä¸€äº›æŠ€æœ¯ï¼Œå¦‚ iota ä» 1 å¼€å§‹è®¡æ•°æ€»æ˜¯æœ‰ç”¨çš„ã€‚å†æ¬¡æé†’ï¼Œæ°¸è¿œä¿æŒç®€å•ã€‚<p>ç‰¹åˆ«æ„Ÿè°¢ Cihangir Savasã€Andrew Gerrandã€Ben Johnson å’Œ Damian Gryski æä¾›çš„æå…·ä»·å€¼çš„åé¦ˆå’Œå»ºè®®ã€‚</div><div class=clear></div></div></div></article><div class=clear></div><p class=post-tags><span class="fa fa-tags">Tags:</span>
<a rel=tag href=../../../tags/golang>golang</a><div id=related-posts><div class=related-inner></div></div><section id=comments class=themeform></section><section id=comments class=themeform></section></div></div><div class="sidebar s1 collapsed" data-position=left data-layout=col-3cm data-sb-id=s1><a class=sidebar-toggle title="Expand Sidebar"><i class="fas icon-sidebar-toggle"></i></a><div class=sidebar-content><div class="sidebar-top group"><p>Follow:<ul class=social-links><li><a class=social-tooltip href=mailto: title=Email><i class="fa fa-envelope"></i></a><li><a class=social-tooltip href=//github.com/ title=GitHub><i class="fa fa-github"></i></a><li><a class=social-tooltip title="RSS Feed" aria-label="RSS Feed" href=../../../feed target=_blank style=color:#ffffffb2><i class="fa fa-rss"></i></a></ul></div><ul class="post-nav group"><li class=previous><a href=../../../language/golang/go-blackmagic/ rel=prev><i class="fa fa-chevron-left"></i><strong>Previous Post</strong>
<span>Goè¯­è¨€é»‘é­”æ³•</span></a></ul><div id=categories-2 class="widget widget_categories"><h3>åˆ†ç±»</h3><ul><li class="cat-item cat-item-1"><a href=../../../categories/ai/>Ai</a>
<small>(7)</small><li class="cat-item cat-item-1"><a href=../../../categories/algorithm/>Algorithm</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/android/>Android</a>
<small>(17)</small><li class="cat-item cat-item-1"><a href=../../../categories/ansible/>Ansible</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/beats/>Beats</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/busybox/>Busybox</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/caffe/>Caffe</a>
<small>(21)</small><li class="cat-item cat-item-1"><a href=../../../categories/cgo/>Cgo</a>
<small>(10)</small><li class="cat-item cat-item-1"><a href=../../../categories/clang/>Clang</a>
<small>(20)</small><li class="cat-item cat-item-1"><a href=../../../categories/cmd/>Cmd</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/cpp/>Cpp</a>
<small>(6)</small><li class="cat-item cat-item-1"><a href=../../../categories/cross_compile/>Cross_compile</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../categories/css/>Css</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/dart/>Dart</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/database/>Database</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/dataset/>Dataset</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/deeplearning/>Deeplearning</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/devops/>Devops</a>
<small>(70)</small><li class="cat-item cat-item-1"><a href=../../../categories/docker/>Docker</a>
<small>(18)</small><li class="cat-item cat-item-1"><a href=../../../categories/dts/>Dts</a>
<small>(5)</small><li class="cat-item cat-item-1"><a href=../../../categories/elasticsearch/>Elasticsearch</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../categories/english/>English</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/freertos/>Freertos</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/front-end/>Front-End</a>
<small>(20)</small><li class="cat-item cat-item-1"><a href=../../../categories/golang/>Golang</a>
<small>(135)</small><li class="cat-item cat-item-1"><a href=../../../categories/hacker/>Hacker</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/hardware/>Hardware</a>
<small>(14)</small><li class="cat-item cat-item-1"><a href=../../../categories/hi3559/>Hi3559</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/hisi/>Hisi</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/hisilicon/>Hisilicon</a>
<small>(46)</small><li class="cat-item cat-item-1"><a href=../../../categories/jetson/>Jetson</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/js/>Js</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../categories/jumpserver/>Jumpserver</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/kernel/>Kernel</a>
<small>(14)</small><li class="cat-item cat-item-1"><a href=../../../categories/linux/>Linux</a>
<small>(94)</small><li class="cat-item cat-item-1"><a href=../../../categories/linux-%E5%91%BD%E4%BB%A4/>Linux-å‘½ä»¤</a>
<small>(120)</small><li class="cat-item cat-item-1"><a href=../../../categories/mac/>Mac</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/machinelearn/>Machinelearn</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/machinelearning/>Machinelearning</a>
<small>(11)</small><li class="cat-item cat-item-1"><a href=../../../categories/macos/>Macos</a>
<small>(12)</small><li class="cat-item cat-item-1"><a href=../../../categories/math/>Math</a>
<small>(7)</small><li class="cat-item cat-item-1"><a href=../../../categories/matplotlib/>Matplotlib</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/mpp/>Mpp</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../categories/mysql/>Mysql</a>
<small>(10)</small><li class="cat-item cat-item-1"><a href=../../../categories/ncnn/>Ncnn</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/network/>Network</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/nginx/>Nginx</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/nnie/>Nnie</a>
<small>(11)</small><li class="cat-item cat-item-1"><a href=../../../categories/node/>Node</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/numpy/>Numpy</a>
<small>(4)</small><li class="cat-item cat-item-1"><a href=../../../categories/opencv/>Opencv</a>
<small>(10)</small><li class="cat-item cat-item-1"><a href=../../../categories/pandas/>Pandas</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/platform/>Platform</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/post/>Post</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/pyqt/>Pyqt</a>
<small>(8)</small><li class="cat-item cat-item-1"><a href=../../../categories/python/>Python</a>
<small>(30)</small><li class="cat-item cat-item-1"><a href=../../../categories/pytorch/>Pytorch</a>
<small>(6)</small><li class="cat-item cat-item-1"><a href=../../../categories/raspi/>Raspi</a>
<small>(4)</small><li class="cat-item cat-item-1"><a href=../../../categories/rk3288/>Rk3288</a>
<small>(23)</small><li class="cat-item cat-item-1"><a href=../../../categories/rk3399/>Rk3399</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../categories/rtmp/>Rtmp</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/scikit/>Scikit</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/shell/>Shell</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/stm32/>Stm32</a>
<small>(6)</small><li class="cat-item cat-item-1"><a href=../../../categories/stm8/>Stm8</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/tool/>Tool</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/weixin/>Weixin</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/windows/>Windows</a>
<small>(22)</small><li class="cat-item cat-item-1"><a href=../../../categories/work/>Work</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/yolo/>Yolo</a>
<small>(12)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/>å‰ç«¯æŠ€æœ¯</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%8D%8F%E8%AE%AE/>åè®®</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/>åµŒå…¥å¼</a>
<small>(23)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%B7%A5%E5%85%B7/>å·¥å…·</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95/>å¸¸ç”¨ç®—æ³•</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/>å¾®æœåŠ¡</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88/>æ’åˆ—ç»„åˆ</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E6%95%B0%E6%8D%AE%E5%BA%93/>æ•°æ®åº“</a>
<small>(37)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91/>æ–‡æœ¬ç¼–è¾‘</a>
<small>(30)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/>æ­£åˆ™è¡¨è¾¾å¼</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E7%94%9F%E6%B4%BB%E6%8A%80%E5%B7%A7/>ç”Ÿæ´»æŠ€å·§</a>
<small>(4)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E7%A8%8B%E5%BA%8F%E5%91%98/>ç¨‹åºå‘˜</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/>ç½‘ç»œå®‰å…¨</a>
<small>(40)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E9%9B%86%E7%BE%A4%E7%9B%91%E6%8E%A7/>é›†ç¾¤ç›‘æ§</a>
<small>(7)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/>é™æ€åšå®¢</a>
<small>(15)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E9%AB%98%E6%95%B0/>é«˜æ•°</a>
<small>(2)</small></ul></div></div></div><div class="sidebar s2 collapsed" data-position=right data-layout=col-3cm data-sb-id=s2><a class=sidebar-toggle title="Expand Sidebar"><i class="fas icon-sidebar-toggle"></i></a><div class=sidebar-content><div class="sidebar-top group"><p>More</div><ul class="post-nav group"><li class=next><a href=../../../language/golang/go-closure/ rel=next><i class="fa fa-chevron-right"></i><strong>Next post</strong>
<span>Golang for...rangeå’Œé—­åŒ…Closure</span></a></ul><div id=tag_cloud-2 class="widget widget_tag_cloud"><h3>æ ‡ç­¾äº‘</h3><div class="tagcloud post-tags"><a rel=tag href=../../../tags/ai/ class=tag-link-7 title="1 Posts">ai<small>(7)</small></a>
<a rel=tag href=../../../tags/ansible/ class=tag-link-19 title="1 Posts">ansible<small>(19)</small></a>
<a rel=tag href=../../../tags/awesome/ class=tag-link-3 title="1 Posts">awesome<small>(3)</small></a>
<a rel=tag href=../../../tags/bfc/ class=tag-link-2 title="1 Posts">bfc<small>(2)</small></a>
<a rel=tag href=../../../tags/c/ class=tag-link-5 title="1 Posts">c<small>(5)</small></a>
<a rel=tag href=../../../tags/caffe/ class=tag-link-21 title="1 Posts">caffe<small>(21)</small></a>
<a rel=tag href=../../../tags/centos7/ class=tag-link-2 title="1 Posts">centos7<small>(2)</small></a>
<a rel=tag href=../../../tags/cgo/ class=tag-link-10 title="1 Posts">cgo<small>(10)</small></a>
<a rel=tag href=../../../tags/clang/ class=tag-link-20 title="1 Posts">clang<small>(20)</small></a>
<a rel=tag href=../../../tags/cmd/ class=tag-link-2 title="1 Posts">cmd<small>(2)</small></a>
<a rel=tag href=../../../tags/cpp/ class=tag-link-6 title="1 Posts">cpp<small>(6)</small></a>
<a rel=tag href=../../../tags/cross_compile/ class=tag-link-9 title="1 Posts">cross_compile<small>(9)</small></a>
<a rel=tag href=../../../tags/css/ class=tag-link-20 title="1 Posts">css<small>(20)</small></a>
<a rel=tag href=../../../tags/css3/ class=tag-link-2 title="1 Posts">css3<small>(2)</small></a>
<a rel=tag href=../../../tags/curd/ class=tag-link-3 title="1 Posts">curd<small>(3)</small></a>
<a rel=tag href=../../../tags/curl/ class=tag-link-2 title="1 Posts">curl<small>(2)</small></a>
<a rel=tag href=../../../tags/dataset/ class=tag-link-2 title="1 Posts">dataset<small>(2)</small></a>
<a rel=tag href=../../../tags/devops/ class=tag-link-3 title="1 Posts">devops<small>(3)</small></a>
<a rel=tag href=../../../tags/docker/ class=tag-link-21 title="1 Posts">docker<small>(21)</small></a>
<a rel=tag href=../../../tags/drone/ class=tag-link-22 title="1 Posts">drone<small>(22)</small></a>
<a rel=tag href=../../../tags/dts/ class=tag-link-6 title="1 Posts">dts<small>(6)</small></a>
<a rel=tag href=../../../tags/elasticsearch/ class=tag-link-9 title="1 Posts">elasticsearch<small>(9)</small></a>
<a rel=tag href=../../../tags/emacs/ class=tag-link-12 title="1 Posts">emacs<small>(12)</small></a>
<a rel=tag href=../../../tags/encode/ class=tag-link-3 title="1 Posts">encode<small>(3)</small></a>
<a rel=tag href=../../../tags/english/ class=tag-link-8 title="1 Posts">english<small>(8)</small></a>
<a rel=tag href=../../../tags/es6/ class=tag-link-2 title="1 Posts">es6<small>(2)</small></a>
<a rel=tag href=../../../tags/etcd/ class=tag-link-4 title="1 Posts">etcd<small>(4)</small></a>
<a rel=tag href=../../../tags/flannel/ class=tag-link-2 title="1 Posts">flannel<small>(2)</small></a>
<a rel=tag href=../../../tags/git/ class=tag-link-6 title="1 Posts">git<small>(6)</small></a>
<a rel=tag href=../../../tags/github/ class=tag-link-2 title="1 Posts">github<small>(2)</small></a>
<a rel=tag href=../../../tags/golang/ class=tag-link-149 title="1 Posts">golang<small>(149)</small></a>
<a rel=tag href=../../../tags/gradle/ class=tag-link-3 title="1 Posts">gradle<small>(3)</small></a>
<a rel=tag href=../../../tags/haproxy/ class=tag-link-5 title="1 Posts">haproxy<small>(5)</small></a>
<a rel=tag href=../../../tags/hardware/ class=tag-link-14 title="1 Posts">hardware<small>(14)</small></a>
<a rel=tag href=../../../tags/hexo/ class=tag-link-3 title="1 Posts">hexo<small>(3)</small></a>
<a rel=tag href=../../../tags/hisilicon/ class=tag-link-46 title="1 Posts">hisilicon<small>(46)</small></a>
<a rel=tag href=../../../tags/html/ class=tag-link-2 title="1 Posts">html<small>(2)</small></a>
<a rel=tag href=../../../tags/http/ class=tag-link-6 title="1 Posts">http<small>(6)</small></a>
<a rel=tag href=../../../tags/hugo/ class=tag-link-14 title="1 Posts">hugo<small>(14)</small></a>
<a rel=tag href=../../../tags/imagemagick/ class=tag-link-2 title="1 Posts">imagemagick<small>(2)</small></a>
<a rel=tag href=../../../tags/ip/ class=tag-link-3 title="1 Posts">ip<small>(3)</small></a>
<a rel=tag href=../../../tags/iproute2/ class=tag-link-5 title="1 Posts">iproute2<small>(5)</small></a>
<a rel=tag href=../../../tags/iptables/ class=tag-link-17 title="1 Posts">iptables<small>(17)</small></a>
<a rel=tag href=../../../tags/javascript/ class=tag-link-19 title="1 Posts">javascript<small>(19)</small></a>
<a rel=tag href=../../../tags/jetson/ class=tag-link-3 title="1 Posts">jetson<small>(3)</small></a>
<a rel=tag href=../../../tags/jquery/ class=tag-link-12 title="1 Posts">jquery<small>(12)</small></a>
<a rel=tag href=../../../tags/js/ class=tag-link-10 title="1 Posts">js<small>(10)</small></a>
<a rel=tag href=../../../tags/jumpserver/ class=tag-link-2 title="1 Posts">jumpserver<small>(2)</small></a>
<a rel=tag href=../../../tags/jwt/ class=tag-link-3 title="1 Posts">jwt<small>(3)</small></a>
<a rel=tag href=../../../tags/kernel/ class=tag-link-14 title="1 Posts">kernel<small>(14)</small></a>
<a rel=tag href=../../../tags/kubernetes/ class=tag-link-11 title="1 Posts">kubernetes<small>(11)</small></a>
<a rel=tag href=../../../tags/linux/ class=tag-link-22 title="1 Posts">linux<small>(22)</small></a>
<a rel=tag href=../../../tags/lvs/ class=tag-link-8 title="1 Posts">lvs<small>(8)</small></a>
<a rel=tag href=../../../tags/machinelearn/ class=tag-link-3 title="1 Posts">machinelearn<small>(3)</small></a>
<a rel=tag href=../../../tags/machinelearning/ class=tag-link-11 title="1 Posts">machinelearning<small>(11)</small></a>
<a rel=tag href=../../../tags/macos/ class=tag-link-14 title="1 Posts">macos<small>(14)</small></a>
<a rel=tag href=../../../tags/makefile/ class=tag-link-2 title="1 Posts">makefile<small>(2)</small></a>
<a rel=tag href=../../../tags/mariadb/ class=tag-link-9 title="1 Posts">mariadb<small>(9)</small></a>
<a rel=tag href=../../../tags/math/ class=tag-link-7 title="1 Posts">math<small>(7)</small></a>
<a rel=tag href=../../../tags/matplotlib/ class=tag-link-3 title="1 Posts">matplotlib<small>(3)</small></a>
<a rel=tag href=../../../tags/maven/ class=tag-link-2 title="1 Posts">maven<small>(2)</small></a>
<a rel=tag href=../../../tags/meteor/ class=tag-link-7 title="1 Posts">meteor<small>(7)</small></a>
<a rel=tag href=../../../tags/ml/ class=tag-link-3 title="1 Posts">ml<small>(3)</small></a>
<a rel=tag href=../../../tags/mpp/ class=tag-link-9 title="1 Posts">mpp<small>(9)</small></a>
<a rel=tag href=../../../tags/mysql/ class=tag-link-61 title="1 Posts">mysql<small>(61)</small></a>
<a rel=tag href=../../../tags/ncnn/ class=tag-link-3 title="1 Posts">ncnn<small>(3)</small></a>
<a rel=tag href=../../../tags/netns/ class=tag-link-2 title="1 Posts">netns<small>(2)</small></a>
<a rel=tag href=../../../tags/network/ class=tag-link-2 title="1 Posts">network<small>(2)</small></a>
<a rel=tag href=../../../tags/nginx/ class=tag-link-28 title="1 Posts">nginx<small>(28)</small></a>
<a rel=tag href=../../../tags/nmap/ class=tag-link-2 title="1 Posts">nmap<small>(2)</small></a>
<a rel=tag href=../../../tags/nnie/ class=tag-link-11 title="1 Posts">nnie<small>(11)</small></a>
<a rel=tag href=../../../tags/node/ class=tag-link-4 title="1 Posts">node<small>(4)</small></a>
<a rel=tag href=../../../tags/nosql/ class=tag-link-8 title="1 Posts">nosql<small>(8)</small></a>
<a rel=tag href=../../../tags/npm/ class=tag-link-3 title="1 Posts">npm<small>(3)</small></a>
<a rel=tag href=../../../tags/numpy/ class=tag-link-4 title="1 Posts">numpy<small>(4)</small></a>
<a rel=tag href=../../../tags/oauth2/ class=tag-link-2 title="1 Posts">oauth2<small>(2)</small></a>
<a rel=tag href=../../../tags/opencv/ class=tag-link-10 title="1 Posts">opencv<small>(10)</small></a>
<a rel=tag href=../../../tags/openssl/ class=tag-link-3 title="1 Posts">openssl<small>(3)</small></a>
<a rel=tag href=../../../tags/pandoc/ class=tag-link-2 title="1 Posts">pandoc<small>(2)</small></a>
<a rel=tag href=../../../tags/php/ class=tag-link-4 title="1 Posts">php<small>(4)</small></a>
<a rel=tag href=../../../tags/post/ class=tag-link-4 title="1 Posts">post<small>(4)</small></a>
<a rel=tag href=../../../tags/powershell/ class=tag-link-2 title="1 Posts">powershell<small>(2)</small></a>
<a rel=tag href=../../../tags/prometheus/ class=tag-link-8 title="1 Posts">prometheus<small>(8)</small></a>
<a rel=tag href=../../../tags/pyqt/ class=tag-link-8 title="1 Posts">pyqt<small>(8)</small></a>
<a rel=tag href=../../../tags/python/ class=tag-link-32 title="1 Posts">python<small>(32)</small></a>
<a rel=tag href=../../../tags/pytorch/ class=tag-link-6 title="1 Posts">pytorch<small>(6)</small></a>
<a rel=tag href=../../../tags/raspi/ class=tag-link-4 title="1 Posts">raspi<small>(4)</small></a>
<a rel=tag href=../../../tags/redis/ class=tag-link-2 title="1 Posts">redis<small>(2)</small></a>
<a rel=tag href=../../../tags/reflect/ class=tag-link-3 title="1 Posts">reflect<small>(3)</small></a>
<a rel=tag href=../../../tags/responsive/ class=tag-link-2 title="1 Posts">responsive<small>(2)</small></a>
<a rel=tag href=../../../tags/restful/ class=tag-link-6 title="1 Posts">restful<small>(6)</small></a>
<a rel=tag href=../../../tags/rk3288/ class=tag-link-22 title="1 Posts">rk3288<small>(22)</small></a>
<a rel=tag href=../../../tags/rk3399/ class=tag-link-9 title="1 Posts">rk3399<small>(9)</small></a>
<a rel=tag href=../../../tags/route/ class=tag-link-2 title="1 Posts">route<small>(2)</small></a>
<a rel=tag href=../../../tags/rsync/ class=tag-link-2 title="1 Posts">rsync<small>(2)</small></a>
<a rel=tag href=../../../tags/rtmp/ class=tag-link-2 title="1 Posts">rtmp<small>(2)</small></a>
<a rel=tag href=../../../tags/scikit/ class=tag-link-3 title="1 Posts">scikit<small>(3)</small></a>
<a rel=tag href=../../../tags/scrapy/ class=tag-link-8 title="1 Posts">scrapy<small>(8)</small></a>
<a rel=tag href=../../../tags/scss/ class=tag-link-2 title="1 Posts">scss<small>(2)</small></a>
<a rel=tag href=../../../tags/sed/ class=tag-link-3 title="1 Posts">sed<small>(3)</small></a>
<a rel=tag href=../../../tags/seo/ class=tag-link-5 title="1 Posts">seo<small>(5)</small></a>
<a rel=tag href=../../../tags/shell/ class=tag-link-10 title="1 Posts">shell<small>(10)</small></a>
<a rel=tag href=../../../tags/sqlite/ class=tag-link-2 title="1 Posts">sqlite<small>(2)</small></a>
<a rel=tag href=../../../tags/ssh/ class=tag-link-3 title="1 Posts">ssh<small>(3)</small></a>
<a rel=tag href=../../../tags/stm32/ class=tag-link-11 title="1 Posts">stm32<small>(11)</small></a>
<a rel=tag href=../../../tags/swagger/ class=tag-link-2 title="1 Posts">swagger<small>(2)</small></a>
<a rel=tag href=../../../tags/swarm/ class=tag-link-2 title="1 Posts">swarm<small>(2)</small></a>
<a rel=tag href=../../../tags/sysbench/ class=tag-link-2 title="1 Posts">sysbench<small>(2)</small></a>
<a rel=tag href=../../../tags/sysctl/ class=tag-link-2 title="1 Posts">sysctl<small>(2)</small></a>
<a rel=tag href=../../../tags/systemctl/ class=tag-link-2 title="1 Posts">systemctl<small>(2)</small></a>
<a rel=tag href=../../../tags/tc/ class=tag-link-2 title="1 Posts">tc<small>(2)</small></a>
<a rel=tag href=../../../tags/tcpdump/ class=tag-link-2 title="1 Posts">tcpdump<small>(2)</small></a>
<a rel=tag href=../../../tags/timezone/ class=tag-link-2 title="1 Posts">timezone<small>(2)</small></a>
<a rel=tag href=../../../tags/tshark/ class=tag-link-2 title="1 Posts">tshark<small>(2)</small></a>
<a rel=tag href=../../../tags/ubuntu/ class=tag-link-2 title="1 Posts">ubuntu<small>(2)</small></a>
<a rel=tag href=../../../tags/ulimit/ class=tag-link-2 title="1 Posts">ulimit<small>(2)</small></a>
<a rel=tag href=../../../tags/vim/ class=tag-link-14 title="1 Posts">vim<small>(14)</small></a>
<a rel=tag href=../../../tags/webpack3/ class=tag-link-2 title="1 Posts">webpack3<small>(2)</small></a>
<a rel=tag href=../../../tags/windows/ class=tag-link-18 title="1 Posts">windows<small>(18)</small></a>
<a rel=tag href=../../../tags/wireshark/ class=tag-link-2 title="1 Posts">wireshark<small>(2)</small></a>
<a rel=tag href=../../../tags/xidel/ class=tag-link-2 title="1 Posts">xidel<small>(2)</small></a>
<a rel=tag href=../../../tags/xml/ class=tag-link-2 title="1 Posts">xml<small>(2)</small></a>
<a rel=tag href=../../../tags/yaml/ class=tag-link-2 title="1 Posts">yaml<small>(2)</small></a>
<a rel=tag href=../../../tags/yolo/ class=tag-link-12 title="1 Posts">yolo<small>(12)</small></a>
<a rel=tag href=../../../tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ class=tag-link-2 title="1 Posts">å¾®æœåŠ¡<small>(2)</small></a></div></div></div></div>`</div></div></div></div></div><script>var HUParams={"_disabled":[],"SmoothScroll":{"Enabled":true,"Options":{"touchpadSupport":false}},"centerAllImg":"1","timerOnScrollAllBrowsers":"1","extLinksStyle":"1","extLinksTargetExt":"1","extLinksSkipSelectors":{"classes":["btn","button"],"ids":[]},"imgSmartLoadEnabled":"1","imgSmartLoadOpts":{"parentSelectors":[".container .content",".container .sidebar","#footer","#header-widgets"],"opts":{"excludeImg":[".tc-holder-img"],"fadeIn_options":100}},"goldenRatio":"1.618","gridGoldenRatioLimit":"350","sbStickyUserSettings":{"desktop":true,"mobile":true},"isWPMobile":"","menuStickyUserSettings":{"desktop":"stick_up","mobile":"stick_up"},"isDevMode":"","ajaxUrl":"https:\/\/demo-hueman.presscustomizr.com\/?huajax=1","frontNonce":{"id":"HuFrontNonce","handle":"798e5956c0"},"userStarted":{"with":"before|1.0.4","on":{"date":"2017-05-22 16:30:22.000000","timezone_type":3,"timezone":"UTC"}},"isWelcomeNoteOn":"","welcomeContent":""};</script><script src=https://cdn.bootcss.com/lodash-compat/3.10.2/lodash.min.js></script><script src=https://cdn.bootcss.com/jquery/1.9.0/jquery.min.js></script><script src=../../../front/js/scripts.js></script><footer id=footer><section class=container id=footer-bottom><div class=container-inner><a id=back-to-top href=#><i class="fa fa-angle-up"></i></a><div class="pad group"><div class="grid one-half"><div id=copyright><p>Copyright (c) 2017. All rights reserved. (ç‰ˆæƒæ‰€æœ‰) <a href=http://www.miitbeian.gov.cn/>é²ICPå¤‡17074587å·-1</a></div></div><div class="grid one-half last"><ul class=social-links><li><a class=social-tooltip title="On WeiBo" href=http://weibo.com/rinetd target=_blank><i class="fa fa-weibo"></i></a><li><a class=social-tooltip title="On Twitter" href=https://twitter.com/rinetd target=_blank><i class="fa fa-twitter"></i></a><li><a class=social-tooltip title="On GitHub" href=https://github.com/rinetd target=_blank><i class="fa fa-github"></i></a></ul></div></div></div></section></footer><div class=back-to-top id=back-to-top><i class="fa fa-angle-double-up"></i></div><script>$(".topbar-toggle-down").click(function(){$("#nav-topbar").css("overflow","visible");});</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5HM5XM2" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5HM5XM2');</script>