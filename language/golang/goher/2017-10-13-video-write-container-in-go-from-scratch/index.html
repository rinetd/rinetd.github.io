<!doctype html><html lang=zh-cn class=no-js><title>è§†é¢‘ç¬”è®°ï¼šå®¹å™¨æ˜¯ä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬ç”¨ Go å†™ä¸€ä¸ªå§ï¼ - Liz Rice</title><meta charset=utf-8><meta name=robots content=index,nofollow><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta http-equiv=x-dns-prefetch-control content=on><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content=origin-when-cross-origin><meta name=description content="è§†é¢‘ä¿¡æ¯ What is a container, really? Let's write one in Go from scratch by Liz Rice at Golang UK Conf. 2016 {% owl youtube HPuvDm8IC-4 %} è§†é¢‘ï¼šhttps://www.youtube.com/watch?v=HPuvDm"><meta name=author content=rinetd><meta name=google-site-verification content=ifeWsnNpU7w8vP3ii_Cjq-P9LKw3ngVitnMWv4XmJqk><link rel=canonical href=../../../../language/golang/goher/2017-10-13-video-write-container-in-go-from-scratch/><link rel=icon href=../../../../public/favicon.ico><link rel="shortcut icon" href=../../../../public/favicon.ico><link rel=stylesheet href=../../../../front/css/main.min.css><link href=https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet><link rel=stylesheet href=//cdn.bootcss.com/video.js/6.2.8/alt/video-js-cdn.min.css><body class="single single-post single-format-standard col-3cm full-width topbar-enabled chrome"><div id=wrapper><header id=header class="top-menu-mobile-on one-mobile-menu top_menu header-ads-desktop  topbar-transparent"><nav class="nav-container group mobile-menu mobile-sticky" id=nav-mobile data-menu-id=header-1><div class=mobile-title-logo-in-header><p class=site-title><a class=custom-logo-link href rel=home title="Pytool | Home">Pytool</a></div><div class="ham__navbar-toggler-two collapsed" title=Menu aria-expanded=false><div class=ham__navbar-span-wrapper><span class="line line-1"></span><span class="line line-2"></span><span class="line line-3"></span></div></div><div class=nav-text>è§†é¢‘ç¬”è®°ï¼šå®¹å™¨æ˜¯ä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬ç”¨ Go å†™ä¸€ä¸ªå§ï¼ - Liz Rice</div><div class="nav-wrap container"><ul class="nav container-inner group mobile-search"><li><form class="searchform themeform" action=https://demo-hueman.presscustomizr.com/><div><input class=search name=s onblur="if(this.value=='')this.value='To search type and hit enter';" onfocus="if(this.value=='To search type and hit enter')this.value='';" value="To search type and hit enter"></div></form></ul><ul id=menu-topbar-menu class="nav container-inner group"><li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home"><a href>Home</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../hardware/>Hardware</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hardware/kernel/>Kernel</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hardware/hisilicon/>Hisilicon</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hardware/rtmp/>Rtmp</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hardware/rk3399/>Rk3399</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hardware/dts/>Dts</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hardware/rk3288/>Rk3288</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hardware/%E8%BD%A6%E8%81%94%E7%BD%91/>è½¦è”ç½‘</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hardware/android-%E5%BA%95%E5%B1%82/>Android-åº•å±‚</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../language/>Language</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../language/clang/>Clang</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../language/golang/>Golang</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../../language/golang/cgo/>Cgo</a><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../../language/golang/hugo/>Hugo</a><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../../language/golang/sys/>Sys</a><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../../language/golang/goher/>Goher</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../language/cpp/>Cpp</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../language/python/>Python</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../../language/python/scrapy/>Scrapy</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../language/java/>Java</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../../language/java/hadoop/>Hadoop</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../language/awesome/>Awesome</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../language/php/>Php</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../../language/php/magento/>Magento</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../language/android/>Android</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../linux/>Linux</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../linux/shell/>Shell</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../linux/cmd/>Cmd</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../linux/nginx/>Nginx</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../linux/ip/>Ip</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../linux/git/>Git</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../linux/haproxy/>Haproxy</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../linux/lvs/>Lvs</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../macos/>Macos</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../ai/>Ai</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../ai/yolo/>Yolo</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../ai/caffe/>Caffe</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../ai/math/>Math</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../ai/ncnn/>Ncnn</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../ai/dataset/>Dataset</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../ai/pytorch/>Pytorch</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../frontend/>Frontend</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../frontend/css/>Css</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../frontend/vue/>Vue</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../devops/>Devops</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../devops/docker/>Docker</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../devops/elk/>Elk</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../devops/ansible/>Ansible</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../devops/prometheus/>Prometheus</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../devops/drone/>Drone</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../devops/kubernetes/>Kubernetes</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../devops/oauth2/>OAuth2</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../devops/etcd/>Etcd</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../devops/apidoc/>Apidoc</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../devops/%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/>ç³»ç»Ÿç›‘æ§</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../database/>Database</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../database/mysql/>Mysql</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../database/mongo/>Mongo</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../database/redis/>Redis</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../windows/>Windows</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../hacker/>Hacker</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hacker/01_%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/>01_ç«¯å£æ‰«æ</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hacker/00_%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E9%9A%A7%E9%81%93/>00_ç«¯å£è½¬å‘(éš§é“)</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hacker/01-info-gather/>01-Info-Gather</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hacker/02-spoof/>02-Spoof</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../hacker/shells/>Shells</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../work/>Work</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../weixin/>Weixin</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../../edit/>Edit</a><li class=item><a class=text href=../../../../series/>series</a><li class=item><a class=text href=../../../../categories/>categories</a><li class=item><a class=text href=../../../../tags/>tags</a><li class=item><a class=text href=../../../../me/>about</a></ul></div></nav><nav class="nav-container group desktop-menu desktop-sticky" id=nav-topbar data-menu-id=header-2><div class=nav-text>è§†é¢‘ç¬”è®°ï¼šå®¹å™¨æ˜¯ä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬ç”¨ Go å†™ä¸€ä¸ªå§ï¼ - Liz Rice</div><div class=topbar-toggle-down><i class="fas fa-angle-double-down" aria-hidden=true data-toggle=down title="Expand menu"></i><i class="fas fa-angle-double-up" aria-hidden=true data-toggle=up title="Collapse menu"></i></div><div class="nav-wrap container"><ul id=menu-topbar-menu-1 class="nav container-inner group"><li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home"><a href=../../../../>Home</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../hardware/>Hardware</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hardware/kernel/>Kernel</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hardware/hisilicon/>Hisilicon</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hardware/rtmp/>Rtmp</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hardware/rk3399/>Rk3399</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hardware/dts/>Dts</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hardware/rk3288/>Rk3288</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hardware/%E8%BD%A6%E8%81%94%E7%BD%91/>è½¦è”ç½‘</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hardware/android-%E5%BA%95%E5%B1%82/>Android-åº•å±‚</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../language/>Language</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../language/clang/>Clang</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../language/golang/>Golang</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../language/cpp/>Cpp</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../language/python/>Python</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../language/java/>Java</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../language/awesome/>Awesome</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../language/php/>Php</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../language/android/>Android</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../linux/>Linux</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../linux/shell/>Shell</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../linux/cmd/>Cmd</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../linux/nginx/>Nginx</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../linux/ip/>Ip</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../linux/git/>Git</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../linux/haproxy/>Haproxy</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../linux/lvs/>Lvs</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../macos/>Macos</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../post/>Post</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../post/english/>English</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../post/seo/>Seo</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../post/life/>Life</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../post/wiki/>Wiki</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../post/software/>Software</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../post/basic/>Basic</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../post/reship/>Reship</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../ai/>Ai</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../ai/yolo/>Yolo</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../ai/caffe/>Caffe</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../ai/math/>Math</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../ai/ncnn/>Ncnn</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../ai/dataset/>Dataset</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../ai/pytorch/>Pytorch</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../frontend/>Frontend</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../frontend/css/>Css</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../frontend/vue/>Vue</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../devops/>Devops</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../devops/docker/>Docker</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../devops/elk/>Elk</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../devops/ansible/>Ansible</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../devops/prometheus/>Prometheus</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../devops/drone/>Drone</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../devops/kubernetes/>Kubernetes</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../devops/oauth2/>OAuth2</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../devops/etcd/>Etcd</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../devops/apidoc/>Apidoc</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../devops/%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/>ç³»ç»Ÿç›‘æ§</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../database/>Database</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../database/mysql/>Mysql</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../database/mongo/>Mongo</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../database/redis/>Redis</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../windows/>Windows</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../hacker/>Hacker</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hacker/01_%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/>01_ç«¯å£æ‰«æ</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hacker/00_%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E9%9A%A7%E9%81%93/>00_ç«¯å£è½¬å‘(éš§é“)</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hacker/01-info-gather/>01-Info-Gather</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hacker/02-spoof/>02-Spoof</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../../hacker/shells/>Shells</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../work/>Work</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../weixin/>Weixin</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../../edit/>Edit</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../series/>series</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../categories/>categories</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../tags/>tags</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../../me/>about</a></ul></div></nav></header><div class=container id=page><div class=container-inner><div class=main><div class="main-inner group"><div class=content><div class="pad group page-title"><ul class="meta-single group"><li><span class="fa fa-folder-open"></span><li class=category><a href=../../../../categories/golang/ rel="category tag">golang</a></ul></div><div class="pad group"><article class="post type-post status-publish format-standard has-post-thumbnail hentry category-lifestyle tag-classical-grid tag-masonry-grid tag-standard-list"><div class="post-inner group"><h1 class=post-title>è§†é¢‘ç¬”è®°ï¼šå®¹å™¨æ˜¯ä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬ç”¨ Go å†™ä¸€ä¸ªå§ï¼ - Liz Rice</h1><p class=post-byline>by Â· 2017å¹´10æœˆ13æ—¥ Â· 3931 Words Â·
~8min reading time |
<a href=https://gitlab.com/rinetd/blog/edit/master/language/golang/goher/2017-10-13-video-write-container-in-go-from-scratch.md target=_blank>Improve on <i class="fa fa-gitlab"></i></a><div class=clear></div><div class="entry themeform"><div class=entry-inner></br>åŸæ–‡é“¾æ¥ï¼š<a target=_blank href=../../../../language/golang/goher/2017-10-13-video-write-container-in-go-from-scratch/> è§†é¢‘ç¬”è®°ï¼šå®¹å™¨æ˜¯ä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬ç”¨ Go å†™ä¸€ä¸ªå§ï¼ - Liz Rice</a></p><h1 id=è§†é¢‘ä¿¡æ¯>è§†é¢‘ä¿¡æ¯</h1><p><strong>What is a container, really? Let's write one in Go from scratch</strong><br>by Liz Rice<br>at Golang UK Conf. 2016<p>{% owl youtube HPuvDm8IC-4 %}<ul><li>è§†é¢‘ï¼š<a href="https://www.youtube.com/watch?v=HPuvDm8IC-4" target=_blank>https://www.youtube.com/watch?v=HPuvDm8IC-4</a><br><br></ul><h1 id=ä»€ä¹ˆæ˜¯å®¹å™¨>ä»€ä¹ˆæ˜¯å®¹å™¨ï¼Ÿ</h1><p>å¾ˆå¤šäººæœ€å¼€å§‹çš„æ—¶å€™æä¸æ¸…æ¥šå®¹å™¨æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥ç»å¸¸å¬åˆ°æœ‰äººé—®ï¼Œå®¹å™¨åˆ°åº•æ˜¯å•¥ï¼ŸDocker åˆ°åº•æ˜¯å•¥ï¼Ÿ<ul><li>â€œå®¹å™¨å°±æ˜¯è½»é‡çº§è™šæ‹Ÿæœºâ€<br><li>â€œå®¹å™¨å°±æ˜¯ Jailâ€<br><li>â€œå®¹å™¨å°±å’Œ chroot ä¸€æ ·â€<br><li>â€œå®¹å™¨å°±æ˜¯ namespaceã€cgroupsâ€¦â€¦â€<br><li>â€œå®¹å™¨å°±æ˜¯éš”ç¦»çš„è¿›ç¨‹â€<br><br></ul><p>å¬äº†è¿™äº›è§£é‡Šåï¼Œè¿˜æ˜¯ä¸æ¸…æ¥šåˆ°åº•å®¹å™¨æ˜¯å•¥ã€‚ç›´åˆ°çœ‹äº† <a href=https://github.com/julz target=_blank>Julian Friedman</a> å†™çš„åšæ–‡<a href=https://www.infoq.com/articles/build-a-container-golang target=_blank>ã€Šç™¾è¡Œä»¥å†…å®ç°ä¸€ä¸ªå®¹å™¨ã€‹</a> åï¼Œæ‰æç„¶å¤§æ‚Ÿï¼Œè§‰å¾—æ¯ä¸ªäººéƒ½åº”è¯¥è¯»ä¸€è¯»ï¼Œå¸Œæœ›æŠŠè¿™é‡Œçš„å†…å®¹åˆ†äº«ç»™æ‰€æœ‰äººã€‚æ‰€ä»¥è¿™ä¸ª talk å°±æ˜¯ä¸»è¦åŸºäº Julian çš„åšæ–‡çš„ï¼Œå½“ç„¶ï¼Œæœ‰äº›æ”¹å˜ã€‚<h1 id=å¯åŠ¨ä¸€ä¸ª-docker-å®¹å™¨>å¯åŠ¨ä¸€ä¸ª docker å®¹å™¨</h1><p>æˆ‘ä»¬å…ˆè¿è¡Œä¸€ä¸ªç®€å•çš„ docker å®¹å™¨ï¼Œæ¥å¯¹å®¹å™¨æœ‰ä¸€ä¸ªåŸºæœ¬çš„è®¤è¯†ã€‚<p>æˆ‘ä»¬å¯ä»¥å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œåªæ˜¯ç®€å•çš„æ‰§è¡Œä¸€æ¡å‘½ä»¤ï¼Œæ¯”å¦‚ï¼š<pre><code class=language-bash>$ docker run alpine echo &quot;Hello GopherCon&quot;
Hello GopherCon
</code></pre><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯åŠ¨å®¹å™¨è¿›å…¥äº¤äº’å¼æ¨¡å¼ï¼š<pre><code class=language-bash>$ docker run -it alpine
/ #
</code></pre><p>è¿™æ ·æˆ‘ä»¬å°±å¯åŠ¨äº†ä¸€ä¸ª <code>alpine</code> çš„é•œåƒã€‚ç„¶åæˆ‘ä»¬å¯ä»¥åˆ—ç›®å½•ï¼Œçœ‹åˆ°å’Œæˆ‘ä»¬å½“å‰ç¯å¢ƒä¸åŒçš„æ–‡ä»¶åˆ—è¡¨ï¼š<pre><code class=language-bash>/ # ls
bin    etc    lib    mnt    root   sbin   sys    usr
dev    home   media  proc   run    srv    tmp    var
/ # ls -al
total 60
drwxr-xr-x    1 root     root          4096 Oct 18 11:56 .
drwxr-xr-x    1 root     root          4096 Oct 18 11:56 ..
-rwxr-xr-x    1 root     root             0 Oct 18 11:56 .dockerenv
drwxr-xr-x    2 root     root          4096 Jun 25 17:52 bin
drwxr-xr-x    5 root     root           360 Oct 18 11:56 dev
drwxr-xr-x    1 root     root          4096 Oct 18 11:56 etc
drwxr-xr-x    2 root     root          4096 Jun 25 17:52 home
drwxr-xr-x    5 root     root          4096 Jun 25 17:52 lib
drwxr-xr-x    5 root     root          4096 Jun 25 17:52 media
drwxr-xr-x    2 root     root          4096 Jun 25 17:52 mnt
dr-xr-xr-x  130 root     root             0 Oct 18 11:56 proc
drwx------    1 root     root          4096 Oct 18 11:56 root
drwxr-xr-x    2 root     root          4096 Jun 25 17:52 run
drwxr-xr-x    2 root     root          4096 Jun 25 17:52 sbin
drwxr-xr-x    2 root     root          4096 Jun 25 17:52 srv
dr-xr-xr-x   13 root     root             0 Oct 18 11:56 sys
drwxrwxrwt    2 root     root          4096 Jun 25 17:52 tmp
drwxr-xr-x    7 root     root          4096 Jun 25 17:52 usr
drwxr-xr-x   12 root     root          4096 Jun 25 17:52 var
</code></pre><p>æˆ‘ä»¬è¿˜å¯ä»¥ <code>ps</code> æ˜¾ç¤ºè¿›ç¨‹ï¼Œä½†æ˜¯çœ‹åˆ°çš„åªæ˜¯å®¹å™¨å†…çš„è¿›ç¨‹ã€‚<pre><code class=language-bash>/ # ps
PID   USER     TIME   COMMAND
    1 root       0:00 /bin/sh
    7 root       0:00 ps
</code></pre><p>æˆ‘ä»¬è¿˜å¯ä»¥çœ‹å®¹å™¨å†…çš„ç½‘ç»œç¯å¢ƒï¼Œä¹Ÿå’Œå®¿ä¸»ä¸åŒï¼š<pre><code class=language-bash>/ # ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: tunl0@NONE: &lt;NOARP&gt; mtu 1480 qdisc noop state DOWN qlen 1
    link/ipip 0.0.0.0 brd 0.0.0.0
3: gre0@NONE: &lt;NOARP&gt; mtu 1476 qdisc noop state DOWN qlen 1
    link/gre 0.0.0.0 brd 0.0.0.0
4: gretap0@NONE: &lt;BROADCAST,MULTICAST&gt; mtu 1462 qdisc noop state DOWN qlen 1000
    link/ether 00:00:00:00:00:00 brd ff:ff:ff:ff:ff:ff
5: ip_vti0@NONE: &lt;NOARP&gt; mtu 1332 qdisc noop state DOWN qlen 1
    link/ipip 0.0.0.0 brd 0.0.0.0
6: ip6_vti0@NONE: &lt;NOARP&gt; mtu 1500 qdisc noop state DOWN qlen 1
    link/tunnel6 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00 brd 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00
7: sit0@NONE: &lt;NOARP&gt; mtu 1480 qdisc noop state DOWN qlen 1
    link/sit 0.0.0.0 brd 0.0.0.0
8: ip6tnl0@NONE: &lt;NOARP&gt; mtu 1452 qdisc noop state DOWN qlen 1
    link/tunnel6 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00 brd 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00
9: ip6gre0@NONE: &lt;NOARP&gt; mtu 1448 qdisc noop state DOWN qlen 1
    link/[823] 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00 brd 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00
32: eth0@if33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN&gt; mtu 1500 qdisc noqueue state UP
    link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff
    inet 172.17.0.2/16 scope global eth0
       valid_lft forever preferred_lft forever
/ #
</code></pre><p>æˆ‘å¯ä»¥æŸ¥çœ‹å®¹å™¨å†…çš„ <code>hostname</code>ï¼Œä¼šå‘ç°ä¹Ÿå’Œå®¿ä¸»ä¸åŒï¼š<pre><code class=language-bash>/ # hostname
1faa496601e8
</code></pre><h1 id=ç”¨-go-å®ç°ä¸€ä¸ªå®¹å™¨>ç”¨ Go å®ç°ä¸€ä¸ªå®¹å™¨</h1><p>ä»ä¸Šé¢çš„ docker ä½¿ç”¨çœ‹ï¼ŒåŸºæœ¬ä¸Šçš„æ ¼å¼æ˜¯ï¼Œ<code>docker run &lt;å®¹å™¨&gt; &lt;å‘½ä»¤&gt; &lt;å‚æ•°&gt;</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥å°±æ¥æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ã€‚<h2 id=å¯åŠ¨ä¸€ä¸ª-linux-ç³»ç»Ÿ>å¯åŠ¨ä¸€ä¸ª Linux ç³»ç»Ÿ</h2><p>è¿™é‡Œæˆ‘ä»¬ç”¨ <a href=https://www.vagrantup.com/intro/index.html target=_blank>Vagrant</a> å¯åŠ¨ä¸€ä¸ª Linux ç³»ç»Ÿï¼Œå› ä¸ºæ¥ä¸‹æ¥æˆ‘ä»¬å°†ä½¿ç”¨ä¸€äº› Linux å†…æ ¸ç›¸å…³çš„æŠ€æœ¯ï¼Œè¿™äº›å°†åªå­˜åœ¨äº Linux ä¸­ã€‚ä¸ç†Ÿæ‚‰ Vagrant å¯ä»¥å…ˆå»å­¦ä¹ <a href=https://www.vagrantup.com/intro/getting-started/index.html target=_blank>å¦‚ä½•ä½¿ç”¨ Vagrant</a>ã€‚ç†Ÿæ‚‰çš„ç»§ç»­ï¼Œæˆ‘ä»¬å»ºç«‹ä¸€ä¸ª <code>Vagrantfile</code>ï¼Œå†…å®¹ä¸ºï¼š<pre><code class=language-ruby># -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure(&quot;2&quot;) do |config|
  config.vm.box = &quot;bento/ubuntu-16.04&quot;
  config.vm.provision &quot;shell&quot;, inline: &lt;&lt;-SHELL
    curl -fsSL https://get.docker.com/ | sh
    usermod -aG docker vagrant
    apt-get update
    apt-get dist-upgrade -y
    snap install --classic go
    wget http://dl-cdn.alpinelinux.org/alpine/v3.6/releases/x86_64/alpine-minirootfs-3.6.2-x86_64.tar.gz
    mkdir /var/lib/alpine
    tar -xzvf alpine-minirootfs-3.6.2-x86_64.tar.gz -C /var/lib/alpine
  SHELL
end
</code></pre><p>è¿™æ˜¯é…ç½®äº†ä¸€ä¸ª <a href="https://wiki.ubuntu.com/XenialXerus/ReleaseNotes?_ga=2.155044219.232627992.1508377352-890558848.1503503283#Ubuntu_Server" target=_blank>Ubuntu Server 16.04 LTS</a> ç‰ˆæœ¬çš„è™šæ‹Ÿæœºï¼Œå¹¶ä¸”å®‰è£…äº† <a href=https://www.docker-cn.com/ target=_blank>Docker</a> å’Œ <a href=https://golang.org/ target=_blank>Go</a>ï¼Œè€Œä¸”å‡†å¤‡äº†ä¸€ä¸ª <a href=https://alpinelinux.org/ target=_blank>Alpine Linux</a> çš„ <code>rootfs</code> ä»¥å¤‡åç”¨ã€‚<p>ç„¶åæˆ‘ä»¬ç”¨ <code>vagrant up</code> æ¥å¯åŠ¨è¿™ä¸ªè™šæ‹Ÿæœºï¼Œå¹¶ä¸”ç”¨ <code>vagrant ssh</code> è¿›å…¥è¿™ä¸ªè™šæ‹Ÿæœºã€‚<pre><code class=language-bash>$ vagrant ssh
Welcome to Ubuntu 16.04.3 LTS (GNU/Linux 4.4.0-92-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

0 packages can be updated.
0 updates are security updates.


vagrant@vagrant:~$
</code></pre><h2 id=æœ€ç®€å•çš„è¿è¡Œå‘½ä»¤>æœ€ç®€å•çš„è¿è¡Œå‘½ä»¤</h2><p>æˆ‘ä»¬å…ˆæ¥æ¨¡æ‹Ÿè¿è¡Œå‘½ä»¤ï¼Œæˆ‘ä»¬å¸Œæœ›è¾¾åˆ°çš„æ•ˆæœæ˜¯ <code>go run docker.go run &lt;å‘½ä»¤&gt; &lt;å‚æ•°&gt;</code> å¯ä»¥è¾¾åˆ°ä¹‹å‰ä¸€æ ·çš„æ•ˆæœã€‚<pre><code class=language-go>package main

import (
	&quot;fmt&quot;
	&quot;os&quot;
	&quot;os/exec&quot;
)

func main() {
	switch os.Args[1] {
	case &quot;run&quot;:
		run()
	default:
		panic(&quot;what?&quot;)
	}
}

func run() {
	fmt.Printf(&quot;Running %v\n&quot;, os.Args[2:])
	cmd := exec.Command(os.Args[2], os.Args[3:]...)
	cmd.Stdin = os.Stdin
	cmd.Stdout = os.Stdout
	cmd.Stderr = os.Stderr

	must(cmd.Run())
}

func must(err error) {
	if err != nil {
		panic(err)
	}
}
</code></pre><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥è¿è¡Œï¼š<pre><code class=language-bash>$ go run docker.go run echo &quot;Hello, our container&quot;
Running [echo Hello, our container]
Hello, our container
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œå’Œä¹‹å‰çš„ <code>docker run</code> ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥æ”¶åˆ°å‘½ä»¤ï¼Œå¹¶ä¸”æ‰§è¡Œã€‚<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥äº¤äº’å¼çš„ä½¿ç”¨ï¼š<pre><code class=language-bash>$ go run docker.go run /bin/sh
Running [/bin/sh]
sh-3.2$ ls
Vagrantfile     docker.go
sh-3.2$ ps
  PID TTY           TIME CMD
44316 ttys000    0:01.89 /bin/zsh -l
45926 ttys000    0:00.01 vagrant up
45927 ttys000    1:46.53 ruby /opt/vagrant/embedded/gems/gems/vagrant-2.0.0/bin/vagrant up
45212 ttys002    0:01.48 /bin/zsh -l
45372 ttys002    0:00.21 go run docker.go run /bin/sh
45379 ttys002    0:00.01 /var/folders/wc/9tzsn1hd7c38tvc54kctn4100000gn/T/go-build882908294/command-line-arguments/_obj/exe/docker r
45380 ttys002    0:00.02 /bin/sh
</code></pre><p>ä¸è¿‡è¿™é‡Œä¸è¦é«˜å…´å¤ªæ—©ï¼Œå› ä¸ºæˆ‘ä»¬åªæ˜¯å¯ä»¥æ‰§è¡Œå‘½ä»¤è€Œå·²ï¼Œå¹¶æ²¡æœ‰çœŸçš„è¿›å…¥éš”ç¦»çš„å®¹å™¨ç¯å¢ƒï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä¾æ—§æ˜¯å¤„äºå®¿ä¸»çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä»¥åŠå®¿ä¸»çš„è¿›ç¨‹ç©ºé—´ï¼Œç”šè‡³å¯ä»¥ä¿®æ”¹å®¿ä¸»çš„ hostnameã€‚å—¯ï¼Œå› ä¸ºè¿™ä¸ªå‘½ä»¤å°±æ˜¯åœ¨å®¿ä¸»çš„ namespace ï¼ˆå‘½åç©ºé—´ï¼‰ä¸­è¿è¡Œçš„ï¼Œæ‰€ä»¥æ²¡å·®ã€‚<h2 id=éš”ç¦»å‡º-hostname-çš„å‘½åç©ºé—´>éš”ç¦»å‡º hostname çš„å‘½åç©ºé—´</h2><p>æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬å†™çš„ <code>docker.go</code> å¯ä»¥çœŸçš„åœ¨ç‹¬ç«‹çš„å‘½åç©ºé—´ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œè€Œä¸æ˜¯åŸæœ‰çš„å‘½åç©ºé—´ã€‚è¿™é‡Œæˆ‘ä»¬å…ˆæ¥è§£å†³ hostname å‘½åç©ºé—´ã€‚<pre><code class=language-go>func run() {
	...
	cmd.Stderr = os.Stderr

	cmd.SysProcAttr = &amp;syscall.SysProcAttr{
		Cloneflags: syscall.CLONE_NEWUTS,
	}

	must(cmd.Run())
	...
}
</code></pre><p>è¿™æ¬¡æˆ‘ä»¬åœ¨ <code>cmd.Run()</code> ä¹‹å‰ï¼Œè®¾ç½®äº† <code>SysProcAttr</code> å±æ€§ï¼ŒæŒ‡å®šäº† <code>CLONE_NEWUTS</code>ï¼ŒåŸºæœ¬ä¸Šçš„æ„æ€å°±æ˜¯åœ¨è¯´å¯åŠ¨çš„å‘½ä»¤ï¼Œè¦åœ¨ä¸€ä¸ªæ–°çš„ hostname çš„å‘½åç©ºé—´ä¸­æ‰§è¡Œï¼Œå¹¶ä¸”åˆå§‹å€¼ä»çˆ¶è¿›ç¨‹å…‹éš†ã€‚<pre><code class=language-bash>vagrant@vagrant:/vagrant$ hostname
vagrant
vagrant@vagrant:/vagrant$ sudo go run docker.go run /bin/sh
Running [/bin/sh]
# hostname
vagrant
# hostname golang
# hostname
golang
# exit
vagrant@vagrant:/vagrant$ hostname
vagrant
</code></pre><p>çœ‹åˆ°äº†å§ï¼Œè¿™æ¬¡æˆ‘ä»¬çš„è¿›ç¨‹åœ¨æ–°çš„ <code>hostname</code> å‘½åç©ºé—´ä¸­æ‰§è¡Œäº†ï¼Œè¿™ä¸ªè¿›ç¨‹å·²ç»å¯ä»¥è¯´æ˜¯åœ¨ä¸€ä¸ªï¼ˆéƒ¨åˆ†ï¼‰æ–°çš„å®¹å™¨ä¸­è¿è¡Œäº†ã€‚æˆ‘ä»¬åœ¨å®¹å™¨ä¸­ä¿®æ”¹äº† <code>hostname</code>ï¼Œå›åˆ°å®¿ä¸»åï¼Œå¯ä»¥çœ‹åˆ° <code>hostname</code> å¹¶æœªå‘ç”Ÿæ”¹å˜ï¼Œä¸¤ä¸ªå‘½åç©ºé—´æ˜¯ç‹¬ç«‹çš„ã€‚<h2 id=éš”ç¦»-pid-å‘½åç©ºé—´>éš”ç¦» PID å‘½åç©ºé—´</h2><p>ä¸Šé¢çš„ç¨‹åºåªæ˜¯éš”ç¦»äº† <code>hostname</code>ï¼Œæ²¡æœ‰éš”ç¦»è¿›ç¨‹ç©ºé—´ï¼Œæ‰€ä»¥åœ¨å®¹å™¨ä¸­è¿˜æ˜¯å¯ä»¥çœ‹åˆ°å®¿ä¸»çš„è¿›ç¨‹ï¼š<pre><code class=language-bash>vagrant@vagrant:/vagrant$ sudo go run docker.go run /bin/sh
Running [/bin/sh]
# ps
  PID TTY          TIME CMD
 3173 pts/0    00:00:00 sudo
 3174 pts/0    00:00:00 go
 3199 pts/0    00:00:00 docker
 3203 pts/0    00:00:00 sh
 3205 pts/0    00:00:00 ps
#
</code></pre><p>æˆ‘ä»¬å¸Œæœ›å’Œ <code>docker run</code> ä¸€æ ·ï¼Œè¿›ç¨‹ä¹Ÿæ˜¯éš”ç¦»çš„ï¼Œå®¹å™¨å†…åªèƒ½çœ‹åˆ°è‡ªå·±çš„å‘½åç©ºé—´çš„è¿›ç¨‹ã€‚<pre><code class=language-go>func run() {
	...
	cmd.SysProcAttr = &amp;syscall.SysProcAttr{
		Cloneflags: syscall.CLONE_NEWUTS | syscall.CLONE_NEWPID,
	}
	...
}
</code></pre><p>é‚£çœ‹æ¥å’Œä¸Šé¢ä¸€æ ·ï¼Œæ˜¯ä¸æ˜¯å†å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ <code>CLONE_NEWPID</code>ï¼Œä»¥å»ºç«‹ä¸€ä¸ªæ–°çš„ PID å‘½åç©ºé—´ç»™å³å°†è¿è¡Œçš„ç¨‹åºä¸å°±è¡Œäº†ï¼Ÿè®©æˆ‘ä»¬æ¥æ‰§è¡Œä¸€ä¸‹çœ‹çœ‹ï¼š<pre><code class=language-bash>vagrant@vagrant:/vagrant$ sudo go run docker.go run /bin/sh
Running [/bin/sh]
# ps
  PID TTY          TIME CMD
 3274 pts/0    00:00:00 sudo
 3275 pts/0    00:00:00 go
 3299 pts/0    00:00:00 docker
 3303 pts/0    00:00:00 sh
 3305 pts/0    00:00:00 ps
#
</code></pre><p>å¥‡æ€ªäº†ï¼Œè¿™è¿˜æ˜¯å®¿ä¸»çš„è¿›ç¨‹ç©ºé—´å•Šã€‚<h2 id=æ’éšœ-pid-å‘½åç©ºé—´>æ’éšœ PID å‘½åç©ºé—´</h2><p>å‘½åå·²ç»æ˜¯æ–°çš„ PID å‘½åç©ºé—´äº†ï¼Œä¸ºä»€ä¹ˆ <code>ps</code> çœ‹åˆ°çš„è¿˜æ˜¯å®¿ä¸»è¿›ç¨‹å‘¢ï¼Ÿ<p>ä¸ºäº†å¸®åŠ©æ’éšœï¼Œæˆ‘ä»¬è¾“å‡ºä¸€ä¸‹æ–°å¯åŠ¨çš„è¿›ç¨‹çš„ PIDï¼Œçœ‹çœ‹åˆ°åº•æ˜¯ä¸æ˜¯å‡ºäºæ–°çš„ PID å‘½åç©ºé—´äº†ã€‚ä¸ºäº†è¾“å‡ºæ–°çš„è¿›ç¨‹çš„ PIDï¼Œè¿™é‡Œæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ç¨‹åºç»“æ„ï¼Œå¢åŠ ä¸€å±‚ï¼Œå¹¶å¢åŠ ä¸€ä¸ªå‘½ä»¤ï¼Œ<code>child</code>ã€‚<pre><code class=language-go>package main

import (
	&quot;fmt&quot;
	&quot;os&quot;
	&quot;os/exec&quot;
	&quot;syscall&quot;
)

func main() {
	switch os.Args[1] {
	case &quot;run&quot;:
		run()
	case &quot;child&quot;:
		child()
	default:
		panic(&quot;what?&quot;)
	}
}

func run() {
	cmd := exec.Command(&quot;/proc/self/exe&quot;, append([]string{&quot;child&quot;}, os.Args[2:]...)...)
	cmd.Stdin = os.Stdin
	cmd.Stdout = os.Stdout
	cmd.Stderr = os.Stderr

	cmd.SysProcAttr = &amp;syscall.SysProcAttr{
		Cloneflags: syscall.CLONE_NEWUTS | syscall.CLONE_NEWPID,
	}

	must(cmd.Run())
}

func child() {
	fmt.Printf(&quot;Running %v as pid: %d\n&quot;, os.Args[2:], os.Getpid())
	cmd := exec.Command(os.Args[2], os.Args[3:]...)
	cmd.Stdin = os.Stdin
	cmd.Stdout = os.Stdout
	cmd.Stderr = os.Stderr

	must(cmd.Run())
}

func must(err error) {
	if err != nil {
		panic(err)
	}
}
</code></pre><p>å½“æˆ‘ä»¬ç”¨ <code>run</code> ä¸€ä¸ªå‘½ä»¤çš„æ—¶å€™ï¼Œå®é™…ä¸Šä¼šå†æ¬¡è¿è¡Œè‡ªå·±(fork)ï¼Œå¹¶åŠ å…¥å‘½ä»¤ <code>child</code>ï¼Œç„¶å <code>child()</code> å‡½æ•°ä¼šå®é™…çš„æ‰§è¡Œå¯åŠ¨ç”¨æˆ·éœ€æ±‚çš„å‘½ä»¤ã€‚è¿™æ ·æœ‰äº†ä¸€å±‚ <code>child()</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥å–å¾—æ›´å¤šçš„è¿›ç¨‹ä¿¡æ¯äº†ã€‚<pre><code class=language-bash>vagrant@vagrant:/vagrant$ sudo go run docker.go run echo hello
Running [echo hello] as pid: 1
hello
</code></pre><p>æ³¨æ„åˆ°äº†ä¹ˆï¼Œè¿™é‡Œçš„ <code>pid: 1</code>ï¼Œè¯´æ˜æˆ‘ä»¬å»ºç«‹ PID å‘½åç©ºé—´æˆåŠŸäº†çš„ã€‚<p>ä¸ºäº†ç¡®ä¿¡ï¼Œå¯ä»¥åˆ é™¤ä¸Šé¢çš„ <code>CLONE_NEWPID</code> æ ‡å¿—ä½ï¼Œå†æ¬¡æ‰§è¡Œè¿™ä¸ªç¨‹åºï¼š<pre><code class=language-bash>vagrant@vagrant:/vagrant$ sudo go run docker.go run echo hello
Running [echo hello] as pid: 3528
hello
</code></pre><p>çœ‹åˆ°äº†å§ï¼Œå¦‚æœæ²¡æœ‰ <code>CLONE_NEWPID</code> å»ºç«‹æ–°çš„ PID å‘½åç©ºé—´ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å¤„äºå®¿ä¸»çš„ PID å‘½åç©ºé—´ï¼Œæ–°å¯åŠ¨çš„è¿›ç¨‹ ID æ˜¯åŸæ¥çš„ç©ºé—´çš„ <code>3528</code>ã€‚ä½†æ˜¯ä¸€æ—¦å¯ç”¨äº†æ–°çš„ PID å‘½åç©ºé—´ï¼Œé‚£ä¹ˆæ–°å¯åŠ¨çš„è¿›ç¨‹å°†æˆä¸ºè¯¥å‘½åç©ºé—´çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼Œå› æ­¤ PID å°±ä¸º <code>1</code> äº†ã€‚<p>å¥½å§ï¼Œè¿™è¯´æ˜æˆ‘ä»¬ç¡®å®å·²ç»åœ¨æ–°çš„ PID å‘½åç©ºé—´é‡Œäº†ï¼Œé‚£ä¸ºä»€ä¹ˆ <code>ps</code> ä¸å¯¹å‘¢ï¼Ÿ<pre><code class=language-bash>vagrant@vagrant:/vagrant$ sudo go run docker.go run /bin/sh
Running [/bin/sh] as pid: 1
# ps
  PID TTY          TIME CMD
 3534 pts/0    00:00:00 sudo
 3535 pts/0    00:00:00 go
 3559 pts/0    00:00:00 docker
 3562 pts/0    00:00:00 exe
 3566 pts/0    00:00:00 sh
 3568 pts/0    00:00:00 ps
#
</code></pre><p>å®é™…ä¸Šï¼Œè¿™æ˜¯ç”±äº <code>ps</code> åªæ˜¯ç®€å•åœ°è§‚å¯Ÿ <code>/proc</code> çš„å†…å®¹è€Œç»™å‡ºçš„ä¿¡æ¯ï¼Œè€Œæ­¤æ—¶å®¹å™¨å†…çš„ <code>/proc</code> è¿˜æ˜¯å®¿ä¸»çš„ï¼Œæ‰€ä»¥è™½ç„¶å·²ç»ä½äºæ–°çš„ PID å‘½åç©ºé—´äº†ï¼Œä½†æ˜¯ <code>ps</code> è¿˜æ— æ³•æ­£å¸¸å·¥ä½œã€‚<pre><code class=language-bash>vagrant@vagrant:/vagrant$ sudo go run docker.go run /bin/sh
Running [/bin/sh] as pid: 1
# ls /proc
1     157    23     27805  3     376  48   59   80         consoles     ioports      meminfo       softirqs           vmallocinfo
10    158    23167  27808  30    396  49   6    813        cpuinfo      irq          misc          stat               vmstat
1070  159    235    27809  31    404  490  60   814        crypto       kallsyms     modules       swaps              zoneinfo
11    16     24     28     313   407  5    602  816        devices      kcore        mounts        sys
1130  17     257    28057  314   416  50   66   850        diskstats    keys         mtrr          sysrq-trigger
1146  18     261    2851   3207  431  51   7    9          dma          key-users    net           sysvipc
1147  19     262    286    3569  434  52   776  907        driver       kmsg         pagetypeinfo  thread-self
119   2      2650   2873   3570  435  53   779  acpi       execdomains  kpagecgroup  partitions    timer_list
12    20     2683   2875   3594  439  54   780  asound     fb           kpagecount   sched_debug   timer_stats
1213  21     271    2877   3597  442  55   79   buddyinfo  filesystems  kpageflags   schedstat     tty
13    22     273    29     360   447  56   791  bus        fs           loadavg      scsi          uptime
14    22497  27794  2910   3601  449  57   795  cgroups    interrupts   locks        self          version
15    22504  27799  2911   3603  47   58   8    cmdline    iomem        mdstat       slabinfo      version_signature
#
</code></pre><h2 id=éš”ç¦»-file-system-å‘½åç©ºé—´>éš”ç¦» File System å‘½åç©ºé—´</h2><p>ç»è¿‡å‰é¢çš„è¯•éªŒï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†æ˜¯ç”±äº <code>/proc</code> è¿˜æ˜¯å®¿ä¸»çš„ <code>/proc</code>ï¼Œæ‰€ä»¥ <code>ps</code> æ— æ³•æ­£å¸¸å·¥ä½œã€‚é‚£ä¹ˆæˆ‘ä»¬æ‰€éœ€è¦çš„å°±æ˜¯æŒ‚è½½ä¸€ä¸ªå®¹å™¨å†…çš„ <code>/proc</code>ã€‚è€Œä¸”ï¼Œæˆ‘ä»¬å…¶å®ä¸€ç›´éƒ½åœ¨å®¿ä¸»çš„æ–‡ä»¶ç³»ç»Ÿçš„å‘½åç©ºé—´é‡Œï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è¿˜å¯ä»¥å»ºç«‹ä¸€å¥—ç‹¬ç«‹çš„ rootfs ç»™å®¹å™¨ã€‚<pre><code class=language-go>package main

import (
	&quot;fmt&quot;
	&quot;os&quot;
	&quot;os/exec&quot;
	&quot;syscall&quot;
)

func main() {
	switch os.Args[1] {
	case &quot;run&quot;:
		run()
	case &quot;child&quot;:
		child()
	default:
		panic(&quot;what?&quot;)
	}
}

func run() {
	cmd := exec.Command(&quot;/proc/self/exe&quot;, append([]string{&quot;child&quot;}, os.Args[2:]...)...)
	cmd.Stdin = os.Stdin
	cmd.Stdout = os.Stdout
	cmd.Stderr = os.Stderr

	cmd.SysProcAttr = &amp;syscall.SysProcAttr{
		Cloneflags: syscall.CLONE_NEWUTS | syscall.CLONE_NEWPID | syscall.CLONE_NEWNS,
	}

	must(cmd.Run())
}

func child() {
	fmt.Printf(&quot;Running %v as pid: %d\n&quot;, os.Args[2:], os.Getpid())
	cmd := exec.Command(os.Args[2], os.Args[3:]...)
	cmd.Stdin = os.Stdin
	cmd.Stdout = os.Stdout
	cmd.Stderr = os.Stderr

	must(syscall.Chroot(&quot;/var/lib/alpine&quot;))
	must(os.Chdir(&quot;/&quot;))
	must(syscall.Mount(&quot;proc&quot;, &quot;proc&quot;, &quot;proc&quot;, 0, &quot;&quot;))
	must(cmd.Run())
}

func must(err error) {
	if err != nil {
		panic(err)
	}
}
</code></pre><p>è¿™é‡Œæˆ‘ä»¬åšäº†ä¸¤ä¸ªæ”¹åŠ¨ã€‚<p>å…¶ä¸€ï¼Œåœ¨ <code>run()</code> ä¸­å¢åŠ  <code>CLONE_NEWNS</code> æ ‡å¿—ä½ï¼Œä»¥å¢åŠ æ–°çš„æ–‡ä»¶ç³»ç»Ÿå‘½åç©ºé—´ï¼ˆä¹Ÿè¢«ç§°ä¸º mount å‘½åç©ºé—´ï¼‰ã€‚è¿™é‡Œä¹‹æ‰€ä»¥å« <code>NEWNS</code>ï¼Œå®é™…çš„æ„æ€æ˜¯ <code>New Namespace</code>ï¼Œè¿™æ˜¯å› ä¸ºæœ€åˆå®ç° namespace çš„æ—¶å€™ï¼Œåªæƒ³åˆ°äº†æ–‡ä»¶ç³»ç»Ÿï¼Œsoâ€¦â€¦ğŸ˜“<p>å…¶äºŒï¼Œåœ¨ <code>child()</code> ä¸­ï¼Œ<code>chroot</code> åˆ°æˆ‘ä»¬æ–°çš„ rootfsï¼š<code>/var/lib/alpine</code>ï¼Œå¹¶ä¸”åˆ‡æ¢åˆ°æ ¹ç›®å½•ï¼Œç„¶åæŒ‚è½½ <code>/proc</code>ã€‚<pre><code class=language-go>func child() {
	...
	must(syscall.Chroot(&quot;/var/lib/alpine&quot;))
	must(os.Chdir(&quot;/&quot;))
	must(syscall.Mount(&quot;proc&quot;, &quot;proc&quot;, &quot;proc&quot;, 0, &quot;&quot;))
	...
}
</code></pre><p>ç„¶åè®©æˆ‘ä»¬å†æ¬¡è¿è¡Œè‡ªå·±çš„å®¹å™¨ï¼š<pre><code class=language-bash>vagrant@vagrant:/vagrant$ sudo go run docker.go run /bin/sh
Running [/bin/sh] as pid: 1
/ # ps
PID   USER     TIME   COMMAND
    1 root       0:00 /proc/self/exe child /bin/sh
    4 root       0:00 /bin/sh
    5 root       0:00 ps
/ #
</code></pre><p>Yeah! ğŸ’ª è¿™æ¬¡ç»ˆäºçœ‹åˆ° <code>ps</code> æ­£å¸¸å·¥ä½œäº†ï¼Œè¿™æ˜¯æˆ‘ä»¬è‡ªå·±çš„è¿›ç¨‹ç©ºé—´ï¼ŒPID ä» 1 å¼€å§‹äº†ã€‚ğŸ˜¸<h1 id=æ€»ç»“>æ€»ç»“</h1><p>è¿™å¾ˆç¥å¥‡ï¼Œæˆ‘ä»¬ä»é›¶å¼€å§‹åšå‡ºäº†è‡ªå·±çš„å®¹å™¨ï¼Œæœ‰äº†è‡ªå·±çš„ hostnameã€PIDã€mount çš„å‘½åç©ºé—´ï¼Œçœ‹èµ·æ¥éƒ½å’Œ Docker å®¹å™¨ä¸€æ ·ã€‚ç»è¿‡è¿™ä¸ªå®ç°çš„è¿‡ç¨‹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ‰€è°“å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œå…¶å®å°±æ˜¯å¯åŠ¨äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œæ²¡æœ‰åˆ«çš„ç‰¹æ®Šçš„ä¸œè¥¿ã€‚å°±æ˜¯å¯åŠ¨äº†ä¸€ä¸ªè¿›ç¨‹ï¼ŒæŒ‡å®šäº†ä¸€äº›å‘½åç©ºé—´ã€æŒ‚è½½ç­‰ã€‚ä»…æ­¤è€Œå·²ã€‚<strong>å®¹å™¨ï¼Œå°±æ˜¯è¿›ç¨‹ã€‚</strong><h2 id=å‘½åç©ºé—´-namespace>å‘½åç©ºé—´ï¼ˆNamespaceï¼‰</h2><p>ä»ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå…¶å®æˆ‘ä»¬å·²ç»å¯ä»¥æ„Ÿè§‰åˆ°äº†ã€‚<strong><code>namespace</code>å†³å®šä½ èƒ½çœ‹åˆ°ä»€ä¹ˆ</strong><ul><li>UNIX Timesharing System ï¼ˆåˆ«çœ‹åå­—å¾ˆå¿½æ‚ ï¼Œå°±æ˜¯ hostnameï¼‰<br><li>Process IDs<br><li>File system (å°±æ˜¯ mount)<br><li>Users<br><li>IPC<br><li>Networking<br><br></ul><h2 id=æ§åˆ¶ç»„-control-groups>æ§åˆ¶ç»„ï¼ˆControl groupsï¼‰</h2><p><strong><code>cgroups</code> æ§åˆ¶ä½ èƒ½ç”¨ä»€ä¹ˆ</strong><ul><li>CPU<br><li>Memory<br><li>Disk I/O<br><li>Network<br><li>Device permissions (<code>/dev</code>)<br><br></ul><h2 id=images-rootfs>Images ï¼ˆrootfsï¼‰</h2><p>ä¹‹å‰æˆ‘ä»¬æ‰€ç”¨åˆ°çš„ <code>rootfs</code>ï¼Œ<code>/var/lib/alpine</code> æ˜¯æ¥è‡ªäº alpine ç½‘ç«™çš„ï¼Œå¯¹äº Docker è€Œè¨€ï¼ŒDocker Hub çš„é‚£äº›é•œåƒåœ¨ä¸‹è½½ä¸‹æ¥åï¼Œå°±ä¼šè¢«ä½œä¸ºå®¹å™¨çš„ <code>rootfs</code> æ‰€ä½¿ç”¨ã€‚å½“ç„¶å®é™…çš„ç»†èŠ‚è¦æ›´åŠ å¤æ‚ï¼Œæ¯”å¦‚å¼•å…¥äº†åˆ†å±‚å­˜å‚¨ Union FS çš„æ¦‚å¿µã€å…ƒæ•°æ®ç­‰ç­‰ã€‚<p>Liz Rice çš„å›¢é˜Ÿåˆ¶ä½œäº† <a href=https://microbadger.com/ target=_blank>https://microbadger.com/</a> æ¥å¸®åŠ©æŸ¥çœ‹å’Œåˆ†æä½äº Docker Hub ä¸Šçš„é•œåƒã€‚<h2 id=è¿›ä¸€æ­¥é˜…è¯»>è¿›ä¸€æ­¥é˜…è¯»</h2><p>å¯ä»¥çœ‹ä¸€ä¸‹ Julien Friedman çš„ gistï¼š<a href=https://bit.ly/1nDqpDI target=_blank>https://bit.ly/1nDqpDI</a>ã€‚ä»–çš„å®ç°ç•¥æœ‰ä¸åŒï¼Œæ¯”å¦‚é‡Œé¢æ²¡æœ‰ä½¿ç”¨ <code>chroot</code>ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨ <code>mount</code> æŒ‚è½½ <code>rootfs</code>ç­‰ã€‚</div><div class=clear></div></div></div></article><div class=clear></div><p class=post-tags><span class="fa fa-tags">Tags:</span>
<a rel=tag href=../../../../tags/golang>golang</a><div id=related-posts><div class=related-inner></div></div><section id=comments class=themeform></section><section id=comments class=themeform></section></div></div><div class="sidebar s1 collapsed" data-position=left data-layout=col-3cm data-sb-id=s1><a class=sidebar-toggle title="Expand Sidebar"><i class="fas icon-sidebar-toggle"></i></a><div class=sidebar-content><div class="sidebar-top group"><p>Follow:<ul class=social-links><li><a class=social-tooltip href=mailto: title=Email><i class="fa fa-envelope"></i></a><li><a class=social-tooltip href=//github.com/ title=GitHub><i class="fa fa-github"></i></a><li><a class=social-tooltip title="RSS Feed" aria-label="RSS Feed" href=../../../../feed target=_blank style=color:#ffffffb2><i class="fa fa-rss"></i></a></ul></div><ul class="post-nav group"><li class=previous><a href=../../../../language/golang/goher/2017-10-09-video-the-new-era-of-go-package-management/ rel=prev><i class="fa fa-chevron-left"></i><strong>Previous Post</strong>
<span>è§†é¢‘ç¬”è®°ï¼šGo åŒ…ç®¡ç†çš„æ–°æ—¶ä»£ - Sam Boyer</span></a></ul><div id=categories-2 class="widget widget_categories"><h3>åˆ†ç±»</h3><ul><li class="cat-item cat-item-1"><a href=../../../../categories/ai/>Ai</a>
<small>(7)</small><li class="cat-item cat-item-1"><a href=../../../../categories/algorithm/>Algorithm</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/android/>Android</a>
<small>(17)</small><li class="cat-item cat-item-1"><a href=../../../../categories/ansible/>Ansible</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../../categories/beats/>Beats</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/busybox/>Busybox</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/caffe/>Caffe</a>
<small>(21)</small><li class="cat-item cat-item-1"><a href=../../../../categories/cgo/>Cgo</a>
<small>(10)</small><li class="cat-item cat-item-1"><a href=../../../../categories/clang/>Clang</a>
<small>(41)</small><li class="cat-item cat-item-1"><a href=../../../../categories/cmd/>Cmd</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../../categories/cpp/>Cpp</a>
<small>(7)</small><li class="cat-item cat-item-1"><a href=../../../../categories/cross_compile/>Cross_compile</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../../categories/css/>Css</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/dart/>Dart</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/database/>Database</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/dataset/>Dataset</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../../categories/deeplearning/>Deeplearning</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../../categories/devops/>Devops</a>
<small>(70)</small><li class="cat-item cat-item-1"><a href=../../../../categories/docker/>Docker</a>
<small>(18)</small><li class="cat-item cat-item-1"><a href=../../../../categories/dts/>Dts</a>
<small>(5)</small><li class="cat-item cat-item-1"><a href=../../../../categories/elasticsearch/>Elasticsearch</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../../categories/english/>English</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../../categories/freertos/>Freertos</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/front-end/>Front-End</a>
<small>(20)</small><li class="cat-item cat-item-1"><a href=../../../../categories/golang/>Golang</a>
<small>(136)</small><li class="cat-item cat-item-1"><a href=../../../../categories/hacker/>Hacker</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/hardware/>Hardware</a>
<small>(22)</small><li class="cat-item cat-item-1"><a href=../../../../categories/hi3519a/>Hi3519a</a>
<small>(4)</small><li class="cat-item cat-item-1"><a href=../../../../categories/hi3559/>Hi3559</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/hisi/>Hisi</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/hisilicon/>Hisilicon</a>
<small>(57)</small><li class="cat-item cat-item-1"><a href=../../../../categories/jetson/>Jetson</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../../categories/js/>Js</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../../categories/jumpserver/>Jumpserver</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../../categories/kernel/>Kernel</a>
<small>(15)</small><li class="cat-item cat-item-1"><a href=../../../../categories/libev/>Libev</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../../categories/linux/>Linux</a>
<small>(94)</small><li class="cat-item cat-item-1"><a href=../../../../categories/linux-system/>Linux-System</a>
<small>(8)</small><li class="cat-item cat-item-1"><a href=../../../../categories/linux-%E5%91%BD%E4%BB%A4/>Linux-å‘½ä»¤</a>
<small>(120)</small><li class="cat-item cat-item-1"><a href=../../../../categories/mac/>Mac</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../../categories/machinelearn/>Machinelearn</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../../categories/machinelearning/>Machinelearning</a>
<small>(11)</small><li class="cat-item cat-item-1"><a href=../../../../categories/macos/>Macos</a>
<small>(12)</small><li class="cat-item cat-item-1"><a href=../../../../categories/math/>Math</a>
<small>(7)</small><li class="cat-item cat-item-1"><a href=../../../../categories/matplotlib/>Matplotlib</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../../categories/mpp/>Mpp</a>
<small>(12)</small><li class="cat-item cat-item-1"><a href=../../../../categories/mysql/>Mysql</a>
<small>(10)</small><li class="cat-item cat-item-1"><a href=../../../../categories/ncnn/>Ncnn</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../../categories/network/>Network</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/nginx/>Nginx</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../../categories/nnie/>Nnie</a>
<small>(13)</small><li class="cat-item cat-item-1"><a href=../../../../categories/node/>Node</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../../categories/numpy/>Numpy</a>
<small>(4)</small><li class="cat-item cat-item-1"><a href=../../../../categories/opencpu/>Opencpu</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/opencv/>Opencv</a>
<small>(10)</small><li class="cat-item cat-item-1"><a href=../../../../categories/pandas/>Pandas</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/platform/>Platform</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/post/>Post</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../../categories/pyqt/>Pyqt</a>
<small>(8)</small><li class="cat-item cat-item-1"><a href=../../../../categories/python/>Python</a>
<small>(31)</small><li class="cat-item cat-item-1"><a href=../../../../categories/pytorch/>Pytorch</a>
<small>(6)</small><li class="cat-item cat-item-1"><a href=../../../../categories/raspi/>Raspi</a>
<small>(4)</small><li class="cat-item cat-item-1"><a href=../../../../categories/rk3288/>Rk3288</a>
<small>(23)</small><li class="cat-item cat-item-1"><a href=../../../../categories/rk3399/>Rk3399</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../../categories/rtmp/>Rtmp</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../../categories/scikit/>Scikit</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../../categories/shell/>Shell</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../../categories/socket/>Socket</a>
<small>(5)</small><li class="cat-item cat-item-1"><a href=../../../../categories/stm32/>Stm32</a>
<small>(6)</small><li class="cat-item cat-item-1"><a href=../../../../categories/stm8/>Stm8</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../../categories/weixin/>Weixin</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/windows/>Windows</a>
<small>(22)</small><li class="cat-item cat-item-1"><a href=../../../../categories/work/>Work</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/yolo/>Yolo</a>
<small>(16)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/>å‰ç«¯æŠ€æœ¯</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E5%8D%8F%E8%AE%AE/>åè®®</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/>åµŒå…¥å¼</a>
<small>(23)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E5%B7%A5%E5%85%B7/>å·¥å…·</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95/>å¸¸ç”¨ç®—æ³•</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/>å¾®æœåŠ¡</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88/>æ’åˆ—ç»„åˆ</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E6%95%B0%E6%8D%AE%E5%BA%93/>æ•°æ®åº“</a>
<small>(37)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91/>æ–‡æœ¬ç¼–è¾‘</a>
<small>(30)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/>æ­£åˆ™è¡¨è¾¾å¼</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E7%94%9F%E6%B4%BB%E6%8A%80%E5%B7%A7/>ç”Ÿæ´»æŠ€å·§</a>
<small>(4)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E7%A8%8B%E5%BA%8F%E5%91%98/>ç¨‹åºå‘˜</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/>ç½‘ç»œå®‰å…¨</a>
<small>(40)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E9%9B%86%E7%BE%A4%E7%9B%91%E6%8E%A7/>é›†ç¾¤ç›‘æ§</a>
<small>(7)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/>é™æ€åšå®¢</a>
<small>(15)</small><li class="cat-item cat-item-1"><a href=../../../../categories/%E9%AB%98%E6%95%B0/>é«˜æ•°</a>
<small>(2)</small></ul></div></div></div><div class="sidebar s2 collapsed" data-position=right data-layout=col-3cm data-sb-id=s2><a class=sidebar-toggle title="Expand Sidebar"><i class="fas icon-sidebar-toggle"></i></a><div class=sidebar-content><div class="sidebar-top group"><p>More</div><ul class="post-nav group"><li class=next><a href=../../../../language/golang/goher/2017-10-20-video-seven-ways-to-profile-go-apps/ rel=next><i class="fa fa-chevron-right"></i><strong>Next post</strong>
<span>è§†é¢‘ç¬”è®°ï¼š7ç§ Go ç¨‹åºæ€§èƒ½åˆ†ææ–¹æ³• - Dave Cheney</span></a></ul><div id=tag_cloud-2 class="widget widget_tag_cloud"><h3>æ ‡ç­¾äº‘</h3><div class="tagcloud post-tags"><a rel=tag href=../../../../tags/ai/ class=tag-link-7 title="1 Posts">ai<small>(7)</small></a>
<a rel=tag href=../../../../tags/ansible/ class=tag-link-19 title="1 Posts">ansible<small>(19)</small></a>
<a rel=tag href=../../../../tags/awesome/ class=tag-link-3 title="1 Posts">awesome<small>(3)</small></a>
<a rel=tag href=../../../../tags/bfc/ class=tag-link-2 title="1 Posts">bfc<small>(2)</small></a>
<a rel=tag href=../../../../tags/c/ class=tag-link-5 title="1 Posts">c<small>(5)</small></a>
<a rel=tag href=../../../../tags/caffe/ class=tag-link-21 title="1 Posts">caffe<small>(21)</small></a>
<a rel=tag href=../../../../tags/centos7/ class=tag-link-2 title="1 Posts">centos7<small>(2)</small></a>
<a rel=tag href=../../../../tags/cgo/ class=tag-link-10 title="1 Posts">cgo<small>(10)</small></a>
<a rel=tag href=../../../../tags/clang/ class=tag-link-41 title="1 Posts">clang<small>(41)</small></a>
<a rel=tag href=../../../../tags/cmd/ class=tag-link-2 title="1 Posts">cmd<small>(2)</small></a>
<a rel=tag href=../../../../tags/cpp/ class=tag-link-7 title="1 Posts">cpp<small>(7)</small></a>
<a rel=tag href=../../../../tags/cross_compile/ class=tag-link-9 title="1 Posts">cross_compile<small>(9)</small></a>
<a rel=tag href=../../../../tags/css/ class=tag-link-20 title="1 Posts">css<small>(20)</small></a>
<a rel=tag href=../../../../tags/css3/ class=tag-link-2 title="1 Posts">css3<small>(2)</small></a>
<a rel=tag href=../../../../tags/curd/ class=tag-link-3 title="1 Posts">curd<small>(3)</small></a>
<a rel=tag href=../../../../tags/curl/ class=tag-link-2 title="1 Posts">curl<small>(2)</small></a>
<a rel=tag href=../../../../tags/dataset/ class=tag-link-2 title="1 Posts">dataset<small>(2)</small></a>
<a rel=tag href=../../../../tags/devops/ class=tag-link-3 title="1 Posts">devops<small>(3)</small></a>
<a rel=tag href=../../../../tags/docker/ class=tag-link-21 title="1 Posts">docker<small>(21)</small></a>
<a rel=tag href=../../../../tags/drone/ class=tag-link-22 title="1 Posts">drone<small>(22)</small></a>
<a rel=tag href=../../../../tags/dts/ class=tag-link-6 title="1 Posts">dts<small>(6)</small></a>
<a rel=tag href=../../../../tags/elasticsearch/ class=tag-link-9 title="1 Posts">elasticsearch<small>(9)</small></a>
<a rel=tag href=../../../../tags/emacs/ class=tag-link-12 title="1 Posts">emacs<small>(12)</small></a>
<a rel=tag href=../../../../tags/encode/ class=tag-link-3 title="1 Posts">encode<small>(3)</small></a>
<a rel=tag href=../../../../tags/english/ class=tag-link-8 title="1 Posts">english<small>(8)</small></a>
<a rel=tag href=../../../../tags/es6/ class=tag-link-2 title="1 Posts">es6<small>(2)</small></a>
<a rel=tag href=../../../../tags/etcd/ class=tag-link-4 title="1 Posts">etcd<small>(4)</small></a>
<a rel=tag href=../../../../tags/flannel/ class=tag-link-2 title="1 Posts">flannel<small>(2)</small></a>
<a rel=tag href=../../../../tags/git/ class=tag-link-6 title="1 Posts">git<small>(6)</small></a>
<a rel=tag href=../../../../tags/github/ class=tag-link-2 title="1 Posts">github<small>(2)</small></a>
<a rel=tag href=../../../../tags/golang/ class=tag-link-150 title="1 Posts">golang<small>(150)</small></a>
<a rel=tag href=../../../../tags/gradle/ class=tag-link-3 title="1 Posts">gradle<small>(3)</small></a>
<a rel=tag href=../../../../tags/haproxy/ class=tag-link-5 title="1 Posts">haproxy<small>(5)</small></a>
<a rel=tag href=../../../../tags/hardware/ class=tag-link-22 title="1 Posts">hardware<small>(22)</small></a>
<a rel=tag href=../../../../tags/hexo/ class=tag-link-3 title="1 Posts">hexo<small>(3)</small></a>
<a rel=tag href=../../../../tags/hi3519a/ class=tag-link-4 title="1 Posts">hi3519a<small>(4)</small></a>
<a rel=tag href=../../../../tags/hisilicon/ class=tag-link-57 title="1 Posts">hisilicon<small>(57)</small></a>
<a rel=tag href=../../../../tags/html/ class=tag-link-2 title="1 Posts">html<small>(2)</small></a>
<a rel=tag href=../../../../tags/http/ class=tag-link-6 title="1 Posts">http<small>(6)</small></a>
<a rel=tag href=../../../../tags/hugo/ class=tag-link-14 title="1 Posts">hugo<small>(14)</small></a>
<a rel=tag href=../../../../tags/imagemagick/ class=tag-link-2 title="1 Posts">imagemagick<small>(2)</small></a>
<a rel=tag href=../../../../tags/ip/ class=tag-link-3 title="1 Posts">ip<small>(3)</small></a>
<a rel=tag href=../../../../tags/iproute2/ class=tag-link-5 title="1 Posts">iproute2<small>(5)</small></a>
<a rel=tag href=../../../../tags/iptables/ class=tag-link-17 title="1 Posts">iptables<small>(17)</small></a>
<a rel=tag href=../../../../tags/javascript/ class=tag-link-19 title="1 Posts">javascript<small>(19)</small></a>
<a rel=tag href=../../../../tags/jetson/ class=tag-link-3 title="1 Posts">jetson<small>(3)</small></a>
<a rel=tag href=../../../../tags/jquery/ class=tag-link-12 title="1 Posts">jquery<small>(12)</small></a>
<a rel=tag href=../../../../tags/js/ class=tag-link-10 title="1 Posts">js<small>(10)</small></a>
<a rel=tag href=../../../../tags/jumpserver/ class=tag-link-2 title="1 Posts">jumpserver<small>(2)</small></a>
<a rel=tag href=../../../../tags/jwt/ class=tag-link-3 title="1 Posts">jwt<small>(3)</small></a>
<a rel=tag href=../../../../tags/kernel/ class=tag-link-15 title="1 Posts">kernel<small>(15)</small></a>
<a rel=tag href=../../../../tags/kubernetes/ class=tag-link-11 title="1 Posts">kubernetes<small>(11)</small></a>
<a rel=tag href=../../../../tags/libev/ class=tag-link-2 title="1 Posts">libev<small>(2)</small></a>
<a rel=tag href=../../../../tags/linux/ class=tag-link-22 title="1 Posts">linux<small>(22)</small></a>
<a rel=tag href=../../../../tags/linux-system/ class=tag-link-8 title="1 Posts">linux-system<small>(8)</small></a>
<a rel=tag href=../../../../tags/lvs/ class=tag-link-8 title="1 Posts">lvs<small>(8)</small></a>
<a rel=tag href=../../../../tags/machinelearn/ class=tag-link-3 title="1 Posts">machinelearn<small>(3)</small></a>
<a rel=tag href=../../../../tags/machinelearning/ class=tag-link-11 title="1 Posts">machinelearning<small>(11)</small></a>
<a rel=tag href=../../../../tags/macos/ class=tag-link-14 title="1 Posts">macos<small>(14)</small></a>
<a rel=tag href=../../../../tags/makefile/ class=tag-link-2 title="1 Posts">makefile<small>(2)</small></a>
<a rel=tag href=../../../../tags/mariadb/ class=tag-link-9 title="1 Posts">mariadb<small>(9)</small></a>
<a rel=tag href=../../../../tags/math/ class=tag-link-7 title="1 Posts">math<small>(7)</small></a>
<a rel=tag href=../../../../tags/matplotlib/ class=tag-link-3 title="1 Posts">matplotlib<small>(3)</small></a>
<a rel=tag href=../../../../tags/maven/ class=tag-link-2 title="1 Posts">maven<small>(2)</small></a>
<a rel=tag href=../../../../tags/meteor/ class=tag-link-7 title="1 Posts">meteor<small>(7)</small></a>
<a rel=tag href=../../../../tags/ml/ class=tag-link-3 title="1 Posts">ml<small>(3)</small></a>
<a rel=tag href=../../../../tags/mpp/ class=tag-link-12 title="1 Posts">mpp<small>(12)</small></a>
<a rel=tag href=../../../../tags/mysql/ class=tag-link-61 title="1 Posts">mysql<small>(61)</small></a>
<a rel=tag href=../../../../tags/ncnn/ class=tag-link-3 title="1 Posts">ncnn<small>(3)</small></a>
<a rel=tag href=../../../../tags/netns/ class=tag-link-2 title="1 Posts">netns<small>(2)</small></a>
<a rel=tag href=../../../../tags/network/ class=tag-link-2 title="1 Posts">network<small>(2)</small></a>
<a rel=tag href=../../../../tags/nginx/ class=tag-link-28 title="1 Posts">nginx<small>(28)</small></a>
<a rel=tag href=../../../../tags/nmap/ class=tag-link-2 title="1 Posts">nmap<small>(2)</small></a>
<a rel=tag href=../../../../tags/nnie/ class=tag-link-13 title="1 Posts">nnie<small>(13)</small></a>
<a rel=tag href=../../../../tags/node/ class=tag-link-4 title="1 Posts">node<small>(4)</small></a>
<a rel=tag href=../../../../tags/nosql/ class=tag-link-8 title="1 Posts">nosql<small>(8)</small></a>
<a rel=tag href=../../../../tags/npm/ class=tag-link-3 title="1 Posts">npm<small>(3)</small></a>
<a rel=tag href=../../../../tags/numpy/ class=tag-link-4 title="1 Posts">numpy<small>(4)</small></a>
<a rel=tag href=../../../../tags/oauth2/ class=tag-link-2 title="1 Posts">oauth2<small>(2)</small></a>
<a rel=tag href=../../../../tags/opencv/ class=tag-link-10 title="1 Posts">opencv<small>(10)</small></a>
<a rel=tag href=../../../../tags/openssl/ class=tag-link-3 title="1 Posts">openssl<small>(3)</small></a>
<a rel=tag href=../../../../tags/pandoc/ class=tag-link-2 title="1 Posts">pandoc<small>(2)</small></a>
<a rel=tag href=../../../../tags/php/ class=tag-link-4 title="1 Posts">php<small>(4)</small></a>
<a rel=tag href=../../../../tags/post/ class=tag-link-4 title="1 Posts">post<small>(4)</small></a>
<a rel=tag href=../../../../tags/powershell/ class=tag-link-2 title="1 Posts">powershell<small>(2)</small></a>
<a rel=tag href=../../../../tags/prometheus/ class=tag-link-8 title="1 Posts">prometheus<small>(8)</small></a>
<a rel=tag href=../../../../tags/pyqt/ class=tag-link-8 title="1 Posts">pyqt<small>(8)</small></a>
<a rel=tag href=../../../../tags/python/ class=tag-link-33 title="1 Posts">python<small>(33)</small></a>
<a rel=tag href=../../../../tags/pytorch/ class=tag-link-6 title="1 Posts">pytorch<small>(6)</small></a>
<a rel=tag href=../../../../tags/raspi/ class=tag-link-4 title="1 Posts">raspi<small>(4)</small></a>
<a rel=tag href=../../../../tags/redis/ class=tag-link-2 title="1 Posts">redis<small>(2)</small></a>
<a rel=tag href=../../../../tags/reflect/ class=tag-link-3 title="1 Posts">reflect<small>(3)</small></a>
<a rel=tag href=../../../../tags/responsive/ class=tag-link-2 title="1 Posts">responsive<small>(2)</small></a>
<a rel=tag href=../../../../tags/restful/ class=tag-link-6 title="1 Posts">restful<small>(6)</small></a>
<a rel=tag href=../../../../tags/rk3288/ class=tag-link-22 title="1 Posts">rk3288<small>(22)</small></a>
<a rel=tag href=../../../../tags/rk3399/ class=tag-link-9 title="1 Posts">rk3399<small>(9)</small></a>
<a rel=tag href=../../../../tags/route/ class=tag-link-2 title="1 Posts">route<small>(2)</small></a>
<a rel=tag href=../../../../tags/rsync/ class=tag-link-2 title="1 Posts">rsync<small>(2)</small></a>
<a rel=tag href=../../../../tags/rtmp/ class=tag-link-2 title="1 Posts">rtmp<small>(2)</small></a>
<a rel=tag href=../../../../tags/scikit/ class=tag-link-3 title="1 Posts">scikit<small>(3)</small></a>
<a rel=tag href=../../../../tags/scrapy/ class=tag-link-8 title="1 Posts">scrapy<small>(8)</small></a>
<a rel=tag href=../../../../tags/scss/ class=tag-link-2 title="1 Posts">scss<small>(2)</small></a>
<a rel=tag href=../../../../tags/sed/ class=tag-link-3 title="1 Posts">sed<small>(3)</small></a>
<a rel=tag href=../../../../tags/seo/ class=tag-link-5 title="1 Posts">seo<small>(5)</small></a>
<a rel=tag href=../../../../tags/shell/ class=tag-link-11 title="1 Posts">shell<small>(11)</small></a>
<a rel=tag href=../../../../tags/socket/ class=tag-link-5 title="1 Posts">socket<small>(5)</small></a>
<a rel=tag href=../../../../tags/sqlite/ class=tag-link-2 title="1 Posts">sqlite<small>(2)</small></a>
<a rel=tag href=../../../../tags/ssh/ class=tag-link-3 title="1 Posts">ssh<small>(3)</small></a>
<a rel=tag href=../../../../tags/stm32/ class=tag-link-11 title="1 Posts">stm32<small>(11)</small></a>
<a rel=tag href=../../../../tags/stm8/ class=tag-link-9 title="1 Posts">stm8<small>(9)</small></a>
<a rel=tag href=../../../../tags/swagger/ class=tag-link-2 title="1 Posts">swagger<small>(2)</small></a>
<a rel=tag href=../../../../tags/swarm/ class=tag-link-2 title="1 Posts">swarm<small>(2)</small></a>
<a rel=tag href=../../../../tags/sysbench/ class=tag-link-2 title="1 Posts">sysbench<small>(2)</small></a>
<a rel=tag href=../../../../tags/sysctl/ class=tag-link-2 title="1 Posts">sysctl<small>(2)</small></a>
<a rel=tag href=../../../../tags/systemctl/ class=tag-link-2 title="1 Posts">systemctl<small>(2)</small></a>
<a rel=tag href=../../../../tags/tc/ class=tag-link-2 title="1 Posts">tc<small>(2)</small></a>
<a rel=tag href=../../../../tags/tcpdump/ class=tag-link-2 title="1 Posts">tcpdump<small>(2)</small></a>
<a rel=tag href=../../../../tags/timezone/ class=tag-link-2 title="1 Posts">timezone<small>(2)</small></a>
<a rel=tag href=../../../../tags/tshark/ class=tag-link-2 title="1 Posts">tshark<small>(2)</small></a>
<a rel=tag href=../../../../tags/ubuntu/ class=tag-link-2 title="1 Posts">ubuntu<small>(2)</small></a>
<a rel=tag href=../../../../tags/ulimit/ class=tag-link-2 title="1 Posts">ulimit<small>(2)</small></a>
<a rel=tag href=../../../../tags/vim/ class=tag-link-14 title="1 Posts">vim<small>(14)</small></a>
<a rel=tag href=../../../../tags/webpack3/ class=tag-link-2 title="1 Posts">webpack3<small>(2)</small></a>
<a rel=tag href=../../../../tags/windows/ class=tag-link-18 title="1 Posts">windows<small>(18)</small></a>
<a rel=tag href=../../../../tags/wireshark/ class=tag-link-2 title="1 Posts">wireshark<small>(2)</small></a>
<a rel=tag href=../../../../tags/xidel/ class=tag-link-2 title="1 Posts">xidel<small>(2)</small></a>
<a rel=tag href=../../../../tags/xml/ class=tag-link-2 title="1 Posts">xml<small>(2)</small></a>
<a rel=tag href=../../../../tags/yaml/ class=tag-link-2 title="1 Posts">yaml<small>(2)</small></a>
<a rel=tag href=../../../../tags/yolo/ class=tag-link-16 title="1 Posts">yolo<small>(16)</small></a>
<a rel=tag href=../../../../tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ class=tag-link-2 title="1 Posts">å¾®æœåŠ¡<small>(2)</small></a></div></div></div></div>`</div></div></div></div></div><script>var HUParams={"_disabled":[],"SmoothScroll":{"Enabled":true,"Options":{"touchpadSupport":false}},"centerAllImg":"1","timerOnScrollAllBrowsers":"1","extLinksStyle":"1","extLinksTargetExt":"1","extLinksSkipSelectors":{"classes":["btn","button"],"ids":[]},"imgSmartLoadEnabled":"1","imgSmartLoadOpts":{"parentSelectors":[".container .content",".container .sidebar","#footer","#header-widgets"],"opts":{"excludeImg":[".tc-holder-img"],"fadeIn_options":100}},"goldenRatio":"1.618","gridGoldenRatioLimit":"350","sbStickyUserSettings":{"desktop":true,"mobile":true},"isWPMobile":"","menuStickyUserSettings":{"desktop":"stick_up","mobile":"stick_up"},"isDevMode":"","ajaxUrl":"https:\/\/demo-hueman.presscustomizr.com\/?huajax=1","frontNonce":{"id":"HuFrontNonce","handle":"798e5956c0"},"userStarted":{"with":"before|1.0.4","on":{"date":"2017-05-22 16:30:22.000000","timezone_type":3,"timezone":"UTC"}},"isWelcomeNoteOn":"","welcomeContent":""};</script><script src=https://cdn.bootcss.com/lodash-compat/3.10.2/lodash.min.js></script><script src=https://cdn.bootcss.com/jquery/1.9.0/jquery.min.js></script><script src=../../../../front/js/scripts.js></script><footer id=footer><section class=container id=footer-bottom><div class=container-inner><a id=back-to-top href=#><i class="fa fa-angle-up"></i></a><div class="pad group"><div class="grid one-half"><div id=copyright><p>Copyright (c) 2017. All rights reserved. (ç‰ˆæƒæ‰€æœ‰) <a href=http://www.miitbeian.gov.cn/>é²ICPå¤‡17074587å·-1</a></div></div><div class="grid one-half last"><ul class=social-links><li><a class=social-tooltip title="On WeiBo" href=http://weibo.com/rinetd target=_blank><i class="fa fa-weibo"></i></a><li><a class=social-tooltip title="On Twitter" href=https://twitter.com/rinetd target=_blank><i class="fa fa-twitter"></i></a><li><a class=social-tooltip title="On GitHub" href=https://github.com/rinetd target=_blank><i class="fa fa-github"></i></a></ul></div></div></div></section></footer><div class=back-to-top id=back-to-top><i class="fa fa-angle-double-up"></i></div><script>$(".topbar-toggle-down").click(function(){$("#nav-topbar").css("overflow","visible");});</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5HM5XM2" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5HM5XM2');</script>