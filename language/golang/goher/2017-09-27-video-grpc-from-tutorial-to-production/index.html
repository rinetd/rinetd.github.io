<!DOCTYPE html>
<html lang="zh-CN" class="no-js">

<head>
    
<title>ËßÜÈ¢ëÁ¨îËÆ∞ÔºögRPC ‰ªéÂ≠¶‰π†Âà∞Áîü‰∫ß - Alan Shreve</title>
<meta charset="utf-8">

<meta name="robots" content="index,nofollow">


<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="x-dns-prefetch-control" content="on">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="origin-when-cross-origin" />

<meta name="description" content="ËßÜÈ¢ë‰ø°ÊÅØ grpc: From Tutorial to Production by Alan Shreve at GopherCon 2017 {% owl youtube 7FZ6ZyzGex0 %} https://www.youtube.com/watch?v=7FZ6ZyzGex0 ÂçöÊñáÔºöhttps://about.sourcegraph.com/go/grpc-in-produ">

<meta name="author" content=rinetd>

<meta name="baidu-site-verification" content="pCInWQYbNT" />
<meta name="google-site-verification" content="ifeWsnNpU7w8vP3ii_Cjq-P9LKw3ngVitnMWv4XmJqk" />





  
  
  
  
  
  

  








<link rel="canonical" href="../../../../language/golang/goher/2017-09-27-video-grpc-from-tutorial-to-production/" />

<link rel="icon" href="../../../../public/favicon.ico"/>
<link rel="shortcut icon" href="../../../../public/favicon.ico"/>













<link rel="stylesheet" href="../../../../front/css/main.min.css" >

<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">






<link rel="stylesheet" href="//cdn.bootcss.com/video.js/6.2.8/alt/video-js-cdn.min.css" />

</head>

<body class="single single-post single-format-standard col-3cm full-width topbar-enabled chrome">
    <div id="wrapper">
        <header id="header" class="top-menu-mobile-on one-mobile-menu top_menu header-ads-desktop  topbar-transparent">
    
  <nav class="nav-container group mobile-menu mobile-sticky " id="nav-mobile" data-menu-id="header-1">
    <div class="mobile-title-logo-in-header">
        <p class="site-title">
            <a class="custom-logo-link" href="" rel="home" title="Pytool | Home ">
                
                Pytool
            </a>
        </p>
    </div>
    <div class="ham__navbar-toggler-two collapsed" title="Menu" aria-expanded="false">
        <div class="ham__navbar-span-wrapper">
            <span class="line line-1"></span>
            <span class="line line-2"></span>
            <span class="line line-3"></span>
        </div>
    </div>
    <div class="nav-text">ËßÜÈ¢ëÁ¨îËÆ∞ÔºögRPC ‰ªéÂ≠¶‰π†Âà∞Áîü‰∫ß - Alan Shreve</div>
    <div class="nav-wrap container">
        <ul class="nav container-inner group mobile-search">
            <li>
                <form method="get" class="searchform themeform" action="https://demo-hueman.presscustomizr.com/">
                    <div>
                        <input type="text" class="search" name="s" onblur="if(this.value=='')this.value='To search type and hit enter';" onfocus="if(this.value=='To search type and hit enter')this.value='';" value="To search type and hit enter"/>
                    </div>
                </form>
            </li>
        </ul>
        <ul id="menu-topbar-menu" class="nav container-inner group">
        
            <li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home ">
            <a href=" ">Home</a>
            </li>

        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../ai/">Ai </a>
                
                                 
                            <ul class="sub-menu">
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../ai/math/">Math</a>
                                
                                            
                                        
                                </li>                
                            
                            </ul>
                        

              </li>
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../language/">Language </a>
                
                                 
                            <ul class="sub-menu">
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../language/python/">Python</a>
                                
                                            
                                                 
                                        <ul class="sub-menu">
                                            
                                                <li class="menu-item menu-item-type-custom menu-item-object-custom ">
                                                <a href="../../../../language/python/scrapy/">Scrapy</a>
                                                
                                            </li>                
                                            
                                        </ul>
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../language/golang/">Golang</a>
                                
                                            
                                                 
                                        <ul class="sub-menu">
                                            
                                                <li class="menu-item menu-item-type-custom menu-item-object-custom ">
                                                <a href="../../../../language/golang/hugo/">Hugo</a>
                                                
                                            </li>                
                                            
                                                <li class="menu-item menu-item-type-custom menu-item-object-custom ">
                                                <a href="../../../../language/golang/goher/">Goher</a>
                                                
                                            </li>                
                                            
                                        </ul>
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../language/java/">Java</a>
                                
                                            
                                                 
                                        <ul class="sub-menu">
                                            
                                                <li class="menu-item menu-item-type-custom menu-item-object-custom ">
                                                <a href="../../../../language/java/hadoop/">Hadoop</a>
                                                
                                            </li>                
                                            
                                        </ul>
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../language/awesome/">Awesome</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../language/php/">Php</a>
                                
                                            
                                                 
                                        <ul class="sub-menu">
                                            
                                                <li class="menu-item menu-item-type-custom menu-item-object-custom ">
                                                <a href="../../../../language/php/magento/">Magento</a>
                                                
                                            </li>                
                                            
                                        </ul>
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../language/android/">Android</a>
                                
                                            
                                        
                                </li>                
                            
                            </ul>
                        

              </li>
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../macos/">Macos </a>
                
                        

              </li>
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../hardware/">Hardware </a>
                
                                 
                            <ul class="sub-menu">
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../hardware/rtmp/">Rtmp</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../hardware/%E8%BD%A6%E8%81%94%E7%BD%91/">ËΩ¶ËÅîÁΩë</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../hardware/android-%E5%BA%95%E5%B1%82/">Android-Â∫ïÂ±Ç</a>
                                
                                            
                                        
                                </li>                
                            
                            </ul>
                        

              </li>
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../linux/">Linux </a>
                
                                 
                            <ul class="sub-menu">
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../linux/cmd/">Cmd</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../linux/shell/">Shell</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../linux/nginx/">Nginx</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../linux/ip/">Ip</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../linux/git/">Git</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../linux/haproxy/">Haproxy</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../linux/lvs/">Lvs</a>
                                
                                            
                                        
                                </li>                
                            
                            </ul>
                        

              </li>
            
        
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../frontend/">Frontend </a>
                
                                 
                            <ul class="sub-menu">
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../frontend/css/">Css</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../frontend/vue/">Vue</a>
                                
                                            
                                        
                                </li>                
                            
                            </ul>
                        

              </li>
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../devops/">Devops </a>
                
                                 
                            <ul class="sub-menu">
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../devops/docker/">Docker</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../devops/elk/">Elk</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../devops/ansible/">Ansible</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../devops/prometheus/">Prometheus</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../devops/drone/">Drone</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../devops/kubernetes/">Kubernetes</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../devops/oauth2/">OAuth2</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../devops/etcd/">Etcd</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../devops/apidoc/">Apidoc</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../devops/%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/">Á≥ªÁªüÁõëÊéß</a>
                                
                                            
                                        
                                </li>                
                            
                            </ul>
                        

              </li>
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../database/">Database </a>
                
                                 
                            <ul class="sub-menu">
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../database/mysql/">Mysql</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../database/mongo/">Mongo</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../database/redis/">Redis</a>
                                
                                            
                                        
                                </li>                
                            
                            </ul>
                        

              </li>
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../windows/">Windows </a>
                
                        

              </li>
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../hacker/">Hacker </a>
                
                                 
                            <ul class="sub-menu">
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../hacker/01_%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/">01_Á´ØÂè£Êâ´Êèè</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../hacker/00_%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E9%9A%A7%E9%81%93/">00_Á´ØÂè£ËΩ¨Âèë(ÈößÈÅì)</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../hacker/01-info-gather/">01-Info-Gather</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../hacker/02-spoof/">02-Spoof</a>
                                
                                            
                                        
                                </li>                
                            
                                <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="../../../../hacker/shells/">Shells</a>
                                
                                            
                                        
                                </li>                
                            
                            </ul>
                        

              </li>
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../work/">Work </a>
                
                        

              </li>
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../weixin/">Weixin </a>
                
                        

              </li>
            
        
            
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                
                <a  href="../../../../edit/">Edit </a>
                
                        

              </li>
            
        
        
        <li class="item ">
                <a class="text" href="../../../../series/">series</a>
        </li>
        <li class="item ">
                <a class="text" href="../../../../categories/">categories</a>
        </li>
        <li class="item ">
                <a class="text" href="../../../../tags/">tags</a>
        </li>
        <li class="item ">
                <a class="text" href="../../../../me/">about</a>
        </li>

        
        </ul>
    </div>
  </nav>
    
  <nav class="nav-container group desktop-menu desktop-sticky " id="nav-topbar" data-menu-id="header-2">
    <div class="nav-text">ËßÜÈ¢ëÁ¨îËÆ∞ÔºögRPC ‰ªéÂ≠¶‰π†Âà∞Áîü‰∫ß - Alan Shreve</div>
    
    <div class="topbar-toggle-down">
        <i class="fas fa-angle-double-down" aria-hidden="true" data-toggle="down" title="Expand menu"></i>
        <i class="fas fa-angle-double-up" aria-hidden="true" data-toggle="up" title="Collapse menu"></i>
    </div>

    
    <div class="nav-wrap container">
      <ul id="menu-topbar-menu-1" class="nav container-inner group">
        <li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home ">
            <a href="../../../../">Home</a></li>
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../ai/">Ai </a>
                
                           
                    <ul class="sub-menu">
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../ai/math/">Math</a>
                          
                        </li>                
                      
                    </ul>
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../language/">Language </a>
                
                           
                    <ul class="sub-menu">
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../language/python/">Python</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../language/golang/">Golang</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../language/java/">Java</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../language/awesome/">Awesome</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../language/php/">Php</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../language/android/">Android</a>
                          
                        </li>                
                      
                    </ul>
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../macos/">Macos </a>
                
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../hardware/">Hardware </a>
                
                           
                    <ul class="sub-menu">
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../hardware/rtmp/">Rtmp</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../hardware/%E8%BD%A6%E8%81%94%E7%BD%91/">ËΩ¶ËÅîÁΩë</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../hardware/android-%E5%BA%95%E5%B1%82/">Android-Â∫ïÂ±Ç</a>
                          
                        </li>                
                      
                    </ul>
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../linux/">Linux </a>
                
                           
                    <ul class="sub-menu">
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../linux/cmd/">Cmd</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../linux/shell/">Shell</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../linux/nginx/">Nginx</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../linux/ip/">Ip</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../linux/git/">Git</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../linux/haproxy/">Haproxy</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../linux/lvs/">Lvs</a>
                          
                        </li>                
                      
                    </ul>
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../post/">Post </a>
                
                           
                    <ul class="sub-menu">
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../post/software/">Software</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../post/english/">English</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../post/seo/">Seo</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../post/life/">Life</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../post/wiki/">Wiki</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../post/basic/">Basic</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../post/reship/">Reship</a>
                          
                        </li>                
                      
                    </ul>
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../frontend/">Frontend </a>
                
                           
                    <ul class="sub-menu">
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../frontend/css/">Css</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../frontend/vue/">Vue</a>
                          
                        </li>                
                      
                    </ul>
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../devops/">Devops </a>
                
                           
                    <ul class="sub-menu">
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../devops/docker/">Docker</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../devops/elk/">Elk</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../devops/ansible/">Ansible</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../devops/prometheus/">Prometheus</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../devops/drone/">Drone</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../devops/kubernetes/">Kubernetes</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../devops/oauth2/">OAuth2</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../devops/etcd/">Etcd</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../devops/apidoc/">Apidoc</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../devops/%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/">Á≥ªÁªüÁõëÊéß</a>
                          
                        </li>                
                      
                    </ul>
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../database/">Database </a>
                
                           
                    <ul class="sub-menu">
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../database/mysql/">Mysql</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../database/mongo/">Mongo</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../database/redis/">Redis</a>
                          
                        </li>                
                      
                    </ul>
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../windows/">Windows </a>
                
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../hacker/">Hacker </a>
                
                           
                    <ul class="sub-menu">
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../hacker/01_%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/">01_Á´ØÂè£Êâ´Êèè</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../hacker/00_%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E9%9A%A7%E9%81%93/">00_Á´ØÂè£ËΩ¨Âèë(ÈößÈÅì)</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../hacker/01-info-gather/">01-Info-Gather</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../hacker/02-spoof/">02-Spoof</a>
                          
                        </li>                
                        
                        <li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag">
                          <a href="../../../../hacker/shells/">Shells</a>
                          
                        </li>                
                      
                    </ul>
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../work/">Work </a>
                
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../weixin/">Weixin </a>
                
                  
              </li>
                    
        
            
              
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children">
                <a href="../../../../edit/">Edit </a>
                
                  
              </li>
                    
        
       
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="../../../../series/">series</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="../../../../categories/">categories</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="../../../../tags/">tags</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="../../../../me/">about</a>
        </li>
        

        
      </ul>
      
    </div>
    
    
  
  </nav>
  

  
  

</header>

        <div class="container" id="page">
            <div class="container-inner">
                <div class="main">
                    <div class="main-inner group">
                        <div class="content">
    
        <div class="pad group page-title">
            <ul class="meta-single group">
                
                <li><span class="fa fa-folder-open"></span></li>
                
            </ul>
        </div>

        
        <div class="pad group">
            <article class="post type-post status-publish format-standard has-post-thumbnail hentry category-lifestyle tag-classical-grid tag-masonry-grid tag-standard-list">
                <div class="post-inner group">
                        <h1 class="post-title">ËßÜÈ¢ëÁ¨îËÆ∞ÔºögRPC ‰ªéÂ≠¶‰π†Âà∞Áîü‰∫ß - Alan Shreve</h1>

                        <p class="post-byline">
                          by  ¬∑ 2017Âπ¥09Êúà23Êó• ¬∑ 6977 Words ¬∑
                          ~14min reading time |
                          
                          
                          <a href="https://gitlab.com/rinetd/blog/edit/master/language/golang/goher/2017-09-27-video-grpc-from-tutorial-to-production.md" target="_blank">Improve on <i class="fa fa-gitlab"></i></a>
                        </p>
                    <div class="clear"></div>
                    <div class="entry themeform">
                        <div class="entry-inner">
                            
                            </br>
                            ÂéüÊñáÈìæÊé•Ôºö<a target="_blank" href="../../../../language/golang/goher/2017-09-27-video-grpc-from-tutorial-to-production/"> ËßÜÈ¢ëÁ¨îËÆ∞ÔºögRPC ‰ªéÂ≠¶‰π†Âà∞Áîü‰∫ß - Alan Shreve</a> 
                            </p>
                            

<!-- toc -->

<h1 id="ËßÜÈ¢ë‰ø°ÊÅØ">ËßÜÈ¢ë‰ø°ÊÅØ</h1>

<p><strong>grpc: From Tutorial to Production</strong><br />
by Alan Shreve<br />
at GopherCon 2017</p>

<p>{% owl youtube 7FZ6ZyzGex0 %}</p>

<p><a href="https://www.youtube.com/watch?v=7FZ6ZyzGex0" target="_blank">https://www.youtube.com/watch?v=7FZ6ZyzGex0</a></p>

<p>ÂçöÊñáÔºö<a href="https://about.sourcegraph.com/go/grpc-in-production-alan-shreve/" target="_blank">https://about.sourcegraph.com/go/grpc-in-production-alan-shreve/</a></p>

<h2 id="ÊºîËÆ≤ËÄÖ">ÊºîËÆ≤ËÄÖ</h2>

<p>Alan Shreve, <a href="https://ngrok.com" target="_blank">https://ngrok.com</a> &amp; <a href="https://equinox.io" target="_blank">https://equinox.io</a><br />
Github: <a href="https://github.com/inconshreveable" target="_blank">@inconshreveable</a> &amp; Twitter: <a href="https://twitter.com/inconshreveable?lang=en" target="_blank">@inconshreveable</a></p>

<h2 id="ÂæÆÊúçÂä°‰πãÈó¥Â∫îËØ•Â¶Ç‰ΩïÈÄöËÆØ">ÂæÆÊúçÂä°‰πãÈó¥Â∫îËØ•Â¶Ç‰ΩïÈÄöËÆØÔºü</h2>

<p>Á≠îÊ°àÂ∞±ÊòØÔºö<strong><a href="https://en.wikipedia.org/wiki/SOAP" target="_blank">SOAP</a></strong>‚Ä¶‚Ä¶Â•ΩÂêßÔºåÂºÄ‰∏™Áé©Á¨ëÔºåÂΩìÁÑ∂‰∏çÂèØËÉΩÊòØ SOAP ‰∫Ü„ÄÇ</p>

<p>Áé∞Âú®ÊµÅË°åÁöÑÂÅöÊ≥ïÊòØ <strong>HTTP + JSON (<a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank">REST API</a>)</strong></p>

<p>Alan ËØ¥‚ÄúÂ¶ÇÊûúËøôËæàÂ≠êÂÜç‰πü‰∏çÂÜôÂè¶‰∏Ä‰∏™ REST ÂÆ¢Êà∑Á´ØÂ∫ìÁöÑËØùÔºåÈÇ£Â∞±ÂèØ‰ª•ÂæàÂπ∏Á¶èÁöÑÊ≠ªÂéª‰∫Ü‚Ä¶‚Ä¶üòÇ‚ÄùÔºåÂõ†‰∏∫ËøôÊòØÊúÄÊó†ËÅäÁöÑ‰∫ãÊÉÖÔºå‰∏ÄÈÅç‰∏ÄÈÅçÁöÑÂú®ÂÅöÂêåÊ†∑ÁöÑ‰∫ãÊÉÖ„ÄÇ</p>

<h2 id="‰∏∫‰ªÄ‰πà-rest-api-‰∏çÂ•ΩÁî®">‰∏∫‰ªÄ‰πà REST API ‰∏çÂ•ΩÁî®Ôºü</h2>

<ul>
<li>ÂÆûÁé∞ Stream Â§™Èöæ‰∫Ü<br /></li>
<li>ËÄåÂèåÂêëÁöÑÊµÅÂ∞±Ê†πÊú¨‰∏çÂèØËÉΩ<br /></li>
<li>ÂæàÈöæÂØπÊìç‰ΩúÂª∫Á´ãÊ®°Âûã<br /></li>
<li>ÊïàÁéáÂæàÂ∑ÆÔºåÊñáÊú¨Ë°®Á§∫ÂØπ‰∫éÁΩëÁªúÊù•ËØ¥Âπ∂‰∏çÊòØÊúÄÂ•ΩÁöÑÈÄâÊã©<br /></li>
<li>ËÄå‰∏îÔºåÂÖ∂ÂÆûÊúçÂä°ÂÜÖÈÉ®Ê†πÊú¨‰∏çÊòØ RESTful ÁöÑÊñπÂºèÔºåËøôÂè™ÊòØ HTTP endpoint<br /></li>
<li>ÂæàÈöæÂú®‰∏Ä‰∏™ËØ∑Ê±Ç‰∏≠ÂèñÂæóÂ§ö‰∏™ËµÑÊ∫êÊï∞ÊçÆ ÔºàÂèç‰æãÁúã <a href="http://graphql.org/learn/" target="_blank">GraphQL</a>Ôºâ<br /></li>
<li>Ê≤°Êúâ<strong>Ê≠£ÂºèÁöÑ</strong>ÔºàÊú∫Âô®ÂèØËØªÁöÑÔºâAPIÁ∫¶Êùü<br />

<ul>
<li>Âõ†Ê≠§ÂÜôÂÆ¢Êà∑Á´ØÈúÄË¶Å‰∫∫Á±ª<br /></li>
<li>ËÄå‰∏îÂõ†‰∏∫üë∑ÂæàË¥µÔºåËÄå‰∏î‰∏çÂñúÊ¨¢ÂÜôÂÆ¢Êà∑Á´Ø<br />
<br /></li>
</ul></li>
</ul>

<h2 id="‰ªÄ‰πàÊòØ-grpc">‰ªÄ‰πàÊòØ gRPC</h2>

<blockquote>
<p><a href="https://grpc.io" target="_blank">gPRC</a> ÊòØÈ´òÊÄßËÉΩ„ÄÅÂºÄÊ∫ê„ÄÅÈÄöÁî®ÁöÑ RPC Ê°ÜÊû∂„ÄÇ</p>
</blockquote>

<p>‰∏éÂÖ∂ËÆ≤Ëß£ÂÆö‰πâÔºå‰∏çÂ¶ÇÊù•ÂÆûÈôÖÂÅö‰∏™‰∏úË•øÊõ¥Ê∏ÖÊ•ö„ÄÇ</p>

<h2 id="Âª∫‰∏Ä‰∏™ÁºìÂ≠òÊúçÂä°">Âª∫‰∏Ä‰∏™ÁºìÂ≠òÊúçÂä°</h2>

<p>‰ΩøÁî® gRPC ËøôÁ±ª‰∏úË•øÔºåÊàë‰ª¨Âπ∂ÈùûÂºÄÂßã‰∫éÂÜô Go ‰ª£Á†ÅÔºåÊàë‰ª¨ÊòØ‰ªéÊí∞ÂÜô gRPC ÁöÑ <a href="https://developers.google.com/protocol-buffers/docs/overview" target="_blank">IDL</a> ÂºÄÂßãÁöÑ„ÄÇ</p>

<h3 id="app-proto">app.proto</h3>

<pre><code class="language-protobuf">syntax = &quot;proto3&quot;
package rpc;

service Cache {
  rpc Store(StoreReq) returns (StoreResp) {}
  rpc Get(GetReq) returns (GetResp) {}
}

message StoreReq {
  string key = 1;
  bytes val = 2;
}

message StoreResp {
}

message GetReq {
  string key = 1;
}

message GetResp {
  bytes val = 1;
}
</code></pre>

<p>ÂΩìÂÜô‰∫ÜËøô‰∏™Êñá‰ª∂ÂêéÔºåÊàë‰ª¨Á´ãÂàªÊã•Êúâ‰∫Ü<strong>9</strong>ÁßçËØ≠Ë®ÄÁöÑÂÆ¢Êà∑Á´ØÁöÑÂ∫ì„ÄÇ</p>

<ul>
<li>C++<br /></li>
<li>Java(and Android)<br /></li>
<li>Python<br /></li>
<li>Go<br /></li>
<li>Ruby<br /></li>
<li>C#<br /></li>
<li>Javascript(node.js)<br /></li>
<li>Objective-C (iOS!)<br /></li>
<li>PHP<br />
<br /></li>
</ul>

<p>ÂêåÊó∂ÔºåÊàë‰ª¨‰πüÊã•Êúâ‰∫Ü<strong>7</strong>ÁßçËØ≠Ë®ÄÁöÑÊúçÂä°Á´ØÁöÑ API StubÔºö</p>

<ul>
<li>C++<br /></li>
<li>Java<br /></li>
<li>Python<br /></li>
<li>Go<br /></li>
<li>Ruby<br /></li>
<li>C#<br /></li>
<li>Javascript(node.js)<br />
<br /></li>
</ul>

<h3 id="server-go">server.go</h3>

<pre><code class="language-go">func serverMain() {
  if err := runServer(); err != nil {
    fmt.Fprintf(os.Stderr, &quot;Failed to run cache server: %s\n&quot;, err)
    os.Exit(1)
  }
}

func runServer() error {
  srv := grpc.NewServer()
  rpc.RegisterCacheServer(srv, &amp;CacheService{})
  l, err := net.Listen(&quot;tcp&quot;, &quot;localhost:5051&quot;)
  if err != nil {
    return err
  }
  //  block
  return srv.Serve(l)
}
</code></pre>

<p>ÊöÇÊó∂ÂÖà‰∏çÂÆûÁé∞ <code>CacheService</code>ÔºåÂÖàÊîæ‰∏™Á©∫ÁöÑÔºåÁ®çÂêéÂÜçÂÆûÁé∞„ÄÇ</p>

<pre><code class="language-go">type CacheService struct {
}

func (s *CacheService) Get(ctx context.Context, req *rpc.GetReq) (*rpc.GetResp, error) {
  return nil, fmt.Errorf(&quot;unimplemented&quot;)
}

func (s *CacheService) Store(ctx context.Context, req *rpc.StoreReq) (*rpc.StoreResp, error) {
  return nil, fmt.Errorf(&quot;unimplemented&quot;)
}
</code></pre>

<h3 id="client-go">client.go</h3>

<pre><code class="language-go">func clientMain() {
  if err != runClient(); err != nil {
    fmt.Fprintf(os.Stderr, &quot;failed: %v\n&quot;, err)
    os.Exit(1)
  }
}

func runClient() error {
  //  Âª∫Á´ãËøûÊé•
  conn, err := grpc.Dial(&quot;localhost:5053&quot;, grpc.WithInsecure())
  if err != nil {
    return fmt.Errorf(&quot;failed to dial server: %v&quot;, err)
  }
  cache := rpc.NewCacheClient(conn)
  //  Ë∞ÉÁî® grpc ÁöÑ store() ÊñπÊ≥ïÂ≠òÂÇ®ÈîÆÂÄºÂØπ { &quot;gopher&quot;: &quot;con&quot; }
  _, err = cache.Store(context.Background(), &amp;rpc.StoreReq{Key: &quot;gopher&quot;, Val: []byte(&quot;con&quot;)})
  if err != nil {
    return fmt.Errorf(&quot;failed to store: %v&quot;, err)
  }
  //  Ë∞ÉÁî® grpc ÁöÑ get() ÊñπÊ≥ïÂèñÂõûÈîÆ‰∏∫ `gopher` ÁöÑÂÄº
  resp, err := cache.Get(context.Background(), &amp;rpc.GetReq{Key: &quot;gopher&quot;})
  if err != nil {
    return fmt.Errorf(&quot;failed to get: %v&quot;, err)
  }
  //  ËæìÂá∫
  fmt.Printf(&quot;Got cached value %s\n&quot;, resp.Val)
  return nil
}
</code></pre>

<h3 id="Ëøô‰∏çÂ∞±ÊòØ-wsdl-‰πà">Ëøô‰∏çÂ∞±ÊòØ WSDL ‰πàÔºü</h3>

<p>ÊàñËÆ∏Êúâ‰∫õ‰∫∫‰ºöËÆ§‰∏∫ËøôÂíå <a href="https://en.wikipedia.org/wiki/Web_Services_Description_Language" target="_blank">WSDL</a> ‰πüÂ§™ÂÉè‰∫ÜÔºåËøô‰πàÊÉ≥Ê≤°ÊúâÈîôÔºåÂõ†‰∏∫ gRPC Âú®ÂÄüÈâ¥‰πãÂâçÁöÑ SOAP/WSDL ÁöÑÈîôËØØÂü∫Á°Ä‰∏äÔºå‰πüÂê∏Âèñ‰∫Ü‰ªñ‰ª¨‰ºòÁßÄÁöÑÂú∞Êñπ„ÄÇ</p>

<ul>
<li>Âíå XML ÂÖ≥Á≥ªÊ≤°ÈÇ£‰πàÁ¥ß(grpc ÊòØÂèØÊèíÊãîÂºèÁöÑÔºåÂèØ‰ª•Êç¢ÊàêÂêÑÁßçÂ∫ïÂ±ÇË°®Ëø∞)<br /></li>
<li>ÂÜôËøá XML/XSD ÁöÑ‰∫∫ÈÉΩÁü•ÈÅìËøô‰∫õÊúçÂä°ÂÆö‰πâÂ§™ÁπÅÈáç‰∫ÜÔºågRPC Ê≤°ÊúâËøô‰∏™ÈóÆÈ¢ò<br /></li>
<li>WSDLËøôÁ±ªÊúâÂÆåÂÖ®‰∏çÂøÖË¶ÅÁöÑÂ§çÊùÇÂ∫¶„ÄÅÂíåÂü∫Êú¨‰∏çÈúÄË¶ÅÁöÑÂäüËÉΩÔºà‰∏§Ê≠• commitÔºâ<br /></li>
<li>WSDL ‰∏çÁÅµÊ¥ª„ÄÅËÄå‰∏îÊó†Ê≥ïÂâçÂêëÂÖºÂÆπÔºà‰∏çÂÉè <a href="https://developers.google.com/protocol-buffers/" target="_blank">protobuf</a>Ôºâ<br /></li>
<li>SOAP/WSDL ÊÄßËÉΩÂ§™Â∑ÆÔºå‰ª•ÂèäÊó†Ê≥ï‰ΩøÁî®ÊµÅ<br /></li>
<li>‰ΩÜÊòØWSDL‰∏≠ÁöÑÊú∫Âô®ÂèØ‰ª•ÁêÜËß£ÁöÑAPIÂÆö‰πâÁ°ÆÂÆûÊòØ‰∏™Â•Ω‰∏úË•ø<br />
<br /></li>
</ul>

<h3 id="ÂÆûÁé∞ÂÖ∑‰ΩìÁöÑ-cacheservice">ÂÆûÁé∞ÂÖ∑‰ΩìÁöÑ CacheService</h3>

<p><strong>server.go</strong></p>

<pre><code class="language-go">type CacheService struct {
  store map[string][]byte
}

func (s *CacheService) Get(ctx context.Context, req *rpc.GetReq) (*rpc.GetResp, error) {
  val := s.store[req.Key]
  return &amp;rpc.GetResp{Val: val}, nil
}

func (s *CacheService) Store(ctx context.Context, req *rpc.StoreReq) (*rpc.StoreResp, error) {
  s.store[req.Key] = req.Val
  return &amp;rpc.StoreResp{}, nil
}
</code></pre>

<p>Ê≥®ÊÑèËøôÈáåÊ≤°ÊúâÈîÅÔºå‰Ω†ÂèØ‰ª•ÊÉ≥ÊÉ≥‰ªñ‰ª¨‰∏≠ÊúâÔºåÂõ†‰∏∫Â∞ÜÊù•‰ªñ‰ª¨‰ºöË¢´Âπ∂ÂèëÁöÑË∞ÉÁî®ÁöÑ„ÄÇ</p>

<h3 id="ÈîôËØØÂ§ÑÁêÜ">ÈîôËØØÂ§ÑÁêÜ</h3>

<p>ÂΩìÁÑ∂ÔºågRPC ÊîØÊåÅÈîôËØØÂ§ÑÁêÜ„ÄÇÂÅáËÆæÊîπÂÜô‰∏äÈù¢ÁöÑ <code>Get()</code>ÔºåÂØπ‰∏çÂ≠òÂú®ÁöÑÈîÆËøõË°åÊä•ÈîôÔºö</p>

<pre><code class="language-go">func (s *CacheService) Get(ctx context.Context, req *rpc.GetReq) (*rpc.GetResp, error) {
  val, ok := s.store[req.Key]
  if !ok {
    return nil, status.Errorf(code.NotFound, &quot;Key not found %s&quot;, req.Key)
  }
  return &amp;rpc.GetResp{Val: val}, nil
}
</code></pre>

<h3 id="Âä†ÂØÜ‰º†Ëæì">Âä†ÂØÜ‰º†Ëæì</h3>

<p>Â¶ÇÊûúËøôÊ†∑ÁöÑ‰ª£Á†ÅÊâìÁÆóÂéªÈÉ®ÁΩ≤ÁöÑËØùÔºå‰∏ÄÂÆö‰ºöË¢´ <a href="https://en.wikipedia.org/wiki/Site_reliability_engineering" target="_blank">SRE</a> Êã¶Êà™‰∏ãÊù•ÔºåÂõ†‰∏∫ÊâÄÊúâÈÄöËÆØÂøÖÈ°ªÂä†ÂØÜ‰º†Ëæì„ÄÇ</p>

<p>Âú® gRPC ‰∏≠Ê∑ªÂä† TLS Âä†ÂØÜ‰º†ËæìÂæàÂÆπÊòì„ÄÇÊØîÂ¶ÇÊàë‰ª¨‰øÆÊîπ <code>runServer()</code> Ê∑ªÂä† TLS Âä†ÂØÜ‰º†Ëæì„ÄÇ</p>

<pre><code class="language-go">func runServer() error {
  tlsCreds, err := credentials.NewServerTLSFromFile(&quot;tls.crt&quot;, &quot;tls.key&quot;)
  if err != nil {
    return err
  }
  srv := grpc.NewServer(grpc.Creds(tlsCreds))
  ...
}
</code></pre>

<p>ÂêåÊ†∑ÔºåÊàë‰ª¨‰πüÈúÄË¶Å‰øÆÊîπ‰∏Ä‰∏ã <code>runClient()</code>„ÄÇ</p>

<pre><code class="language-go">func runClient() error {
  tlsCreds := credentials.NewTLS(&amp;tls.Config(InsecureSkipVerify: true))
  conn, err := grpc.Dial(&quot;localhost:5051&quot;, grpc.WithTransportCredentials(tlsCreds))
  ...
}
</code></pre>

<h2 id="Áîü‰∫ßÁéØÂ¢ÉÂ¶Ç‰Ωï‰ΩøÁî®-grpc">Áîü‰∫ßÁéØÂ¢ÉÂ¶Ç‰Ωï‰ΩøÁî® gRPC</h2>

<ul>
<li>HTTP/2<br /></li>
<li>protobuf serialization (pluggable)<br /></li>
<li>ÂÆ¢Êà∑Á´Ø‰ºöÂíå grpc ÊúçÂä°Âô®ÊâìÂºÄ‰∏Ä‰∏™ÈïøËøûÊé•<br />

<ul>
<li>ÂØπ‰∫éÊØè‰∏Ä‰∏™ RPC Ë∞ÉÁî®ÈÉΩÂ∞ÜÊòØ‰∏Ä‰∏™Êñ∞ÁöÑ HTTP/2 stream<br /></li>
<li>ÂÖÅËÆ∏Ê®°ÊãüÈ£ûË°åÊ®°ÂºèÁöÑ RPC Ë∞ÉÁî®<br /></li>
</ul></li>
<li>ÂÖÅËÆ∏ÂÆ¢Êà∑Á´Ø*Âíå*ÊúçÂä°Á´Ø Streaming<br />
<br /></li>
</ul>

<h3 id="grpc-ÁöÑÂÆûÁé∞">gRPC ÁöÑÂÆûÁé∞</h3>

<p>Áé∞Âú®Êúâ3‰∏™È´òÊÄßËÉΩÁöÑ„ÄÅ‰∫ã‰ª∂È©±Âä®ÁöÑÂÆûÁé∞</p>

<ul>
<li>C<br />

<ul>
<li>Ruby, Python, Node.js, PHP, C#, Objective-C, C++ ÈÉΩÊòØÂØπËøô‰∏™ C core ÂÆûÁé∞ÁöÑÁªëÂÆö<br /></li>
<li>PHP ÂàôÊòØÈÄöËøá PECL ÂíåËøô‰∏™ÂÆûÁé∞ÁöÑÁªëÂÆö<br /></li>
</ul></li>
<li>Java<br />

<ul>
<li>Netty + BoringSSL ÈÄöËøá JNI<br /></li>
</ul></li>
<li>Go<br />

<ul>
<li>Á∫Ø Go ÂÆûÁé∞Ôºå‰ΩøÁî®‰∫Ü Go Ê†áÂáÜÂ∫ìÁöÑ <code>crypto/tls</code><br />
<br /></li>
</ul></li>
</ul>

<h3 id="grpc-‰ªéÂì™Êù•ÁöÑ">gRPC ‰ªéÂì™Êù•ÁöÑ</h3>

<ul>
<li>ÊúÄÂàùÊòØ Google ÁöÑ‰∏Ä‰∏™Âõ¢ÈòüÂàõÂª∫ÁöÑ<br /></li>
<li>Êõ¥Êó©ÊúüÁöÑÊòØ Google ‰∏Ä‰∏™ÂÜÖÈÉ®È°πÁõÆÂè´ÂÅö <code>stubby</code><br /></li>
<li>Ëøô‰∏™ gRPC ÊòØÂÖ∂‰∏ã‰∏Ä‰ª£ÂºÄÊ∫êÈ°πÁõÆÔºåÂπ∂‰∏îÁé∞Âú®‰∏ç‰ªÖ‰ªÖÊòØ Google Âú®‰ΩøÁî®ÔºåÂæàÂ§öÂÖ¨Âè∏ÈÉΩÂú®Ë¥°ÁåÆ‰ª£Á†Å<br />

<ul>
<li>ÂΩìÁÑ∂ÔºåGoogle ËøòÊòØ‰∏ªË¶Å‰ª£Á†ÅË¥°ÁåÆËÄÖ<br />
<br /></li>
</ul></li>
</ul>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-Â§öÁßüÊà∑">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºöÂ§öÁßüÊà∑</h3>

<p>‰∏äÁ∫øÁîü‰∫ßÂêéÔºåÂèëÁé∞Êúâ‰∏ÄÈÉ®ÂàÜÂÆ¢Êà∑‰∫ßÁîü‰∫ÜÂ§ßÈáèÁöÑÈîÆÂÄºÔºåËØ¢ÈóÆÂæóÁü•ÔºåÊúâÁöÑÂÆ¢Êà∑Â∏åÊúõÂØπÊâÄÊúâ‰∏úË•øÈÉΩÁºìÂ≠òÔºåËøôÊòæÁÑ∂‰∏çÊòØÂØπÊàë‰ª¨Ëøô‰∏™ÁºìÂ≠òÊúçÂä°ÂæàÂ•ΩÁöÑ‰∫ãÊÉÖ„ÄÇ</p>

<p>Êàë‰ª¨Â∏åÊúõÈôêÂà∂ËøôÁßçË°å‰∏∫Ôºå‰ΩÜÂØπ‰∫éÂΩìÂâçÁ≥ªÁªüËÄåË®ÄÔºåÊó†Ê≥ïÊª°Ë∂≥ËøôÁßçÈúÄÊ±ÇÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶Å‰øÆÊîπÂÆûÁé∞ÔºåÂØπÊØè‰∏™ÂÆ¢Êà∑ÂèëÊîæÂÆ¢Êà∑ tokenÔºåÈÇ£‰πàÊàë‰ª¨Â∞±ÂèØ‰ª•Á∫¶ÊùüÁâπÂÆöÂÆ¢Êà∑ÊúÄÂ§öÂèØ‰ª•Âª∫Á´ãÂ§öÂ∞ëÈîÆÂÄºÔºåÈÅøÂÖçÁ≥ªÁªüÊª•Áî®„ÄÇËøôÂ∞±Êàê‰∏∫‰∫ÜÂ§öÁßüÊà∑ÁöÑÁºìÂ≠òÊúçÂä°„ÄÇ</p>

<p>Âíå‰πãÂâç‰∏ÄÊ†∑ÔºåÊàë‰ª¨ËøòÊòØ‰ªé IDL ÂºÄÂßãÔºåÊàë‰ª¨ÈúÄË¶Å‰øÆÊîπÊé•Âè£ÔºåÂ¢ûÂä† <code>account_token</code> È°π„ÄÇ</p>

<pre><code class="language-protobuf">message StoreReq {
  string key = 1;
  bytes val = 2;
  string account_token = 3;
}
</code></pre>

<p>ÂêåÊ†∑ÔºåÊàë‰ª¨ÈúÄË¶ÅÊúâÁã¨Á´ãÁöÑÊúçÂä°ÈíàÂØπË¥¶Êà∑ÊúçÂä°ÔºåÊù•Ëé∑ÂèñË¥¶Êà∑ÊâÄÂÖÅËÆ∏ÁöÑÁºìÂ≠òÈîÆÊï∞Ôºö</p>

<pre><code class="language-protobuf">service Accounts {
  rpc GetByToken(GetByTokenReq) return (GetByTokenResp) {}
}

message GetByTokenReq {
  string token = 1;
}

message GetByTokenResp {
  Account account = 1;
}

message Account {
  int64 max_cache_keys = 1;
}
</code></pre>

<p>ËøôÈáåÂª∫Á´ã‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑ <code>Accounts</code> ÊúçÂä°ÔºåÂπ∂‰∏îÊúâ‰∏Ä‰∏™ <code>GetByToken()</code> ÊñπÊ≥ïÔºåÁªôÂÖ• <code>token</code>ÔºåËøîÂõû‰∏Ä‰∏™ <code>Account</code> Á±ªÂûãÁöÑÁªìÊûúÔºåËÄå <code>Account</code> ÂÜÖÊúâ <code>max_cache_keys</code> ÈîÆÂØπÂ∫îÊúÄÂ§ßÂèØÁºìÂ≠òÁöÑÈîÆÂÄºÊï∞„ÄÇ</p>

<p>Áé∞Âú®Êàë‰ª¨Ëøõ‰∏ÄÊ≠•‰øÆÊîπ <strong>client.go</strong></p>

<pre><code class="language-go">func runClient() error {
  ...
  cache := rpc.NewCacheClient(conn)

  _, err = cache.Store(context.Background(), &amp;rpc.StoreReq{
    AccountToken: &quot;inconshreveable&quot;,
    Key:          &quot;gopher&quot;,
    Val:          []byte(&quot;con&quot;),
  })
  if err != nil {
    return fmt.Errorf(&quot;failed to store: %v&quot;, err)
  }
  ...
}
</code></pre>

<p>ÊúçÂä°Á´ØÁöÑÊîπÂèòË¶ÅÁ®çÂæÆÂ§ß‰∏Ä‰∫õÔºå‰ΩÜ‰∏çËøáÂàÜ„ÄÇ</p>

<pre><code class="language-go">type CacheService struct {
  accounts      rpc.AccountsClient
  store         map[string][]byte
  keysByAccount map[string]int64
}
</code></pre>

<p>Ê≥®ÊÑèËøôÈáåÁöÑ <code>accounts</code> ÊòØ‰∏Ä‰∏™ grpc ÁöÑÂÆ¢Êà∑Á´ØÔºåÂõ†‰∏∫Êàë‰ª¨Ëøô‰∏™ÊúçÂä°ÔºåÂêåÊó∂‰πüÊòØÂè¶‰∏Ä‰∏™ grpc ÊúçÂä°ÁöÑÂÆ¢Êà∑Á´Ø„ÄÇÊâÄ‰ª•Âú®Êé•‰∏ãÊù•ÁöÑ <code>Store()</code> ÂÆûÁé∞‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶ÅÂÖàÈÄöËøá <code>accounts</code> Ë∞ÉÁî®Âè¶‰∏Ä‰∏™ÊúçÂä°ÂèñÂæóË¥¶Êà∑‰ø°ÊÅØ„ÄÇ</p>

<pre><code class="language-go">func (s *CacheService) Store(ctx context.Context, req *rpc.StoreReq) (*rpc.StoreResp, error) {
  //  Ë∞ÉÁî®Âè¶‰∏Ä‰∏™ÊúçÂä°ÂèñÂæóË¥¶Êà∑‰ø°ÊÅØÔºåÂåÖÂê´ÂÖ∂ÈîÆÂÄºÈôêÂà∂
  resp, err := s.accounts.GetByToken(context.Background(), &amp;rpc.GetByTokenReq{
    Token: req.AccountToken,
  })
  if err != nil {
    return nil, err
  }
  //  Ê£ÄÊü•ÊòØÂê¶Ë∂ÖÈáè‰ΩøÁî®
  if s.keysByAccount[req.AccountToken] &gt;= resp.Account.MaxCacheKeys {
    return nil, status.Errorf(codes.FailedPrecondition, &quot;Account %s exceeds max key limit %d&quot;, req.AccountToken, resp.Account.MaxCacheKeys)
  }
  //  Â¶ÇÊûúÈîÆ‰∏çÂ≠òÂú®ÔºåÈúÄË¶ÅÊñ∞Âä†ÈîÆÂÄºÔºåÈÇ£‰πàÊàë‰ª¨Â∞±ÂØπËÆ°Êï∞Âô®Âä†‰∏Ä
  if _, ok := s.store[req.Key]; !ok {
    s.keysByAccount[req.AccountToken] += 1
  }
  //  ‰øùÂ≠òÈîÆÂÄº
  s.store[req.Key] = req.Val
  return &amp;rpc.StoreResp{}, nil
}

</code></pre>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-ÊÄßËÉΩ">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºöÊÄßËÉΩ</h3>

<p>‰∏äÈù¢ÁöÑÈóÆÈ¢òËß£ÂÜ≥‰∫ÜÔºåÊàë‰ª¨ÊúçÂä°ÂèàÊÅ¢Â§ç‰∫ÜÊ≠£Â∏∏Ôºå‰∏ç‰ºöÊúâÁî®Êà∑Âª∫Á´ãËøáÂ§öÁöÑÈîÆÂÄº‰∫Ü„ÄÇ‰ΩÜÊòØÂæàÂø´ÔºåÊàë‰ª¨Â∞±ÂèàÊî∂Âà∞‰∫ÜÂÖ∂‰ªñÁî®Êà∑ÂèëÊù•ÁöÑÊñ∞ÁöÑ issueÔºåÂæàÂ§ö‰∫∫ÂèçÂ∫îËØ¥Êñ∞Á≥ªÁªüÂèòÊÖ¢‰∫ÜÔºåÊ≤°ÊúâËææÂà∞ <a href="https://en.wikipedia.org/wiki/Service-level_agreement" target="_blank">SLA</a> ÁöÑË¶ÅÊ±Ç„ÄÇ</p>

<p>ÂèØÊòØÊàë‰ª¨Ê†πÊú¨‰∏çÁü•ÈÅìÂà∞Â∫ïÂèëÁîü‰∫Ü‰ªÄ‰πàÔºå‰∫éÊòØÊÑèËØÜÂà∞‰∫ÜÔºåÊàë‰ª¨ÁöÑÁ®ãÂ∫èÊ≤°Êúâ‰ªª‰ΩïÂèØËßÇÂØüÊÄßÔºàObservabilityÔºâÔºåÊç¢Âè•ËØùËØ¥ÔºåÊàë‰ª¨ÁöÑÁ®ãÂ∫èÊ≤°Êúâ‰ªª‰ΩïËÆ°ÈáèÁ≥ªÁªüÊù•ÁªüËÆ°ÊÄßËÉΩÁõ∏ÂÖ≥ÁöÑÊï∞ÊçÆ„ÄÇ</p>

<p>Êàë‰ª¨ÂÖà‰ªéÊúÄÁÆÄÂçïÁöÑÂÅöËµ∑ÔºåÊ∑ªÂä†Êó•Âøó„ÄÇ</p>

<p>Êàë‰ª¨ÂÖà‰ªé <strong>client.go</strong> ÂºÄÂßãÔºåÂ¢ûÂä†‰∏Ä‰∫õÊµãÈáèÂíåËÆ°Êï∞‰ª•ÂèäÊó•ÂøóËæìÂá∫„ÄÇ</p>

<pre><code class="language-go">  ...
  //  ÂºÄÂßãËÆ°Êó∂
  start := time.Now()

  _, err = cache.Store(context.Background(), &amp;rpc.StoreReq{
    AccountToken: &quot;inconshreveable&quot;,
    Key:          &quot;gopher&quot;,
    Val:          []byte(&quot;con&quot;),
  })

  //  ËÆ°ÁÆó cache.Store() Ë∞ÉÁî®Êó∂Èó¥
  log.Printf(&quot;cache.Store duration %s&quot;, time.Since(start))

  if err != nil {
    return fmt.Errorf(&quot;failed to store: %v&quot;, err)
  }

  //  ÂÜçÊ¨°ÂºÄÂßãËÆ°Êó∂
  start = time.Now()

  //  Ë∞ÉÁî® grpc ÁöÑ get() ÊñπÊ≥ïÂèñÂõûÈîÆ‰∏∫ `gopher` ÁöÑÂÄº
  resp, err := cache.Get(context.Background(), &amp;rpc.GetReq{Key: &quot;gopher&quot;})

  //  ËÆ°ÁÆó cache.Get() Ë∞ÉÁî®Êó∂Èó¥
  log.Printf(&quot;cache.Get duration %s&quot;, time.Since(start))

  if err != nil {
    return fmt.Errorf(&quot;failed to get: %v&quot;, err)
  }
</code></pre>

<p>ÂêåÊ†∑ÔºåÂú®ÊúçÂä°Á´Ø‰πüËøô‰πàÂ§ÑÁêÜ„ÄÇ</p>

<pre><code class="language-go">func (s *CacheService) Store(ctx context.Context, req *rpc.StoreReq) (*rpc.StoreResp, error) {
  //  ÂºÄÂßãËÆ°Êó∂
  start := time.Now()

  //  Ë∞ÉÁî®Âè¶‰∏Ä‰∏™ÊúçÂä°ÂèñÂæóË¥¶Êà∑‰ø°ÊÅØÔºåÂåÖÂê´ÂÖ∂ÈîÆÂÄºÈôêÂà∂
  resp, err := s.accounts.GetByToken(context.Background(), &amp;rpc.GetByTokenReq{
    Token: req.AccountToken,
  })

  //  ËæìÂá∫ account.GetByToken() ÁöÑË∞ÉÁî®Êó∂Èó¥
  log.Printf(&quot;accounts.GetByToken duration %s&quot;, time.Since(start))

  ...
}
</code></pre>

<p>ÁªèËøáËøô‰∫õ‰øÆÊîπÂêéÔºåÊàë‰ª¨ÂèëÁé∞‰∏ÄÊ†∑ÁöÑ‰∫ãÊÉÖÂú®ÂèçÂèçÂ§çÂ§çÁöÑÂÅöÔºåÈÇ£‰πàÊúâ‰ªÄ‰πàÂäûÊ≥ïÂèØ‰ª•ÊîπÂèòËøôÁßçÊó†ËÅäÁöÑÂÅöÊ≥ï‰πàÔºüÊü•ÈòÖ grpc ÊñáÊ°£ÂêéÔºåÁúãÂà∞Êúâ‰∏Ä‰∏™Âè´ÂÅö <strong>Client Interceptor</strong> ÁöÑ‰∏úË•ø„ÄÇ</p>

<p>ËøôÁõ∏ÂΩì‰∫éÊòØ‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Ôºå‰ΩÜÊòØÊòØÂú®ÂÆ¢Êà∑Á´Ø„ÄÇÂΩìÂÆ¢Êà∑Á´ØËøõË°å rpc Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÔºåËøô‰∏™‰∏≠Èó¥‰ª∂ÂÖà‰ºöË¢´Ë∞ÉÁî®ÔºåÂõ†Ê≠§Ëøô‰∏™‰∏≠Èó¥‰ª∂ÂèØ‰ª•ÂØπË∞ÉÁî®ËøõË°å‰∏ÄÂ±ÇÂåÖË£ÖÔºåÁÑ∂ÂêéÂÜçËøõË°åË∞ÉÁî®„ÄÇ</p>

<p>‰∏∫‰∫ÜÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩÔºåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊñá‰ª∂ÔºåÂè´ÂÅö <code>interceptor.go</code>Ôºö</p>

<pre><code class="language-go">func WithClientInterceptor() grpc.DialOption {
  return grpc.WithUnaryInterceptor(clientInterceptor)
}

func clientInterceptor(
  ctx context.Context,
  method string,
  req interface{},
  reply interface{},
  cc *grpc.ClientConn,
  invoker grpc.UnaryInvoker,
  opts ...grpc.CallOption,
) error {
  start := time.Now()
  err := invoker(ctx, method, req, reply, cc, opts...)
  log.Printf(&quot;invoke remote method=%s duration=%s error=%v&quot;, method, time.Since(start), err)
  return err
}
</code></pre>

<p>Êàë‰ª¨Êúâ‰∫ÜËøô‰∏™ <code>WithClientInterceptor()</code> ‰πãÂêéÔºåÂèØ‰ª•Âú® <code>grpc.Dial()</code> ÁöÑÊó∂ÂÄôÊ≥®ÂÜåËøõÂéª„ÄÇ</p>

<p><strong>client.go</strong></p>

<pre><code class="language-go">func runClient() error {
  ...
  conn, err := grpc.Dial(&quot;localhost:5051&quot;,
    grpc.WithTransportCredentials(tlsCreds),
    WithClientInterceptor())
  ...
}
</code></pre>

<p>Ê≥®ÂÜå‰πãÂêéÔºåÊâÄÊúâÁöÑ grpc Ë∞ÉÁî®ÈÉΩ‰ºöÁªèËøáÊàë‰ª¨Ê≥®ÂÜåÁöÑ <code>clientInterceptor()</code>ÔºåÂõ†Ê≠§ÊâÄÊúâÁöÑÊó∂Èó¥Â∞±ÈÉΩÊúâÁªüËÆ°‰∫ÜÔºåËÄå‰∏çÁî®ÊØè‰∏™ÂáΩÊï∞ÂÜÖÈÉ®ÂèçÂèçÂ§çÂ§çÁöÑÊ∑ªÂä†Êó∂Èó¥„ÄÅËÆ°Èáè„ÄÅËæìÂá∫„ÄÇ</p>

<p>Ê∑ªÂä†‰∫ÜÂÆ¢Êà∑Á´ØÁöÑËøô‰∏™ËÆ°ÈáèÂêéÔºåËá™ÁÑ∂ËÄåÁÑ∂Â∞±ËÅîÊÉ≥Âà∞ÊúçÂä°Á´ØÊòØ‰∏çÊòØ‰πüÂèØ‰ª•ÂÅöÂêåÊ†∑ÁöÑ‰∫ãÊÉÖÔºüÁªèËøáÊü•ÁúãÊñáÊ°£ÔºåÂèØ‰ª•ÔºåÊúâ‰∏™Âè´ÂÅö <strong>Server Interceptor</strong> ÁöÑ‰∏úË•ø„ÄÇ</p>

<p>ÂêåÊ†∑ÁöÑÂÅöÊ≥ïÔºåÊàë‰ª¨Âú®ÊúçÂä°Á´ØÊ∑ªÂä† <code>interceptor.go</code>ÔºåÂπ∂‰∏îÊ∑ªÂä† <code>ServerInterceptor()</code> ÂáΩÊï∞„ÄÇ</p>

<pre><code class="language-go">func ServerInterceptor() grpc.ServerOption {
  return grpc.UnaryInterceptor(serverInterceptor)
}

func serverInterceptor(
  ctx context.Context,
  req interface{},
  info *grpc.UnaryServerInfo,
  handler grpc.UnaryHandler,
) (interface{}, error) {
  start := time.Now()
  resp, err := handler(ctx, req)
  log.Printf(&quot;invoke server method=%s duration=%s error=%v&quot;,
    info.FullMethod,
    time.Since(start),
    err)
  return resp, err
}
</code></pre>

<p>ÂíåÂÆ¢Êà∑Á´Ø‰∏ÄÊ†∑ÔºåÈúÄË¶ÅÂú® <code>runServer()</code> ÁöÑÊó∂ÂÄôÊ≥®ÂÜåÊàë‰ª¨ÂÆö‰πâÁöÑËøô‰∏™‰∏≠Èó¥‰ª∂„ÄÇ</p>

<pre><code class="language-go">func runServer() error {
  ...
  srv := grpc.NewServer(grpc.Creds(tlsCreds), ServerInterceptor())
  ...
}
</code></pre>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-Ë∂ÖÊó∂">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºöË∂ÖÊó∂</h3>

<p>Ê∑ªÂä†‰∫ÜÊó•ÂøóÂêéÔºåÊàë‰ª¨Áªà‰∫éÂú®Êó•Âøó‰∏≠ÂèëÁé∞Ôºå<code>/rpc.Accounts/GetByToken/</code> Ëä±‰∫ÜÂ•ΩÈïøÁöÑÊó∂Èó¥„ÄÇÊàë‰ª¨ÈúÄË¶ÅÂØπËøô‰∏™Êìç‰ΩúËÆæÁΩÆË∂ÖÊó∂„ÄÇ</p>

<p><strong>server.go</strong></p>

<pre><code class="language-go">func (s *CacheService) Store(ctx context.Context, req *rpc.StoreReq) (*rpc.StoreResp, error) {
  accountsCtx, _ := context.WithTimeout(context.Background(), 2 * time.Second)
  resp, err := s.accounts.GetByToken(accountsCtx, &amp;rpc.GetByTokenReq{
    Token: req.AccountToken,
  })
  ...

}
</code></pre>

<p>ËøôÈáåÊìç‰ΩúÂæàÁÆÄÂçïÔºåÁõ¥Êé•‰ΩøÁî®Ê†áÂáÜÂ∫ì‰∏≠ <code>context.WithTimeout()</code> Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ</p>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-‰∏ä‰∏ãÊñá‰º†ÈÄí">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºö‰∏ä‰∏ãÊñá‰º†ÈÄí</h3>

<p>ÁªèËøá‰∏äÈù¢‰øÆÊîπÂêéÔºåÂÆ¢Êà∑‰æùÊóßÊä±ÊÄ®ËØ¥Ê≤°ÊúâÊª°Ë∂≥ SLAÔºå‰ªîÁªÜ‰∏ÄÊÉ≥‰πüÂØπ„ÄÇÂ∞±ÁÆóËøôÈáåÁ∫¶Êùü‰∫Ü 2 ÁßíÈíüÔºåÂÆ¢Êà∑Á´ØË∞ÉÁî®ËøòÈúÄË¶ÅÊó∂Èó¥ÔºåÂà´ÁöÑ‰ª£Á†ÅÂú®‰∏≠Èó¥‰πüÊúâÊó∂Èó¥ÂºÄÈîÄ„ÄÇËÄå‰∏îÊúâÁöÑÂÆ¢Êà∑ËØ¥ÔºåÊàë‰ª¨ËøôÈáåÈúÄË¶Å1ÁßíÈíüÔºåËÄå‰∏çÊòØ2ÁßíÈíü„ÄÇ</p>

<p>Â•ΩÂêßÔºåËÆ©Êàë‰ª¨ÊääËøô‰∏™Êó∂Èó¥ËÆæÂÆöÊé®ÂêëË∞ÉÁî®Êñπ„ÄÇ</p>

<p>È¶ñÂÖàÊàë‰ª¨Ë¶ÅÊ±ÇÂú®ÂÆ¢Êà∑Á´ØËøõË°åË∞ÉÁî®Êó∂Èó¥Á∫¶ÊùüÁöÑËÆæÂÆöÔºö</p>

<p><strong>client.go</strong></p>

<pre><code class="language-go">func runClient() error {
  ...
  ctx, _ := context.WithTimeout(context.Background(), time.Second)
  _, err = cache.Store(ctx, &amp;rpc.StoreReq{Key: &quot;gopher&quot;, Val: []byte(&quot;con&quot;)})

  ...

  ctx, _ = context.WithTimeout(context.Background(), 50*time.Millisecond)
  resp, err := cache.Get(ctx, &amp;rpc.GetReq{Key: &quot;gopher&quot;})
  ...
}
</code></pre>

<p>ÁÑ∂ÂêéÂú®ÊúçÂä°Á´ØÔºåÊàë‰ª¨Â∞Ü‰∏ä‰∏ãÊñá‰º†ÈÄí„ÄÇÁõ¥Êé•ÂèñË∞ÉÁî®ÊñπÁöÑ <code>ctx</code>„ÄÇ</p>

<pre><code class="language-go">func (s *CacheService) Store(ctx context.Context, req *rpc.StoreReq) (*rpc.StoreResp, error) {
  resp, err := s.accounts.GetByToken(ctx, &amp;rpc.GetByTokenReq{
    Token: req.AccountToken,
  })
  ...

}
</code></pre>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-grpc-metadata">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºöGRPC Metadata</h3>

<p>‰∏äÈù¢ÁöÑÈóÆÈ¢òÈÉΩËß£ÂÜ≥‰∫ÜÔºåÁªà‰∫éÂèØ‰ª•Êùæ‰∏ÄÂè£Ê∞î‰∫Ü„ÄÇÂèØÊòØÂÆ¢Êà∑ÂèàÊèêÊñ∞ÁöÑÈúÄÊ±Ç‰∫Ü‚Ä¶‚Ä¶üòÖÔºåËØ¥Êàë‰ª¨ËÉΩ‰∏çËÉΩÂ¢ûÂä†‰∏Ä‰∏™ <code>Dry Run</code> ÁöÑÊ†áÂøóÔºåÂ∞±ÊòØËØ¥ÊàëÂ∏åÊúõ‰Ω†ÂÅöÊâÄÊúâÈúÄË¶ÅÂÅöÁöÑ‰∫ãÊÉÖÔºåÈô§‰∫ÜÁúüÁöÑ‰øÆÊîπÈîÆÂÄºÂ∫ì„ÄÇ</p>

<p>GRPC metadataÔºå‰πüÁß∞‰∏∫ GRPC ÁöÑ Header„ÄÇÂ∞±ÂÉè HTTP Â§¥‰∏ÄÊ†∑ÔºåÂèØ‰ª•Êúâ‰∏Ä‰∫õ Metadata ‰ø°ÊÅØ‰º†ÈÄíËøáÊù•„ÄÇ‰ΩøÁî® metadataÔºåÂèØ‰ª•ËÆ©Êàë‰ª¨ÁöÑ Dry Run ÁöÑÂÆûÁé∞ÂèòÂæóÊõ¥ÁÆÄÊ¥ÅÔºå‰∏çÂøÖÊØè‰∏™ RPC ÊñπÊ≥ïÂÜÖÈÉΩÂÆûÁé∞‰∏ÄÈÅçÊ£ÄÊü• Dry Run Ê†áÂøóÁöÑÈÄªËæëÔºåÊàë‰ª¨ÂèØ‰ª•Áã¨Á´ãÂá∫Êù•„ÄÇ</p>

<pre><code class="language-go">func (s *CacheService) Store(ctx context.Context, req *rpc.StoreReq) (*rpc.StoreResp, error) {
  resp, err := s.accounts.GetByToken(ctx, &amp;rpc.GetByTokenReq{
    Token: req.AccountToken,
  })

  if !dryRun(ctx) {
    if _, ok := s.store[req.Key]; !ok {
      s.keysByAccount[req.AccountToke] += 1
    }
    s.store[req.Key] = req.Val
  }
  return &amp;rpc.StoreResp{}, nil
}

func dryRun(ctx context.Context) bool {
  md, ok := metadata.FromContext(ctx)
  if !ok {
    return false
  }
  val, ok := md[&quot;dry-run&quot;]
  if !ok {
    return false
  }
  if len(val) &lt; 1 {
    return false
  }
  return val[0] == &quot;1&quot;
}
</code></pre>

<p>ÂΩìÁÑ∂ÔºåËøô‰πàÂÅöÊòØÊúâÂ¶•ÂçèÁöÑÔºåÂõ†‰∏∫ÈÄöÁî®ÂåñÂêéÂ∞±Â§±Âéª‰∫ÜÁ±ªÂûãÊ£ÄÊü•ÁöÑËÉΩÂäõ„ÄÇ</p>

<p>Âú®ÂÆ¢Êà∑Á´ØË∞ÉÁî®ÁöÑÊó∂ÂÄôÔºåÂàôÈúÄË¶ÅÊ†πÊçÆÊÉÖÂÜµÊ∑ªÂä† <code>dry-run</code> ÂèÇÊï∞Áªô metadata„ÄÇ</p>

<pre><code class="language-go">func runClient() error {
  ...
  ctx, _ := context.WithTimeout(context.Background(), time.Second)
  ctx = metadata.NewContext(ctx, metadata.Pairs(&quot;dry-run&quot;, &quot;1&quot;))
  _, err = cache.Store(ctx, &amp;rpc.StoreReq{Key: &quot;gopher&quot;, Val: []byte(&quot;con&quot;)})
  ...
}
</code></pre>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-retry">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºöRetry</h3>

<p>ÂÆûÁé∞‰∫Ü Dry Run ‰ª•‰∏∫ÂèØ‰ª•‰ºëÊÅØ‰∫ÜÔºå‰πãÂâçÊä±ÊÄ®ÊÖ¢ÁöÑÂÆ¢Êà∑ÂèàÊù•Êä±ÊÄ®‰∫ÜÔºåËôΩÁÑ∂ÊúâË∂ÖÊó∂ÊéßÂà∂ÔºåÊª°Ë∂≥ SLAÔºå‰ΩÜÊòØÊúçÂä°ÈÇ£ËæπËøòÊòØÊÖ¢ÔºåÊÄªË∂ÖÊó∂‰∏çÊàêÂäü„ÄÇÊ£ÄÊü•‰∫Ü‰∏Ä‰∏ãÔºåÂèëÁé∞ÊòØÁΩëÁªú‰∏äÁöÑ‰∫ãÊÉÖÔºåÊàë‰ª¨Ê≤°ÊúâÂ§™Â§öÂèØ‰ª•ÂÅöÁöÑ‰∫ãÊÉÖ„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥ÂÆ¢Êà∑ÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨Êù•Ê∑ªÂä†‰∏Ä‰∏™ÈáçËØïÁöÑÊú∫Âà∂„ÄÇ</p>

<p>Êàë‰ª¨ÂèØ‰ª•ÂØπÊØè‰∏Ä‰∏™ gRPC Ë∞ÉÁî®Ê∑ªÂä†‰∏Ä‰∏™ Retry Êú∫Âà∂ÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÂÉè‰πãÂâçËÆ°Êó∂ÁªüËÆ°ÈÇ£Ê†∑Ôºå‰ΩøÁî® Interceptor ÂêßÔºü</p>

<pre><code class="language-go">func clientInterceptor(...) error {
  var (
    start     = time.Now()
    attempts  = 0
    err       error
    backoff   retryBackOff
  )

  for {
    attempts += 1
    select {
    case &lt;-ctx.Done():
      err = status.Errorf(codes.DeadlineExceeded, &quot;timeout reached before next retry attempt&quot;)
    case &lt;-backoff.Next():
      startAttempt := time.Now()
      err = invoker(ctx, method, req, reply, cc, opts...)
      if err != nil {
        log.Printf(...)
        continue
      }
    }
    break
  }
  log.Printf(...)
  return err
}
</code></pre>

<p>ÁúãËµ∑Êù•Ëøò‰∏çÈîôÔºåÁÑ∂ÂêéÂ∞±ÊâìÁÆóÂèëÂ∏ÉËøô‰∏™‰ª£Á†Å‰∫Ü„ÄÇÁªìÊûúÊèê‰∫§ÂÆ°Ê†∏ÁöÑÊó∂ÂÄôË¢´ÊâìÂõûÊù•‰∫ÜÔºåËØ¥Ëøô‰∏™‰ª£Á†Å‰∏çÂêàÁêÜÔºåÂõ†‰∏∫Â¶ÇÊûúÊòØ<strong>ÈùûÂπÇÁ≠âÔºànon-idempotentÔºâ</strong> ÁöÑÊìç‰ΩúÔºåËøôÊ†∑Â∞±‰ºöÂØºËá¥Â§öÊ¨°ÊâßË°åÔºåÊîπÂèòÊúüÊúõÁªìÊûú‰∫Ü„ÄÇ</p>

<p>ÁúãÊù•Êàë‰ª¨ÂæóÈíàÂØπÂπÇÁ≠âÂíåÈùûÂπÇÁ≠âÊìç‰ΩúÂå∫Âà´ÂØπÂæÖ‰∫Ü„ÄÇ</p>

<pre><code class="language-go">silo.FireZeMissiles(NotIdempotent(ctx), req)
</code></pre>

<p>ÂóØÔºåÂΩìÁÑ∂ÔºåÊ≤°Ëøô‰∏™‰∏úË•ø„ÄÇÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅËá™Â∑±Êù•ÂàõÈÄ†‰∏Ä‰∏™Ê†áËÆ∞ÔºåÈÄöËøá contextÔºåÊù•Ê†áÊòéÊìç‰ΩúÊòØÂê¶ÂπÇÁ≠â„ÄÇ</p>

<pre><code class="language-go">func NotIdempotent(ctx context.Context) context.Context {
  return context.WithValue(ctx, &quot;idempotent&quot;, false)
}

func isIdempotent(ctx context.Context) bool {
  val, ok := ctx.Value(&quot;idempotent&quot;).(bool)
  if !ok {
    return true
  }
  return val
}
</code></pre>

<p>ÁÑ∂ÂêéÂú®Êàë‰ª¨ÁöÑ <code>clientInterceptor()</code> ÂÆûÁé∞‰∏≠Âä†ÂÖ• <code>isIdempotent()</code> Âà§Êñ≠Ôºö</p>

<pre><code class="language-go">func clientInterceptor(...) error {
  var (
    start     = time.Now()
    attempts  = 0
    err       error
    backoff   retryBackOff
  )

  for {
    attempts += 1
    select {
    case &lt;-ctx.Done():
      err = status.Errorf(codes.DeadlineExceeded, &quot;timeout reached before next retry attempt&quot;)
    case &lt;-backoff.Next():
      startAttempt := time.Now()
      err = invoker(ctx, method, req, reply, cc, opts...)
      if err != nil &amp;&amp; isIdempotent(ctx) {
        log.Printf(...)
        continue
      }
    }
    break
  }
  log.Printf(...)
  return err
}
</code></pre>

<p>ËøôÊ†∑ÂΩìË∞ÉÁî®Â§±Ë¥•ÂêéÔºåÂÆ¢Êà∑Á´ØÊ£ÄÊü•ÂèëÁé∞ÊòØÂπÇÁ≠âÁöÑÊÉÖÂÜµÔºåÊâçÈáçËØïÔºåÂê¶Âàô‰∏çÈáçËØï„ÄÇÈÅøÂÖç‰∫ÜÈùûÂπÇÁ≠âÊìç‰ΩúÁöÑÂèçÂ§çÊìç‰Ωú„ÄÇ</p>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-ÁªìÊûÑÂåñÈîôËØØ">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºöÁªìÊûÑÂåñÈîôËØØ</h3>

<p>ÊÑüËßâÊ≤°Âï•ÈóÆÈ¢ò‰∫ÜÔºå‰∫éÊòØÈÉ®ÁΩ≤‰∏äÁ∫ø‰∫Ü„ÄÇÂèØÊòØËøêË°å‰∏ÄÊÆµÊó∂Èó¥ÂêéÔºåÂèëÁé∞Êúâ‰∫õ‰∏çÂØπÂä≤„ÄÇÊâÄÊúâÊàêÂäüÁöÑRPCË∞ÉÁî®Ôºå‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™Êìç‰ΩúÊú¨Ë∫´ÊòØÊ≠£Á°ÆÁöÑÔºåÈÉΩÊ≤°ÊúâÈóÆÈ¢òÔºåË∂ÖÊó∂ÈáçËØï‰πüÊ≠£Â∏∏„ÄÇ‰ΩÜÊòØÊâÄÊúâÂ§±Ë¥•ÁöÑ RPC Ë∞ÉÁî®ÈÉΩ‰∏çÂØπ‰∫ÜÔºåÊâÄÊúâÂ§±Ë¥•ÁöÑ RPC Ë∞ÉÁî®ÔºåÈÉΩËøîÂõûË∂ÖÊó∂ÔºåËÄå‰∏çÊòØÈîôËØØÊú¨Ë∫´„ÄÇËøôÈáåËØ¥ÁöÑÂ§±Ë¥•Ôºå‰∏çÊòØËØ¥ÁΩëÁªúÈóÆÈ¢òÂØºËá¥Ë∂ÖÊó∂Âï•ÁöÑÔºåËÄåÊòØËØ¥ËØ∑Ê±ÇÊú¨Ë∫´ÁöÑÂ§±Ë¥•ÔºåÊØîÂ¶Ç‰πãÂâçÊèêÂà∞ÁöÑÔºå<code>Get()</code> ‰∏çÂ≠òÂú®ÁöÑÈîÆÔºåÂ∫îËØ•ËøîÂõûÈîôËØØÔºõÊàñËÄÖ <code>Store()</code> Ë∂ÖËøá‰∫ÜÈÖçÈ¢ùÔºåÂ∫îËØ•ËøîÂõûÈîôËØØÔºåËøôÁ±ªÈîôËØØÂú®Êó•Âøó‰∏≠ÈÉΩÊ≤°ÁúãÂà∞ÔºåÂèçËÄåÈÉΩÂØπÂ∫î‰∫ÜË∂ÖÊó∂„ÄÇ</p>

<p>ÁªèËøáÂàÜÊûêÂèëÁé∞ÔºåÊúçÂä°Á´ØËØ•Êä•ÈîôÈÉΩÊä•ÈîôÔºåÊ≤°Âï•ÈóÆÈ¢òÔºå‰ΩÜÊòØÂÆ¢Êà∑Á´Ø‰∏çÂØπÔºåÊú¨Â∫îËØ•ËøîÂõûÈîôËØØÁªôË∞ÉÁî®ÊñπÁöÑÂú∞ÊñπÔºåÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÂèçËÄåÂèàÂºÄÂßãÈáçËØïËøô‰∏™Êìç‰Ωú‰∫Ü„ÄÇÁúãÊù•‰πãÂâçÈáçËØïÁöÑ‰ª£Á†ÅËøòÊúâÈóÆÈ¢ò„ÄÇ</p>

<pre><code class="language-go">      err = invoker(ctx, method, req, reply, cc, opts...)
      if err != nil &amp;&amp; isIdempotent(ctx) {
        log.Printf(...)
        continue
      }
</code></pre>

<p>Â¶ÇÊûú‰ªîÁªÜËßÇÂØüËøôÈÉ®ÂàÜ‰ª£Á†ÅÔºå‰ºöÂèëÁé∞ÔºåÊó†ËÆ∫ <code>err</code> ÊòØ‰ªÄ‰πàÔºåÂè™Ë¶ÅÈùû <code>nil</code>ÔºåÊàë‰ª¨Â∞±ÈáçËØï„ÄÇÂÖ∂ÂÆûËøôÊòØ‰∏çÂØπÁöÑÔºåÊàë‰ª¨Âè™ÊúâÈíàÂØπÊüê‰∫õÈîôËØØÈáçËØïÔºåÊØîÂ¶ÇÁΩëÁªúÈóÆÈ¢ò‰πãÁ±ªÁöÑÔºåËÄå‰∏çÂ∫îËØ•ÂØπÊàë‰ª¨Â∏åÊúõËøîÂõûÁªôË∞ÉÁî®ÊñπÁöÑÈîôËØØÈáçËØïÔºåÈÇ£Ê≤°ÊúâÊÑè‰πâ„ÄÇ</p>

<p>ÈÇ£‰πàÈóÆÈ¢òÂ∞±ÂèòÊàê‰∫ÜÔºåÊàë‰ª¨Âà∞Â∫ïÂ∫îËØ•ÊÄé‰πàÂØπ <code>err</code> Âà§Êñ≠Êù•ÂÜ≥ÂÆöÊòØÂê¶ÈáçËØïÔºü</p>

<ul>
<li>ÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑ Error CodeÔºåÁâπÂÆöÁöÑ Code ÈúÄË¶Å RetryÔºåÂÖ∂ÂÆÉÁöÑ‰∏çÈúÄË¶ÅÔºåÈÇ£Â∞±ÈúÄË¶ÅËá™ÂÆö‰πâ gRPC ÈîôËØØÁ†ÅÔºõ<br /></li>
<li>Êàë‰ª¨‰πüÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ <code>Error</code> Á±ªÂûãÁöÑÊï∞ÊçÆÔºåÈáåÈù¢ÂåÖÂê´‰∫ÜÊüêÁßçÊ†áÂøó‰ΩçÔºåÊù•ÂëäÁü•ÊòØÂê¶ÂÄºÂæó retry<br /></li>
<li>ÊàñËÄÖÂπ≤ËÑÜÊääÈîôËØØÁ†ÅÊîæÂà∞ Response ÁöÑÊ∂àÊÅØÈáåÔºåÁ°Æ‰øùÊØè‰∏™Ê∂àÊÅØÈÉΩÊúâ‰∏Ä‰∏™Êàë‰ª¨ÂÆö‰πâÁöÑÈîôËØØÁ†ÅÔºåÊù•Ê†áÊòéÊòØÂê¶ÈúÄË¶Å retry„ÄÇ<br />
<br /></li>
</ul>

<p>ÊâÄ‰ª•ÔºåÊàë‰ª¨ÈúÄË¶ÅÁöÑÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÁªìÊûÑÂåñÁöÑÈîôËØØ‰ø°ÊÅØÔºåËÄå‰∏çÊòØÁÆÄÂçïÁöÑ‰∏Ä‰∏™ Error Code ÂíåÂ≠óÁ¨¶‰∏≤„ÄÇÂΩìÁÑ∂ËøôÊù°Ë∑Ø‰∏çÂ•ΩËµ∞Ôºå‰ΩÜÊòØÊàë‰ª¨Â∑≤ÁªèÂÅö‰∫ÜËøô‰πàÂ§ö‰∫ÜÔºåÂùöÊåÅ‰∏Ä‰∏ãËøòÊòØÂèØ‰ª•ÂÖãÊúçÁöÑ„ÄÇ</p>

<p>ËøôÈáåÊàë‰ª¨ËøòÊòØ‰ªé IDL ÂºÄÂßãÔºö</p>

<pre><code class="language-protobuf">message Error {
  int64 code = 1;
  string messsage = 2;
  bool temporary = 3;
  int64 userErrorCode = 4;
}
</code></pre>

<p>ÁÑ∂ÂêéÊàë‰ª¨ÂÆûÁé∞Ëøô‰∏™ Error Á±ªÂûã„ÄÇ</p>

<p><strong>rpc/error.go</strong></p>

<pre><code class="language-go">func (e *Error) Error() string {
  return e.Message
}
func Errorf(code codes.Code, temporary bool, msg string, args ..interface{}) error {
  return &amp;Error{
    Code:      int64(code),
    Message:   fmt.Sprintf(msg, args...),
    Temporary: temporary,
  }
}
</code></pre>

<p>ÊúâËøô‰∏§‰∏™ÂáΩÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÊòæÁ§∫ÂíåÊûÑÈÄ†Ëøô‰∏™ <code>Error</code> Á±ªÂûãÁöÑÂèòÈáè‰∫ÜÔºå‰ΩÜÊòØÊàë‰ª¨ËØ•ÊÄé‰πàÊääÈîôËØØÊ∂àÊÅØ‰º†ÂõûÂÆ¢Êà∑Á´ØÂë¢ÔºüÁÑ∂ÂêéÈóÆÈ¢òÂ∞±ÂºÄÂßãÂèòÁöÑÁπÅÁêêËµ∑Êù•‰∫ÜÔºö</p>

<p><strong>rpc/error.go</strong></p>

<pre><code class="language-go">func MarshalError (err error, ctx context.Context) error {
  rerr, ok := err.(*Error)
  if !ok {
    return err
  }
  pberr, marshalerr := pb.Marshal(rerr)
  if marshalerr == nil {
    md := metadata.Pairs(&quot;rpc-error&quot;, base64.StdEncoding.EncodeToString(pberr))
    _ = grpc.SetTrailer(ctx, md)
  }
  return status.Errorf(codes.Code(rerr.Code), rerr.Message)
}
func UnmarshalError(err error, md metadata.MD) *Error {
  vals, ok := md[&quot;rpc-error&quot;]
  if !ok {
    return nil
  }
  buf, err := base64.StdEncoding.DecodeString(vals[0])
  if err != nil {
    return nil
  }
  var rerr Error
  if err := pb.Unmarshal(buf, &amp;rerr); err != nil {
    return nil
  }
  return &amp;rerr
}
</code></pre>

<p><strong>interceptor.go</strong></p>

<pre><code class="language-go">func serverInterceptor (
  ctx context.Context,
  req interface{},
  info *grpc.UnaryServerInfo,
  handler grpc.UnaryHandler,
) (interface{}, error) {
  start := time.Now()
  resp, err := handler(ctx, req)
  err = rpc.MarshalError(err, ctx)
  log.Print(...)
  return resp, err
}
</code></pre>

<p>it's uglyÔºåbut works.</p>

<p>ËøôÊòØÂú® gRPC ‰∏çÊîØÊåÅÈ´òÁ∫ß <code>Error</code> ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊÄé‰πàÂéª work around Ëøô‰∏™ÈóÆÈ¢òÔºåÂπ∂‰∏îÂáëÂêàÁî®Ëµ∑Êù•„ÄÇÁé∞Âú®Ëøô‰πàÂÅöÔºåÈîôËØØÂ∞±ÂèØ‰ª•Ë∑®‰∏ªÊú∫ËæπÁïå‰º†ÈÄí‰∫Ü„ÄÇ</p>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-dump">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºöDump</h3>

<p>ÂèàÊúâÂÆ¢Êà∑ÂâçÊù•ÊèêÈúÄÊ±Ç‰∫ÜÔºåÊúâÁöÑÂÆ¢Êà∑ËØ¥Êàë‰ª¨ÂèØ‰ª•Â≠ò„ÄÅ‰πüÂèØ‰ª•ÂèñÔºå‰ΩÜÊòØÂ¶Ç‰ΩïÊâçËÉΩÊääÈáåÈù¢ÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩËé∑Âèñ‰∏ãÊù•Ôºü‰∫éÊòØÊúâ‰∫ÜÈúÄÊ±ÇÔºåÂ∏åÊúõÂÆûÁé∞ <code>Dump()</code> Êìç‰ΩúÔºåÂèØ‰ª•ÂèñÂõûÊâÄÊúâÊï∞ÊçÆ„ÄÇ</p>

<p>Áé∞Âú®Â∑≤ÁªèËΩªËΩ¶ÁÜüË∑Ø‰∫ÜÔºåÊàë‰ª¨ÂÖàÊîπ IDLÔºåÊ∑ªÂä†‰∏Ä‰∏™ <code>Dump()</code> ÂáΩÊï∞„ÄÇ</p>

<pre><code class="language-go">service Cache {
  rpc Store(StoreReq) returns (StoreResp) {}
  rpc Get(GetReq) returns (GetResp) {}
  rpc Dump(DumpReq) returns (DumpResp) {}
}

message DumpReq{
}

message DumpResp {
  repeated DumpItem items = 1;
}

message DumpItem {
  string key = 1;
  bytes val = 2;
}
</code></pre>

<p>ËøôÈáå <code>DumpResp</code> ÈáåÈù¢Áî®ÁöÑÊòØ <code>repeated</code>ÔºåÂõ†‰∏∫ protobuf ÈáåÈù¢‰∏çÁü•ÈÅì‰∏∫Âï•‰∏çÂè´ array„ÄÇ</p>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-ÊµÅÈáèÊéßÂà∂">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºöÊµÅÈáèÊéßÂà∂</h3>

<p>Êñ∞ÂäüËÉΩ Dump ‰∏äÁ∫ø‰∫ÜÔºåÁªìÊûúÂèëÁé∞Â§ßÂÆ∂ÈÉΩÂæàÂñúÊ¨¢ DumpÔºåÊúâÂæàÂ§ö‰∫∫Âú® DumpÔºåÁªìÊûúÊúçÂä°Âô®ÁöÑÂÜÖÂ≠òÂºÄÂßã‰∏çÂ§ü‰∫Ü„ÄÇ‰∫éÊòØÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∫õÈôêÂà∂ÊâãÊÆµÔºåÂèØ‰ª•ÊéßÂà∂ÊµÅÈáè„ÄÇ</p>

<p>Êü•ÈòÖ‰∫ÜÊñáÊ°£ÂêéÔºåÂèëÁé∞Êàë‰ª¨ÂèØ‰ª•ÊéßÂà∂ÂêåÊó∂ÊúÄÂ§ßÊúâÂ§öÂ∞ëÂπ∂ÂèëÂèØ‰ª•ËÆøÈóÆÔºå‰ª•ÂèäÂèØ‰ª•Â§öÈ¢ëÁπÅÁöÑÊù•ËÆøÈóÆÊúçÂä°„ÄÇ</p>

<p><strong>server.go</strong></p>

<pre><code class="language-go">func runServer() error {
  ...
  srv := grpc.NewServer(grpc.Creds(tlsCreds),
    ServerInterceptor(),
    grpc.MaxConcurrentStreams(64),
    grpc.InTapHandle(NewTap().Handler))
  rpc.RegisterCacheServer(srv, NewCacheService(accounts))
  l, err := net.Listen(&quot;tcp&quot;, &quot;localhost:5051&quot;)
  if err != nil {
    return err
  }
  l = netutil.LimitListener(l, 1024)
  return srv.Serve(l)
}
</code></pre>

<p>ËøôÈáå‰ΩøÁî®‰∫Ü <code>netutil.LimitListener(l, 1024)</code> ÊéßÂà∂‰∫ÜÊÄªÂÖ±ÂèØ‰ª•ÊúâÂ§öÂ∞ë‰∏™ËøûÊé•ÔºåÁÑ∂ÂêéÁî® <code>grpc.MaxConcurrentStreams(64)</code> ÊåáÂÆö‰∫ÜÊØè‰∏™ grpc ÁöÑËøûÊé•ÂèØ‰ª•ÊúâÂ§öÂ∞ë‰∏™Âπ∂ÂèëÊµÅ(stream)„ÄÇËøô‰∏§‰∏™ÁªìÂêàËµ∑Êù•Âü∫Êú¨ÊéßÂà∂‰∫ÜÂπ∂ÂèëÁöÑÊÄªÊï∞„ÄÇ</p>

<p>‰ΩÜÊòØ gRPC ÈáåÊ≤°ÊúâÂú∞ÊñπÈôêÂÆöÂèØ‰ª•Â§öÈ¢ëÁπÅÁöÑËÆøÈóÆ„ÄÇÂõ†Ê≠§ËøôÈáåÁî®‰∫Ü <code>grpc.InTapHandle(NewTap().Handler))</code> Êù•ËøõË°åÂÆöÂà∂ÔºåËøôÊòØÂú®Êõ¥Èù†ÂâçÁöÑ‰ΩçÁΩÆÊâßË°åÁöÑ„ÄÇ</p>

<p><strong>tap.go</strong></p>

<pre><code class="language-go">type Tap struct {
  lim *rate.Limiter
}
func NewTap() *Tap {
  return &amp;Tap(rate.NewLimiter(150, 5))
}
func (t *Tap) Handler(ctx context.Context, info *tap.Info) (context.Context, error) {
  if !t.lim.Allow() {
    return nil, status.Errorf(codes.ResourceExhausted, &quot;service is over rate limit&quot;)
  }
  return ctx, nil
}
</code></pre>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-streaming">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºöStreaming</h3>

<p>‰πãÂâçÁöÑÊñπÊ°àÈÉ®ÁΩ≤ÂêéÔºåÂÜÖÂ≠òÁªà‰∫éÈôç‰∏ãÊù•‰∫ÜÔºå‰ΩÜÊòØËøòÊ≤°‰ºëÊÅØÔºåÂ∞±ÂèëÁé∞Â§ßÂÆ∂Ë∂äÊù•Ë∂äÂñúÊ¨¢Áî®Ëøô‰∏™ÁºìÂ≠òÊúçÂä°ÔºåÂÜÖÂ≠òÂèà‰∏çÂ§üÁî®‰∫Ü„ÄÇËøô‰∏™Êó∂ÂÄôÊàë‰ª¨Â∞±ÂºÄÂßãÊÄùËÄÉÔºåÊòØ‰∏çÊòØÂèØ‰ª•Ë∞ÉÊï¥‰∏Ä‰∏ãËÆæËÆ°Ôºå‰∏çÊòØÊØèÊ¨° Dump Â∞±Á´ãÂç≥Âú®ÂÜÖÂ≠òÁîüÊàêÂÆåÊï¥ÁöÑËøîÂõûÊï∞ÁªÑÔºåËÄåÊòØ‰ª•ÊµÅÁöÑÂΩ¢ÂºèÔºåÊåâÈúÄÂèëÂõû„ÄÇ</p>

<p><strong>app.proto</strong></p>

<pre><code class="language-go">syntax = &quot;proto3&quot;;
package rpc;

service Cache {
  rpc Store(StoreReq) returns (StoreResp) {}
  rpc Get(GetReq) returns (GetResp) {}
  rpc Dump(DumpReq) returns (stream DumpItem) {}
}

message DumpReq{
}

message DumpItem {
  string key = 1;
  bytes val = 2;
}
</code></pre>

<p>ËøôÈáå‰∏çÂÜç‰ΩøÁî®Êï∞ÁªÑÊÄßË¥®ÁöÑ <code>repeated</code>ÔºåËÄåÊòØÁî® <code>stream</code>ÔºåÂÆ¢Êà∑Á´ØËØ∑Ê±Ç <code>Dump()</code> ÂêéÔºåÂ∞ÜÁªìÊûú‰ª•ÊµÅÁöÑÂΩ¢ÂºèÂèëÂõûÂéª„ÄÇ</p>

<p><strong>server.go</strong></p>

<pre><code class="language-go">func (s *CacheService) Dump(req *rpc.DumpReq, stream rpc.Cache_DumpServer) error {
  for k, v := range s.store {
    stream.Send(&amp;rpc.DumpItem{
      Key: k,
      Val: v,
    })
  }
  return nil
}
</code></pre>

<p>Êàë‰ª¨‰øÆÊîπ <code>Dump()</code> ÁöÑÂÆûÁé∞ÔºåÂØπ‰∫éÊØè‰∏™ËÆ∞ÂΩïÔºåÂà©Áî® <code>stream.Send()</code> ÂèëÈÄÅÂà∞ÊµÅ„ÄÇ</p>

<p>Ê≥®ÊÑèËøôÈáåÊàë‰ª¨Ê≤°Êúâ <code>context</code>ÔºåÂè™Êúâ‰∏™ <code>stream</code>„ÄÇ</p>

<p><strong>client.go</strong></p>

<pre><code class="language-go">func runClient() error {
  ...
  stream, err := cache.Dump(context.Background(), &amp;rpc.DumpReq{})
  if err != nil {
    return fmt.Errorf(&quot;failed to dump: %v&quot;, err)
  }
  for {
    item, err := stream.Recv()
    if err == io.EOF {
      break
    }
    if err != nil {
      return fmt.Errorf(&quot;failed to stream item: %v&quot;, err)
    }
  }
  return nil
}
</code></pre>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-Ê®™ÂêëÊâ©Â±ï-Ë¥üËΩΩÂùáË°°">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºöÊ®™ÂêëÊâ©Â±ï„ÄÅË¥üËΩΩÂùáË°°</h3>

<p>‰ΩøÁî®ÊµÅÂêéÔºåÊúçÂä°Âô®ÊÄßËÉΩÊèêÈ´ò‰∫ÜÂæàÂ§öÔºå‰ΩÜÊòØÔºåÊàë‰ª¨ÁöÑÊúçÂä°Â§™Âê∏Âºï‰∫∫‰∫ÜÔºåÁî®Êà∑Ë∂äÊù•Ë∂äÂ§öÔºåÁªìÊûúÂèàÂÜÖÂ≠ò‰∏çÂ§ü‰∫Ü„ÄÇËøôÊó∂ÂÄôÊàë‰ª¨ÂÆ°Êü•‰ª£Á†ÅÔºåÊÑüËßâËÉΩÂÅöÁöÑ‰∫ãÊÉÖÈÉΩÂÅö‰∫ÜÔºåÊàñËÆ∏ÊòØÊó∂ÂÄô‰ªéÂçï‰∏ÄÊúçÂä°Âô®ÔºåÊâ©Â±ï‰∏∫Â§ö‰∏™ÊúçÂä°Âô®ÔºåÁÑ∂Âêé‰πãÈó¥‰ΩøÁî®Ë¥üËΩΩÂùáË°°„ÄÇ</p>

<p>gRPC ÊòØÈïøËøûÊé•ÊÄßË¥®ÁöÑÈÄöËÆØÔºåÂõ†Ê≠§Â¶ÇÊûú‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØËøûÊé•‰∫Ü‰∏Ä‰∏™ gRPC EndpointÔºåÈÇ£‰πà‰ªñÂ∞±‰ºö‰∏ÄÁõ¥ËøûÊé•Âà∞‰∏Ä‰∏™Âõ∫ÂÆöÁöÑÊúçÂä°Âô®ÔºåÂõ†Ê≠§Â§öÊúçÂä°Âô®ÁöÑË¥üËΩΩÂùáË°°ÂØπÂêå‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÊù•ËØ¥ÊòØÊ≤°ÊúâÊÑè‰πâÁöÑÔºå‰∏ç‰ºöÂõ†‰∏∫Ëøô‰∏™ÂÆ¢Êà∑Á´ØÊúâÂ§ßÈáèÁöÑËØ∑Ê±ÇËÄåÂØºËá¥ÂàÜÊï£ËØ∑Ê±ÇÂà∞‰∏çÂêåÁöÑÊúçÂä°Âô®‰∏äÂéª„ÄÇ</p>

<p>Â¶ÇÊûúÊàë‰ª¨Â∏åÊúõÂÆ¢Êà∑Á´ØÂèØ‰ª•Âà©Áî®Â§öÊúçÂä°Âô®ÁöÑÊú∫Âà∂ÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅÊõ¥Êô∫ËÉΩÁöÑÂÆ¢Êà∑Á´ØÔºåËÆ©ÂÆ¢Êà∑Á´ØÊÑèËØÜÂà∞ÊúçÂä°Âô®Â≠òÂú®Â§ö‰∏™ÂâØÊú¨ÔºåÂõ†Ê≠§ÂÆ¢Êà∑Á´ØÂª∫Á´ãÂ§öÊù°ËøûÊé•Âà∞‰∏çÂêåÁöÑÊúçÂä°Âô®ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ËÆ©Âçï‰∏ÄÂÆ¢Êà∑Á´ØÂà©Áî®Ë¥üËΩΩÂùáË°°ÁöÑÊ®™ÂêëÊâ©Â±ïËÉΩÂäõ„ÄÇ</p>

<h3 id="Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æã-Â§öËØ≠Ë®ÄÂçè‰Ωú">Áîü‰∫ßÁéØÂ¢ÉÊ°à‰æãÔºöÂ§öËØ≠Ë®ÄÂçè‰Ωú</h3>

<p>Âú®Â§çÊùÇÁöÑÁéØÂ¢É‰∏≠ÔºåÊàë‰ª¨ gRPC ÁöÑÂÆ¢Êà∑Á´ØÔºàÁîöËá≥ÊúçÂä°Á´ØÔºâÂèØËÉΩÊòØ‰∏çÂêåËØ≠Ë®ÄÂπ≥Âè∞ÁöÑ„ÄÇËøôÂÖ∂ÂÆûÊòØ gRPC ÁöÑ‰ºòÂäøÔºåÂèØ‰ª•ÊØîËæÉÂÆπÊòìÁöÑÂÆûÁé∞Ë∑®ËØ≠Ë®ÄÂπ≥Âè∞ÁöÑÈÄöËÆØ„ÄÇ</p>

<p>ÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•ÂÅö‰∏Ä‰∏™ Python ÂÆ¢Êà∑Á´ØÔºö</p>

<pre><code class="language-python">import grpc
import rpc_pb2 as rpc

channel = grpc.insecure_channel('localhost:5051')
cache_svc = rpc.CacheStub(channel)

resp = cache_svc.Get(rpc.GetReq(
  key=&quot;gopher&quot;,
))

print resp.val
</code></pre>

<p>‰∏Ä‰∏™‰∏çÊòØÂæàÁàΩÁöÑÂú∞ÊñπÊòØËôΩÁÑ∂ gRPC ÁöÑË∑®ËØ≠Ë®ÄÈÄöËÆØÂæàÊñπ‰æøÔºå‰ΩÜÊòØÂêÑ‰∏™ËØ≠Ë®ÄÁöÑÂÆûÁé∞ÈÉΩÊØîËæÉÈöèÊÑèÔºåÊØîÂ¶Ç Go ‰∏≠Âè´ÂÅö <code>CacheClient()</code>ÔºåËÄå Python ‰∏≠ÂàôÂè´ÂÅö <code>CacheStub()</code>„ÄÇËøôÈáåÊ≤°Êúâ‰ªÄ‰πàÁâπÂà´ÁöÑÂéüÂõ†Èùû‰∏ç‰∏ÄÊ†∑ÁöÑÂêçÂ≠óÔºåÂ∞±ÊòØÁî±‰∫é‰∏çÂêåÁöÑ‰ΩúËÄÖÂÆûÁé∞ÁöÑÊó∂ÂÄôÊåâÁÖßËá™Â∑±ÁöÑÊÉ≥Ê≥ïÂëΩÂêçÁöÑ„ÄÇ</p>

<h2 id="grpc-Â∞ö‰∏çÂÆåÁæéÁöÑÂú∞Êñπ">gRPC Â∞ö‰∏çÂÆåÁæéÁöÑÂú∞Êñπ</h2>

<ul>
<li>Ë¥üËΩΩÂùáË°°<br /></li>
<li>ÁªìÊûÑÂåñÁöÑÈîôËØØ‰ø°ÊÅØ<br /></li>
<li>Ëøò‰∏çÊîØÊåÅÊµèËßàÂô®ÁöÑ JS ÔºàÊüêÁßçËßíÂ∫¶‰∏äËÆ≤ÔºåËøôÊòØÊúÄÂ∏∏Áî®ÁöÑÂÆ¢Êà∑Á´ØÔºâ<br /></li>
<li>ËøòÁªèÂ∏∏ÂèëÁîü API ÊîπÂèòÔºàÂç≥‰ΩøÈÉΩ1.0‰∫ÜÔºâ<br /></li>
<li>Êüê‰∫õËØ≠Ë®ÄÂÆûÁé∞ÁöÑÊñáÊ°£ÈùûÂ∏∏Â∑Æ<br /></li>
<li>Ê≤°ÊúâË∑®ËØ≠Ë®ÄÁöÑÊ†áÂáÜÂåñÁöÑÂÅöÊ≥ï<br />
<br /></li>
</ul>

<h2 id="grpc-Âú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÁöÑÁî®‰æã">gRPC Âú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÁöÑÁî®‰æã</h2>

<ul>
<li>ngrokÔºåÊâÄÊúâÂÜÖÈÉ®20Â§ö‰∏™ÈÄöËÆØÈÉΩËµ∞ÁöÑÊòØ gRPC<br /></li>
<li>SquareÔºåÂ∞ÜÂÜÖÈÉ®ÁöÑÈÄöËÆØÈÉΩÊç¢Êàê‰∫Ü gRPCÔºåÊòØÊúÄÊó©‰ΩøÁî® gRPC ÁöÑÁî®Êà∑ÂíåË¥°ÁåÆËÄÖ<br /></li>
<li>CoreOSÔºåetcd v3 ÂÆåÂÖ®Ëµ∞ÁöÑÊòØ gRPC<br /></li>
<li>GoogleÔºåGoogle Cloud ServiceÔºàPubSub, Speech RecÔºâËµ∞ÁöÑÊòØ gRPC<br /></li>
<li>Netflix, Yik Yak, VSCO, Cockroach, ...<br />
<br /></li>
</ul>

<h2 id="grpc-Êú™Êù•ÁöÑÂèòÂåñ">gRPC Êú™Êù•ÁöÑÂèòÂåñ</h2>

<ul>
<li>ÊÉ≥‰∫ÜËß£Êú™Êù•ÁöÑÂèòÂåñÂèØ‰ª•Êü•ÁúãÔºö<br />

<ul>
<li><a href="https://github.com/grpc/proposal" target="_blank">grpc/proposal</a><br /></li>
<li><a href="https://groups.google.com/forum/#!forum/grpc-io" target="_blank">grpc-io ÈÇÆ‰ª∂ÂàóË°®</a><br /></li>
</ul></li>
<li>Êñ∞ÁöÑËØ≠Ë®ÄÊîØÊåÅÔºà<a href="https://github.com/grpc/grpc-swift" target="_blank">Swift</a> Âíå <a href="https://github.com/grpc/grpc-haskell" target="_blank">Haskell</a>Ê≠£Âú®ËØïÈ™åÈò∂ÊÆµÔºâ<br /></li>
<li>Á®≥ÂÆöÊÄß„ÄÅÂèØÈù†ÊÄß„ÄÅÊÄßËÉΩÁöÑÊèêÈ´ò<br /></li>
<li>Â¢ûÂä†Êõ¥Â§öÁªÜÂåñÁöÑ API Êù•ÊîØÊåÅËá™ÂÆö‰πâÁöÑË°å‰∏∫ÔºàËøûÊé•ÁÆ°ÁêÜ„ÄÅÈ¢ëÈÅìË∑üË∏™Ôºâ<br /></li>
<li>ÊµèËßàÂô®ÁöÑ JS<br /></li>
</ul>

                        </div>                      
                        <div class="clear"></div>
                    </div>
                </div>
            </article>   
            <div class="clear"></div>

            
            <p class="post-tags">
                  <span class="fa fa-tags">Tags:</span>
                  
                    <a rel="tag" href="../../../../tags/golang">golang</a>
                  
            </p>
            
            <div id="related-posts">
                <div class="related-inner">
                </div>
            </div>
            
            
<section id="comments" class="themeform">
  

  

  
  

<div id="gitment"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>


<script>
var gitment = new Gitment({
  
  id: location.pathname,
  owner: 'rinetd',
  repo: 'rinetd.github.io',
  oauth: {
    client_id: '89af57db85ca20b7668c',
    client_secret: '4e57a031d7bd29f740559a907db2fe0efb3bf813',
  },
})
gitment.render('gitment')
</script>

  


</section>

            
            <section id="comments" class="themeform">
                
            </section>
        </div>
</div> <div class="sidebar s1 collapsed" data-position="left" data-layout="col-3cm" data-sb-id="s1">
    <a class="sidebar-toggle" title="Expand Sidebar">
        <i class="fas icon-sidebar-toggle"></i>
    </a>
    <div class="sidebar-content">
        <div class="sidebar-top group">
            <p>Follow:</p>  
                          
<ul class="social-links">
    
    
    
    

    
    <li>
        <a class="social-tooltip" href="mailto:" title="Email">
            <i class="fa fa-envelope"></i></a>
    </li>

    
    <li>
        <a class="social-tooltip"  href="//github.com/" title="GitHub"><i
                class="fa fa-github"></i></a>
    </li>

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    <li>
        <a class="social-tooltip" title="RSS Feed"
            aria-label="RSS Feed"
            href="../../../../feed" target="_blank"
            style="color:rgba(255,255,255,0.7)">
            <i class="fa fa-rss"></i>
        </a>
    </li>

</ul>
   
        </div>
            <ul class="post-nav group">
    <li class="previous">
      
      <a href="../../../../language/golang/goher/2017-09-22-video-go-for-data-science/" rel="prev">
        <i class="fa fa-chevron-left"></i>
        <strong>Previous Post</strong>
        <span>ËßÜÈ¢ëÁ¨îËÆ∞ÔºöGo Êï∞ÊçÆÁßëÂ≠¶ - Daniel Whitenack</span>
      </a>
      
  </li>
</ul>

            
            <div id="categories-2" class="widget widget_categories"><h3>ÂàÜÁ±ª</h3>
  <ul>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/ai/">Ai</a>
        <small>(4)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/algorithm/">Algorithm</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/android/">Android</a>
        <small>(17)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/ansible/">Ansible</a>
        <small>(2)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/beats/">Beats</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/caffe/">Caffe</a>
        <small>(18)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/camera/">Camera</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/cgo/">Cgo</a>
        <small>(9)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/clang/">Clang</a>
        <small>(6)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/cmd/">Cmd</a>
        <small>(2)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/cpp/">Cpp</a>
        <small>(2)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/css/">Css</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/dart/">Dart</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/database/">Database</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/dataset/">Dataset</a>
        <small>(2)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/deeplearning/">Deeplearning</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/devops/">Devops</a>
        <small>(70)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/docker/">Docker</a>
        <small>(18)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/dts/">Dts</a>
        <small>(5)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/elasticsearch/">Elasticsearch</a>
        <small>(9)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/english/">English</a>
        <small>(3)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/freertos/">Freertos</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/front-end/">Front-End</a>
        <small>(20)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/golang/">Golang</a>
        <small>(127)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/hacker/">Hacker</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/hardware/">Hardware</a>
        <small>(10)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/hisi/">Hisi</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/jetson/">Jetson</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/js/">Js</a>
        <small>(9)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/jumpserver/">Jumpserver</a>
        <small>(2)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/kernel/">Kernel</a>
        <small>(6)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/linux/">Linux</a>
        <small>(91)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/linux-%E5%91%BD%E4%BB%A4/">Linux-ÂëΩ‰ª§</a>
        <small>(120)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/mac/">Mac</a>
        <small>(2)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/machinelearn/">Machinelearn</a>
        <small>(3)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/machinelearning/">Machinelearning</a>
        <small>(11)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/macos/">Macos</a>
        <small>(5)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/math/">Math</a>
        <small>(6)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/matplotlib/">Matplotlib</a>
        <small>(3)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/mysql/">Mysql</a>
        <small>(10)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/ncnn/">Ncnn</a>
        <small>(3)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/network/">Network</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/nginx/">Nginx</a>
        <small>(2)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/node/">Node</a>
        <small>(3)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/numpy/">Numpy</a>
        <small>(4)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/opencv/">Opencv</a>
        <small>(10)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/pandas/">Pandas</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/platform/">Platform</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/post/">Post</a>
        <small>(2)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/pyqt/">Pyqt</a>
        <small>(4)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/python/">Python</a>
        <small>(24)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/pytorch/">Pytorch</a>
        <small>(6)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/rk3288/">Rk3288</a>
        <small>(23)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/rk3399/">Rk3399</a>
        <small>(9)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/rtmp/">Rtmp</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/scikit/">Scikit</a>
        <small>(3)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/shell/">Shell</a>
        <small>(2)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/tool/">Tool</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/weixin/">Weixin</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/windows/">Windows</a>
        <small>(22)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/work/">Work</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/yolo/">Yolo</a>
        <small>(7)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/">ÂâçÁ´ØÊäÄÊúØ</a>
        <small>(3)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E5%8D%8F%E8%AE%AE/">ÂçèËÆÆ</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/">ÂµåÂÖ•Âºè</a>
        <small>(23)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E5%B7%A5%E5%85%B7/">Â∑•ÂÖ∑</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95/">Â∏∏Áî®ÁÆóÊ≥ï</a>
        <small>(2)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">ÂæÆÊúçÂä°</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88/">ÊéíÂàóÁªÑÂêà</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">Êï∞ÊçÆÂ∫ì</a>
        <small>(37)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91/">ÊñáÊú¨ÁºñËæë</a>
        <small>(30)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">Ê≠£ÂàôË°®ËææÂºè</a>
        <small>(3)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E7%94%9F%E6%B4%BB%E6%8A%80%E5%B7%A7/">ÁîüÊ¥ªÊäÄÂ∑ß</a>
        <small>(4)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E7%A8%8B%E5%BA%8F%E5%91%98/">Á®ãÂ∫èÂëò</a>
        <small>(1)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">ÁΩëÁªúÂÆâÂÖ®</a>
        <small>(40)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E9%9B%86%E7%BE%A4%E7%9B%91%E6%8E%A7/">ÈõÜÁæ§ÁõëÊéß</a>
        <small>(7)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/">ÈùôÊÄÅÂçöÂÆ¢</a>
        <small>(15)</small>
      </li>
    
      <li class="cat-item cat-item-1">
        <a href="../../../../categories/%E9%AB%98%E6%95%B0/">È´òÊï∞</a>
        <small>(2)</small>
      </li>
    
  </ul>

</div>


    </div>
</div> <div class="sidebar s2 collapsed" data-position="right" data-layout="col-3cm" data-sb-id="s2">
        <a class="sidebar-toggle" title="Expand Sidebar">
            <i class="fas icon-sidebar-toggle"></i>
        </a>
        <div class="sidebar-content">
            <div class="sidebar-top group">
                <p>More</p>
            </div>
            <ul class="post-nav group">
    <li class="next">
      
      <a href="../../../../language/golang/goher/2017-09-23-video-packet-capture-analysis-with-go/" rel="next">
        <i class="fa fa-chevron-right"></i>
        <strong>Next post</strong>
        <span>ËßÜÈ¢ëÁ¨îËÆ∞ÔºöGo ÊäìÂåÖ„ÄÅÂàÜÊûê„ÄÅÊ≥®ÂÖ• - John Leon</span>
      </a>
      
  </li>
</ul>

            <div id="tag_cloud-2" class="widget widget_tag_cloud"><h3>Ê†áÁ≠æ‰∫ë</h3>
  <div class="tagcloud post-tags">

      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/ai/" class="tag-link-4" title="1 Posts">ai<small>(4)</small></a>
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/ansible/" class="tag-link-19" title="1 Posts">ansible<small>(19)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/awesome/" class="tag-link-3" title="1 Posts">awesome<small>(3)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/bfc/" class="tag-link-2" title="1 Posts">bfc<small>(2)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/c/" class="tag-link-5" title="1 Posts">c<small>(5)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/caffe/" class="tag-link-18" title="1 Posts">caffe<small>(18)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/centos7/" class="tag-link-2" title="1 Posts">centos7<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/cgo/" class="tag-link-9" title="1 Posts">cgo<small>(9)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/clang/" class="tag-link-6" title="1 Posts">clang<small>(6)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/cmd/" class="tag-link-2" title="1 Posts">cmd<small>(2)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/cpp/" class="tag-link-2" title="1 Posts">cpp<small>(2)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/css/" class="tag-link-20" title="1 Posts">css<small>(20)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/css3/" class="tag-link-2" title="1 Posts">css3<small>(2)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/curd/" class="tag-link-3" title="1 Posts">curd<small>(3)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/curl/" class="tag-link-2" title="1 Posts">curl<small>(2)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/dataset/" class="tag-link-2" title="1 Posts">dataset<small>(2)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/devops/" class="tag-link-3" title="1 Posts">devops<small>(3)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/docker/" class="tag-link-21" title="1 Posts">docker<small>(21)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/drone/" class="tag-link-22" title="1 Posts">drone<small>(22)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/dts/" class="tag-link-6" title="1 Posts">dts<small>(6)</small></a>
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/elasticsearch/" class="tag-link-9" title="1 Posts">elasticsearch<small>(9)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/emacs/" class="tag-link-12" title="1 Posts">emacs<small>(12)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/encode/" class="tag-link-3" title="1 Posts">encode<small>(3)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/english/" class="tag-link-8" title="1 Posts">english<small>(8)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/es6/" class="tag-link-2" title="1 Posts">es6<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/etcd/" class="tag-link-4" title="1 Posts">etcd<small>(4)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/flannel/" class="tag-link-2" title="1 Posts">flannel<small>(2)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/git/" class="tag-link-6" title="1 Posts">git<small>(6)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/github/" class="tag-link-2" title="1 Posts">github<small>(2)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/golang/" class="tag-link-141" title="1 Posts">golang<small>(141)</small></a>
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/gradle/" class="tag-link-3" title="1 Posts">gradle<small>(3)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/haproxy/" class="tag-link-5" title="1 Posts">haproxy<small>(5)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/hardware/" class="tag-link-10" title="1 Posts">hardware<small>(10)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/hexo/" class="tag-link-3" title="1 Posts">hexo<small>(3)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/html/" class="tag-link-2" title="1 Posts">html<small>(2)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/http/" class="tag-link-6" title="1 Posts">http<small>(6)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/hugo/" class="tag-link-14" title="1 Posts">hugo<small>(14)</small></a>
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/imagemagick/" class="tag-link-2" title="1 Posts">imagemagick<small>(2)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/ip/" class="tag-link-3" title="1 Posts">ip<small>(3)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/iproute2/" class="tag-link-5" title="1 Posts">iproute2<small>(5)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/iptables/" class="tag-link-17" title="1 Posts">iptables<small>(17)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/javascript/" class="tag-link-19" title="1 Posts">javascript<small>(19)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/jquery/" class="tag-link-12" title="1 Posts">jquery<small>(12)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/js/" class="tag-link-10" title="1 Posts">js<small>(10)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/jumpserver/" class="tag-link-2" title="1 Posts">jumpserver<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/jwt/" class="tag-link-3" title="1 Posts">jwt<small>(3)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/kernel/" class="tag-link-6" title="1 Posts">kernel<small>(6)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/kubernetes/" class="tag-link-11" title="1 Posts">kubernetes<small>(11)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/linux/" class="tag-link-19" title="1 Posts">linux<small>(19)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/lvs/" class="tag-link-8" title="1 Posts">lvs<small>(8)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/machinelearn/" class="tag-link-3" title="1 Posts">machinelearn<small>(3)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/machinelearning/" class="tag-link-11" title="1 Posts">machinelearning<small>(11)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/macos/" class="tag-link-7" title="1 Posts">macos<small>(7)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/makefile/" class="tag-link-2" title="1 Posts">makefile<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/mariadb/" class="tag-link-9" title="1 Posts">mariadb<small>(9)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/math/" class="tag-link-6" title="1 Posts">math<small>(6)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/matplotlib/" class="tag-link-3" title="1 Posts">matplotlib<small>(3)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/maven/" class="tag-link-2" title="1 Posts">maven<small>(2)</small></a>
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/meteor/" class="tag-link-7" title="1 Posts">meteor<small>(7)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/ml/" class="tag-link-3" title="1 Posts">ml<small>(3)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/mysql/" class="tag-link-61" title="1 Posts">mysql<small>(61)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/ncnn/" class="tag-link-3" title="1 Posts">ncnn<small>(3)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/netns/" class="tag-link-2" title="1 Posts">netns<small>(2)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/network/" class="tag-link-2" title="1 Posts">network<small>(2)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/nginx/" class="tag-link-28" title="1 Posts">nginx<small>(28)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/nmap/" class="tag-link-2" title="1 Posts">nmap<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/node/" class="tag-link-4" title="1 Posts">node<small>(4)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/nosql/" class="tag-link-8" title="1 Posts">nosql<small>(8)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/npm/" class="tag-link-3" title="1 Posts">npm<small>(3)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/numpy/" class="tag-link-4" title="1 Posts">numpy<small>(4)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/oauth2/" class="tag-link-2" title="1 Posts">oauth2<small>(2)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/opencv/" class="tag-link-10" title="1 Posts">opencv<small>(10)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/openssl/" class="tag-link-3" title="1 Posts">openssl<small>(3)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/pandoc/" class="tag-link-2" title="1 Posts">pandoc<small>(2)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/php/" class="tag-link-4" title="1 Posts">php<small>(4)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/post/" class="tag-link-3" title="1 Posts">post<small>(3)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/powershell/" class="tag-link-2" title="1 Posts">powershell<small>(2)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/prometheus/" class="tag-link-8" title="1 Posts">prometheus<small>(8)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/pyqt/" class="tag-link-4" title="1 Posts">pyqt<small>(4)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/python/" class="tag-link-26" title="1 Posts">python<small>(26)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/pytorch/" class="tag-link-6" title="1 Posts">pytorch<small>(6)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/redis/" class="tag-link-2" title="1 Posts">redis<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/reflect/" class="tag-link-3" title="1 Posts">reflect<small>(3)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/responsive/" class="tag-link-2" title="1 Posts">responsive<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/restful/" class="tag-link-6" title="1 Posts">restful<small>(6)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/rk3288/" class="tag-link-22" title="1 Posts">rk3288<small>(22)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/rk3399/" class="tag-link-9" title="1 Posts">rk3399<small>(9)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/route/" class="tag-link-2" title="1 Posts">route<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/rsync/" class="tag-link-2" title="1 Posts">rsync<small>(2)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/scikit/" class="tag-link-3" title="1 Posts">scikit<small>(3)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/scrapy/" class="tag-link-8" title="1 Posts">scrapy<small>(8)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/scss/" class="tag-link-2" title="1 Posts">scss<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/sed/" class="tag-link-3" title="1 Posts">sed<small>(3)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/seo/" class="tag-link-5" title="1 Posts">seo<small>(5)</small></a>
        
      
        
      
        
          <a rel="tag" href="../../../../tags/shell/" class="tag-link-10" title="1 Posts">shell<small>(10)</small></a>
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/sqlite/" class="tag-link-2" title="1 Posts">sqlite<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/ssh/" class="tag-link-3" title="1 Posts">ssh<small>(3)</small></a>
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/stm32/" class="tag-link-5" title="1 Posts">stm32<small>(5)</small></a>
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/swagger/" class="tag-link-2" title="1 Posts">swagger<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/swarm/" class="tag-link-2" title="1 Posts">swarm<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/sysbench/" class="tag-link-2" title="1 Posts">sysbench<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/sysctl/" class="tag-link-2" title="1 Posts">sysctl<small>(2)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/systemctl/" class="tag-link-2" title="1 Posts">systemctl<small>(2)</small></a>
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/tc/" class="tag-link-2" title="1 Posts">tc<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/tcpdump/" class="tag-link-2" title="1 Posts">tcpdump<small>(2)</small></a>
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/timezone/" class="tag-link-2" title="1 Posts">timezone<small>(2)</small></a>
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/tshark/" class="tag-link-2" title="1 Posts">tshark<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/ubuntu/" class="tag-link-2" title="1 Posts">ubuntu<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/ulimit/" class="tag-link-2" title="1 Posts">ulimit<small>(2)</small></a>
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/vim/" class="tag-link-14" title="1 Posts">vim<small>(14)</small></a>
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/webpack3/" class="tag-link-2" title="1 Posts">webpack3<small>(2)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/windows/" class="tag-link-18" title="1 Posts">windows<small>(18)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/wireshark/" class="tag-link-2" title="1 Posts">wireshark<small>(2)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/xidel/" class="tag-link-2" title="1 Posts">xidel<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/xml/" class="tag-link-2" title="1 Posts">xml<small>(2)</small></a>
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/yaml/" class="tag-link-2" title="1 Posts">yaml<small>(2)</small></a>
        
      
        
          <a rel="tag" href="../../../../tags/yolo/" class="tag-link-7" title="1 Posts">yolo<small>(7)</small></a>
        
      
        
      
        
      
        
      
        
          <a rel="tag" href="../../../../tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" class="tag-link-2" title="1 Posts">ÂæÆÊúçÂä°<small>(2)</small></a>
        
      
        
      
        
      
        
      
  </div>
</div>


        </div>
    </div>`

                    </div>
                    
                </div>
                

            </div>

        </div>
    </div>

    <footer id="footer">
    <section class="container" id="footer-bottom">
      <div class="container-inner">
        <a id="back-to-top" href="#"><i class="fa fa-angle-up"></i></a>
        <div class="pad group">
          <div class="grid one-half">
            <div id="copyright">
                <p>Copyright (c) 2017. All rights reserved. (ÁâàÊùÉÊâÄÊúâ) <a href='http://www.miitbeian.gov.cn/'>È≤ÅICPÂ§á17074587Âè∑-1</a></p>
                
            </div>
            
          </div>
          
          <div class="grid one-half last">
            <ul class="social-links">
    <li>
    <a class="social-tooltip" title="On WeiBo"
        href="http://weibo.com/rinetd" target="_blank">
        <i class="fa fa-weibo"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On Twitter"
        href="https://twitter.com/rinetd" target="_blank">
        <i class="fa fa-twitter"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On GitHub"
        href="https://github.com/rinetd" target="_blank">
        <i class="fa fa-github"></i>
    </a>
    </li>
</ul>

          </div>
        </div>
  
      </div>
      
    </section>
    
  </footer>


<div class="back-to-top" id="back-to-top">
    <i class="fa fa-angle-double-up"></i>
</div>





<script type='text/javascript'>
    var HUParams={
        "_disabled":[],
        "SmoothScroll":{
            "Enabled":true,
            "Options":{"touchpadSupport":false}
        },
        "centerAllImg":"1",
        "timerOnScrollAllBrowsers":"1",
        "extLinksStyle":"1",
        "extLinksTargetExt":"1",
        "extLinksSkipSelectors":{
            "classes":["btn","button"],"ids":[]
        },
        "imgSmartLoadEnabled":"1",
        "imgSmartLoadOpts":{
            "parentSelectors":[".container .content",".container .sidebar","#footer","#header-widgets"],
            "opts":{
                "excludeImg":[".tc-holder-img"],
                "fadeIn_options":100
            }
        },
        "goldenRatio":"1.618","gridGoldenRatioLimit":"350",
        "sbStickyUserSettings":{"desktop":true,"mobile":true},
        "isWPMobile":"",
        "menuStickyUserSettings":{
            "desktop":"stick_up",
            "mobile":"stick_up"
        },
        "isDevMode":"",
        "ajaxUrl":"https:\/\/demo-hueman.presscustomizr.com\/?huajax=1",
            "frontNonce":{"id":"HuFrontNonce","handle":"798e5956c0"},
            "userStarted":{"with":"before|1.0.4","on":{"date":"2017-05-22 16:30:22.000000","timezone_type":3,"timezone":"UTC"}},
            "isWelcomeNoteOn":"","welcomeContent":""};
</script>



<script src="https://cdn.bootcss.com/lodash-compat/3.10.2/lodash.min.js"></script>
<script src="https://cdn.bootcss.com/jquery/1.9.0/jquery.min.js"></script>
<script type="text/javascript" src="../../../../front/js/scripts.js"></script> 




<script>
  $(".topbar-toggle-down").click(function(){
    $("#nav-topbar").css("overflow","visible");
  });
</script>





















<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-106129999-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5HM5XM2" height="0" width="0"
                style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5HM5XM2');
    </script>
    
<script id="baidu_analytics">
  var _hmt = _hmt || [];
  (function() {
    if (window.location.hostname === 'localhost') return;
    var hm = document.createElement("script"); hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?e2103759b6030b3c4ac84c63c542e493";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>




</body>

</html>